"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[761],{3905:(e,n,t)=>{t.d(n,{Zo:()=>o,kt:()=>s});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var u=a.createContext({}),m=function(e){var n=a.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},o=function(e){var n=m(e.components);return a.createElement(u.Provider,{value:n},e.children)},d="mdxType",k={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},c=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,u=e.parentName,o=p(e,["components","mdxType","originalType","parentName"]),d=m(t),c=r,s=d["".concat(u,".").concat(c)]||d[c]||k[c]||l;return t?a.createElement(s,i(i({ref:n},o),{},{components:t})):a.createElement(s,i({ref:n},o))}));function s(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,i=new Array(l);i[0]=c;var p={};for(var u in n)hasOwnProperty.call(n,u)&&(p[u]=n[u]);p.originalType=e,p[d]="string"==typeof e?e:r,i[1]=p;for(var m=2;m<l;m++)i[m]=t[m];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}c.displayName="MDXCreateElement"},4470:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>p,toc:()=>m});var a=t(7462),r=(t(7294),t(3905));const l={sidebar_position:17},i="Java \u591a\u7ebf\u7a0b",p={unversionedId:"Java/MultiThreading",id:"Java/MultiThreading",title:"Java \u591a\u7ebf\u7a0b",description:"\u7a0b\u5e8f\u3001\u8fdb\u7a0b\u3001\u7ebf\u7a0b",source:"@site/docs/Java/MultiThreading.md",sourceDirName:"Java",slug:"/Java/MultiThreading",permalink:"/docs/Java/MultiThreading",draft:!1,tags:[],version:"current",sidebarPosition:17,frontMatter:{sidebar_position:17},sidebar:"tutorialSidebar",previous:{title:"Java IO \u6d41",permalink:"/docs/Java/IO"},next:{title:"Java \u7f51\u7edc\u7f16\u7a0b",permalink:"/docs/Java/NetworkProgramming"}},u={},m=[{value:"\u7a0b\u5e8f\u3001\u8fdb\u7a0b\u3001\u7ebf\u7a0b",id:"\u7a0b\u5e8f\u8fdb\u7a0b\u7ebf\u7a0b",level:2},{value:"\u591a\u7ebf\u7a0b",id:"\u591a\u7ebf\u7a0b",level:2},{value:"\u7ebf\u7a0b\u7684\u8c03\u5ea6",id:"\u7ebf\u7a0b\u7684\u8c03\u5ea6",level:3},{value:"Thread",id:"thread",level:3},{value:"\u7ebf\u7a0b\u7684\u4f18\u5148\u7ea7",id:"\u7ebf\u7a0b\u7684\u4f18\u5148\u7ea7",level:3},{value:"\u7ebf\u7a0b\u7684\u5206\u7c7b",id:"\u7ebf\u7a0b\u7684\u5206\u7c7b",level:3},{value:"\u7ebf\u7a0b\u7684\u751f\u547d\u5468\u671f",id:"\u7ebf\u7a0b\u7684\u751f\u547d\u5468\u671f",level:3},{value:"\u7ebf\u7a0b\u7684\u521b\u5efa\u548c\u4f7f\u7528",id:"\u7ebf\u7a0b\u7684\u521b\u5efa\u548c\u4f7f\u7528",level:3},{value:"\u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u4e00\uff1a\u7ee7\u627f Thread \u7c7b",id:"\u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u4e00\u7ee7\u627f-thread-\u7c7b",level:4},{value:"\u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u4e8c\uff1a\u5b9e\u73b0 Runnable \u63a5\u53e3",id:"\u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u4e8c\u5b9e\u73b0-runnable-\u63a5\u53e3",level:4},{value:"\u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u4e09\uff1a\u5b9e\u73b0 Callable \u63a5\u53e3",id:"\u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u4e09\u5b9e\u73b0-callable-\u63a5\u53e3",level:4},{value:"\u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u56db\uff1a\u4f7f\u7528\u7ebf\u7a0b\u6c60",id:"\u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u56db\u4f7f\u7528\u7ebf\u7a0b\u6c60",level:4},{value:"\u7ebf\u7a0b\u7684\u540c\u6b65",id:"\u7ebf\u7a0b\u7684\u540c\u6b65",level:3},{value:"\u7ebf\u7a0b\u7684\u6b7b\u9501\u95ee\u9898",id:"\u7ebf\u7a0b\u7684\u6b7b\u9501\u95ee\u9898",level:3},{value:"Lock",id:"lock",level:3},{value:"\u7ebf\u7a0b\u7684\u901a\u4fe1",id:"\u7ebf\u7a0b\u7684\u901a\u4fe1",level:3},{value:"\u7ecf\u5178\u4f8b\u9898:\u751f\u4ea7\u8005/\u6d88\u8d39\u8005\u95ee\u9898",id:"\u7ecf\u5178\u4f8b\u9898\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u95ee\u9898",level:4}],o={toc:m};function d(e){let{components:n,...l}=e;return(0,r.kt)("wrapper",(0,a.Z)({},o,l,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"java-\u591a\u7ebf\u7a0b"},"Java \u591a\u7ebf\u7a0b"),(0,r.kt)("h2",{id:"\u7a0b\u5e8f\u8fdb\u7a0b\u7ebf\u7a0b"},"\u7a0b\u5e8f\u3001\u8fdb\u7a0b\u3001\u7ebf\u7a0b"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7a0b\u5e8f(program)\u662f\u4e3a\u5b8c\u6210\u7279\u5b9a\u4efb\u52a1\u3001\u7528\u67d0\u79cd\u8bed\u8a00\u7f16\u5199\u7684\u4e00\u7ec4\u6307\u4ee4\u7684\u96c6\u5408\u3002\u5373\u6307\u4e00\u6bb5\u9759\u6001\u7684\u4ee3\u7801\uff0c\u9759\u6001\u5bf9\u8c61\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8fdb\u7a0b(process)\u662f\u7a0b\u5e8f\u7684\u4e00\u6b21\u6267\u884c\u8fc7\u7a0b\uff0c\u6216\u662f\u6b63\u5728\u8fd0\u884c\u7684\u4e00\u4e2a\u7a0b\u5e8f\u3002"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u662f\u4e00\u4e2a\u52a8\u6001\u7684\u8fc7\u7a0b:\u6709\u5b83\u81ea\u8eab\u7684\u4ea7\u751f\u3001\u5b58\u5728\u548c\u6d88\u4ea1\u7684\u8fc7\u7a0b\uff08\u751f\u547d\u5468\u671f\uff09",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5982:\u8fd0\u884c\u4e2d\u7684QQ\uff0c\u8fd0\u884c\u4e2d\u7684MP3\u64ad\u653e\u5668"))),(0,r.kt)("li",{parentName:"ul"},"\u7a0b\u5e8f\u662f\u9759\u6001\u7684\uff0c\u8fdb\u7a0b\u662f\u52a8\u6001\u7684"),(0,r.kt)("li",{parentName:"ul"},"\u8fdb\u7a0b\u4f5c\u4e3a\u8d44\u6e90\u5206\u914d\u7684\u5355\u4f4d\uff0c\u7cfb\u7edf\u5728\u8fd0\u884c\u65f6\u4f1a\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u5206\u914d\u4e0d\u540c\u7684\u5185\u5b58\u533a\u57df"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7ebf\u7a0b(thread)\uff0c\u8fdb\u7a0b\u53ef\u8fdb\u4e00\u6b65\u7ec6\u5316\u4e3a\u7ebf\u7a0b\uff0c\u662f\u4e00\u4e2a\u7a0b\u5e8f\u5185\u90e8\u7684\u4e00\u6761\u6267\u884c\u8def\u5f84"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u82e5\u4e00\u4e2a\u8fdb\u7a0b\u540c\u4e00\u65f6\u95f4\u5e76\u884c\u6267\u884c\u591a\u4e2a\u7ebf\u7a0b\uff0c\u5c31\u662f\u652f\u6301\u591a\u7ebf\u7a0b\u7684"),(0,r.kt)("li",{parentName:"ul"},"\u7ebf\u7a0b\u4f5c\u4e3a\u8c03\u5ea6\u548c\u6267\u884c\u7684\u5355\u4f4d\uff0c\u6bcf\u4e2a\u7ebf\u7a0b\u62e5\u6709\u72ec\u7acb\u7684\u8fd0\u884c\u6808\u548c\u7a0b\u5e8f\u8ba1\u6570\u5668(pc)\uff0c\u7ebf\u7a0b\u5207\u6362\u7684\u5f00\u9500\u5c0f"),(0,r.kt)("li",{parentName:"ul"},"\u4e00\u4e2a\u8fdb\u7a0b\u4e2d\u7684\u591a\u4e2a\u7ebf\u7a0b\u5171\u4eab\u76f8\u540c\u7684\u5185\u5b58\u5355\u5143/\u5185\u5b58\u5730\u5740\u7a7a\u95f4",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5b83\u4eec\u4ece\u540c\u4e00\u5806\u4e2d\u5206\u914d\u5bf9\u8c61\uff0c\u53ef\u4ee5\u8bbf\u95ee\u76f8\u540c\u7684\u53d8\u91cf\u548c\u5bf9\u8c61\u3002\u8fd9\u5c31\u4f7f\u5f97\u7ebf\u7a0b\u95f4\u901a\u4fe1\u66f4\u7b80\u4fbf\u3001\u9ad8\u6548\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u4f46\u591a\u4e2a\u7ebf\u7a0b\u64cd\u4f5c\u5171\u4eab\u7684\u7cfb\u7edf\u8d44\u6e90\u53ef\u80fd\u5c31\u4f1a\u5e26\u6765\u5b89\u5168\u7684\u9690\u60a3"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5355\u6838 CPU \u548c\u591a\u6838 CPU \u7684\u7406\u89e3"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5355\u6838CPU\uff0c\u5176\u5b9e\u662f\u4e00\u79cd\u5047\u7684\u591a\u7ebf\u7a0b\uff0c\u56e0\u4e3a\u5728\u4e00\u4e2a\u65f6\u95f4\u5355\u5143\u5185\uff0c\u4e5f\u53ea\u80fd\u6267\u884c\u4e00\u4e2a\u7ebf\u7a0b\u7684\u4efb\u52a1\u3002",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4f8b\u5982:\u867d\u7136\u6709\u591a\u8f66\u9053\uff0c\u4f46\u662f\u6536\u8d39\u7ad9\u53ea\u6709\u4e00\u4e2a\u5de5\u4f5c\u4eba\u5458\u5728\u6536\u8d39\uff0c\u53ea\u6709\u6536\u4e86\u8d39\u624d\u80fd\u901a\u8fc7\uff0c\u90a3\u4e48CPU\u5c31\u597d\u6bd4\u6536\u8d39\u4eba\u5458\u3002\u5982\u679c\u6709\u67d0\u4e2a\u4eba\u4e0d\u60f3\u4ea4\u94b1\uff0c\u90a3\u4e48\u6536\u8d39\u4eba\u5458\u53ef\u4ee5\u628a\u4ed6\u201c\u6302\u8d77\u201d(\u667e\u7740\u4ed6\uff0c\u7b49\u4ed6\u60f3\u901a\u4e86\uff0c\u51c6\u5907\u597d\u4e86\u94b1\uff0c\u518d\u53bb\u6536\u8d39)\u3002\u4f46\u662f\u56e0\u4e3a CPU \u65f6\u95f4\u5355\u5143\u7279\u522b\u77ed\uff0c\u56e0\u6b64\u611f\u89c9\u4e0d\u51fa\u6765\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u662f\u591a\u6838\u7684\u8bdd\uff0c\u624d\u80fd\u66f4\u597d\u7684\u53d1\u6325\u591a\u7ebf\u7a0b\u7684\u6548\u7387(\u73b0\u5728\u7684\u670d\u52a1\u5668\u90fd\u662f\u591a\u6838\u7684)"),(0,r.kt)("li",{parentName:"ul"},"\u4e00\u4e2a Java \u5e94\u7528\u7a0b\u5e8f java.exe\uff0c\u5176\u5b9e\u81f3\u5c11\u6709\u4e09\u4e2a\u7ebf\u7a0b: ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"main()")," \u4e3b\u7ebf\u7a0b"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"gc()")," \u5783\u573e\u56de\u6536\u7ebf\u7a0b"),(0,r.kt)("li",{parentName:"ul"},"\u5f02\u5e38\u5904\u7406\u7ebf\u7a0b\u3002\u5f53\u7136\u5982\u679c\u53d1\u751f\u5f02\u5e38\uff0c\u4f1a\u5f71\u54cd\u4e3b\u7ebf\u7a0b"))))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5e76\u884c\u4e0e\u5e76\u53d1"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5e76\u884c:\u591a\u4e2a CPU \u540c\u65f6\u6267\u884c\u591a\u4e2a\u4efb\u52a1",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6bd4\u5982:\u591a\u4e2a\u4eba\u540c\u65f6\u505a\u4e0d\u540c\u7684\u4e8b"))),(0,r.kt)("li",{parentName:"ul"},"\u5e76\u53d1:\u4e00\u4e2a CPU(\u91c7\u7528\u65f6\u95f4\u7247)\u540c\u65f6\u6267\u884c\u591a\u4e2a\u4efb\u52a1\u3002",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6bd4\u5982:\u79d2\u6740\u3001\u591a\u4e2a\u4eba\u505a\u540c\u4e00\u4ef6\u4e8b")))))),(0,r.kt)("h2",{id:"\u591a\u7ebf\u7a0b"},"\u591a\u7ebf\u7a0b"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f55\u65f6\u9700\u8981\u591a\u7ebf\u7a0b"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u7a0b\u5e8f\u9700\u8981\u540c\u65f6\u6267\u884c\u4e24\u4e2a\u6216\u591a\u4e2a\u4efb\u52a1\uff0c"),(0,r.kt)("li",{parentName:"ul"},"\u7a0b\u5e8f\u9700\u8981\u5b9e\u73b0\u4e00\u4e9b\u9700\u8981\u7b49\u5f85\u7684\u4efb\u52a1\u65f6\uff0c\u5982\u7528\u6237\u8f93\u5165\u3001\u6587\u4ef6\u8bfb\u5199\u64cd\u4f5c\u3001\u7f51\u7edc\u64cd\u4f5c\u3001\u641c\u7d22\u7b49"),(0,r.kt)("li",{parentName:"ul"},"\u9700\u8981\u4e00\u4e9b\u540e\u53f0\u8fd0\u884c\u7684\u7a0b\u5e8f\u65f6"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528\u591a\u7ebf\u7a0b\u7684\u4f18\u70b9"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u80cc\u666f:\u4ee5\u5355\u6838 CPU \u4e3a\u4f8b\uff0c\u53ea\u7528\u5355\u4e2a\u7ebf\u7a0b\u5148\u540e\u5b8c\u6210\u591a\u4e2a\u4efb\u52a1(\u8c03\u7528\u591a\u4e2a\u65b9\u6cd5)\uff0c\u80af\u5b9a\u6bd4\u7528\u591a\u4e2a\u7ebf\u7a0b\u6765\u5b8c\u6210\u7528\u7684\u65f6\u95f4\u66f4\u77ed\uff0c\u4e3a\u4f55\u4ecd\u9700\u591a\u7ebf\u7a0b\u5462?"),(0,r.kt)("li",{parentName:"ul"},"\u591a\u7ebf\u7a0b\u7a0b\u5e8f\u7684\u4f18\u70b9:",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u63d0\u9ad8\u5e94\u7528\u7a0b\u5e8f\u7684\u54cd\u5e94\u3002\u5bf9\u56fe\u5f62\u5316\u754c\u9762\u66f4\u6709\u610f\u4e49\uff0c\u53ef\u589e\u5f3a\u7528\u6237\u4f53\u9a8c"),(0,r.kt)("li",{parentName:"ol"},"\u63d0\u9ad8\u8ba1\u7b97\u673a\u7cfb\u7edf CPU \u7684\u5229\u7528\u7387"),(0,r.kt)("li",{parentName:"ol"},"\u6539\u5584\u7a0b\u5e8f\u7ed3\u6784\u3002\u5c06\u65e2\u957f\u53c8\u590d\u6742\u7684\u8fdb\u7a0b\u5206\u4e3a\u591a\u4e2a\u7ebf\u7a0b\uff0c\u72ec\u7acb\u8fd0\u884c\uff0c\u5229\u4e8e\u7406\u89e3\u548c\u4fee\u6539"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"JVM \u5185\u5b58\u7ed3\u6784\u56fe\n",(0,r.kt)("img",{alt:"JVM \u5185\u5b58\u7ed3\u6784\u56fe",src:t(1314).Z,width:"1363",height:"755"})))),(0,r.kt)("h3",{id:"\u7ebf\u7a0b\u7684\u8c03\u5ea6"},"\u7ebf\u7a0b\u7684\u8c03\u5ea6"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7ebf\u7a0b\u8c03\u5ea6\u7b56\u7565"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u65f6\u95f4\u7247"),(0,r.kt)("li",{parentName:"ul"},"\u62a2\u5360\u5f0f:\u9ad8\u4f18\u5148\u7ea7\u7684\u7ebf\u7a0b\u62a2\u5360 CPU"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Java \u7a0b\u5e8f\u7ebf\u7a0b\u7684\u8c03\u5ea6\u65b9\u6cd5"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u540c\u4f18\u5148\u7ea7\u7ebf\u7a0b\u7ec4\u6210\u5148\u8fdb\u5148\u51fa\u961f\u5217(\u5148\u5230\u5148\u670d\u52a1)\uff0c\u4f7f\u7528\u65f6\u95f4\u7247\u7b56\u7565"),(0,r.kt)("li",{parentName:"ul"},"\u5bf9\u9ad8\u4f18\u5148\u7ea7\uff0c\u4f7f\u7528\u4f18\u5148\u8c03\u5ea6\u7684\u62a2\u5360\u5f0f\u7b56\u7565")))),(0,r.kt)("h3",{id:"thread"},"Thread"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7ebf\u7a0b\u7684\u521b\u5efa\u548c\u542f\u52a8"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Java \u8bed\u8a00\u7684 JVM \u5141\u8bb8\u7a0b\u5e8f\u8fd0\u884c\u591a\u4e2a\u7ebf\u7a0b\uff0c\u5b83\u901a\u8fc7 java.lang.Thread \u7c7b\u6765\u4f53\u73b0"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Thread \u7c7b\u7684\u7279\u6027"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u662f\u901a\u8fc7\u67d0\u4e2a\u7279\u5b9a Thread \u5bf9\u8c61\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"run()")," \u65b9\u6cd5\u6765\u5b8c\u6210\u64cd\u4f5c\u7684\uff0c\u7ecf\u5e38\u628a ",(0,r.kt)("inlineCode",{parentName:"li"},"run()")," \u65b9\u6cd5\u7684\u4e3b\u4f53\u79f0\u4e3a\u7ebf\u7a0b\u4f53"),(0,r.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u8be5 Thread \u5bf9\u8c61\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"start()")," \u65b9\u6cd5\u6765\u542f\u52a8\u8fd9\u4e2a\u7ebf\u7a0b\uff0c\u800c\u975e\u76f4\u63a5\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"run()")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Thread \u7c7b\u7684\u65b9\u6cd5"),(0,r.kt)("table",{parentName:"li"},(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u65b9\u6cd5"),(0,r.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"void start()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u542f\u52a8\u7ebf\u7a0b\uff0c\u5e76\u6267\u884c\u5bf9\u8c61\u7684 run() \u65b9\u6cd5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"run()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u7ebf\u7a0b\u5728\u88ab\u8c03\u5ea6\u65f6\u6267\u884c\u7684\u64cd\u4f5c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"String getName()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8fd4\u56de\u7ebf\u7a0b\u7684\u540d\u79f0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"void setName(String name)"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u8be5\u7ebf\u7a0b\u540d\u79f0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"static Thread currentThread()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8fd4\u56de\u5f53\u524d\u7ebf\u7a0b\u3002\u5728 Thread \u5b50\u7c7b\u4e2d\u5c31\u662fthis\uff0c\u901a\u5e38\u7528\u4e8e\u4e3b\u7ebf\u7a0b\u548cRunnable \u5b9e\u73b0\u7c7b")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"static void yield()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u7ebf\u7a0b\u8ba9\u6b65\u3002\u6682\u505c\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u7ebf\u7a0b\uff0c\u628a\u6267\u884c\u673a\u4f1a\u8ba9\u7ed9\u4f18\u5148\u7ea7\u76f8\u540c\u6216\u66f4\u9ad8\u7684\u7ebf\u7a0b\uff1b\u82e5\u961f\u5217\u4e2d\u6ca1\u6709\u540c\u4f18\u5148\u7ea7\u7684\u7ebf\u7a0b\uff0c\u5ffd\u7565\u6b64\u65b9\u6cd5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"join()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5f53\u67d0\u4e2a\u7a0b\u5e8f\u6267\u884c\u6d41\u4e2d\u8c03\u7528\u5176\u4ed6\u7ebf\u7a0b\u7684 ",(0,r.kt)("inlineCode",{parentName:"td"},"join()")," \u65b9\u6cd5\u65f6\uff0c\u8c03\u7528\u7ebf\u7a0b\u5c06\u88ab\u963b\u585e\uff0c\u76f4\u5230 ",(0,r.kt)("inlineCode",{parentName:"td"},"join()")," \u65b9\u6cd5\u52a0\u5165\u7684 join \u7ebf\u7a0b\u6267\u884c\u5b8c\u4e3a\u6b62\uff1b\u4f4e\u4f18\u5148\u7ea7\u7684\u7ebf\u7a0b\u4e5f\u53ef\u4ee5\u83b7\u5f97\u6267\u884c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"static void sleep(long millis)"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4ee4\u5f53\u524d\u6d3b\u52a8\u7ebf\u7a0b\u5728\u6307\u5b9a\u65f6\u95f4\u6bb5\u5185\u653e\u5f03\u5bf9CPU\u63a7\u5236,\u4f7f\u5176\u4ed6\u7ebf\u7a0b\u6709\u673a\u4f1a\u88ab\u6267\u884c,\u65f6\u95f4\u5230\u540e\u91cd\u6392\u961f\uff1b\u629b\u51fa InterruptedException \u5f02\u5e38")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"stop()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5f3a\u5236\u7ebf\u7a0b\u751f\u547d\u671f\u7ed3\u675f\uff0c\u4e0d\u63a8\u8350\u4f7f\u7528")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"boolean isAlive()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8fd4\u56de boolean\uff0c\u5224\u65ad\u7ebf\u7a0b\u662f\u5426\u8fd8\u6d3b\u7740")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"getPriority()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8fd4\u56de\u7ebf\u7a0b\u7684\u4f18\u5148\u7ea7")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"setPriority(int newPriority)"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u7ebf\u7a0b\u7684\u4f18\u5148\u7ea7")))),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u6d4b\u8bd5Thread\u7c7b\u4e2d\u7684\u5e38\u7528\u65b9\u6cd5\n * @author Lhk\n *\n */\npublic class ThreadMethordTest {\n    public static void main(String[] args) {\n        MyThread3 thread3 = new MyThread3();\n        thread3.setName("\u7ebf\u7a0b1");\n        thread3.start();\n        \n        //\u7ed9\u4e3b\u7ebf\u7a0b\u8bbe\u7f6e\u540d\u5b57\n        Thread.currentThread().setName("\u4e3b\u7ebf\u7a0b");\n        for(int i=0;i<100;i++){\n            if(i%2==0){\n                System.out.println(Thread.currentThread().getName()+":"+i);\n            }\n            if(i==20){\n                try {\n                    thread3.join();\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            }\n        }\n        MyThread3 thread4 = new MyThread3("\u7ebf\u7a0b2");\n        thread4.start();\n        System.out.println(thread4.isAlive());\n    }\n}\n\nclass MyThread3 extends Thread{\n    @Override\n    public void run() {\n        for(int i=0;i<100;i++){\n            if(i%2==0){\n                try {\n                    sleep(100);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                System.out.println(Thread.currentThread().getName()+":"+i);\n            }\n            if(i%20==0){\n                Thread.yield();//\u7ebf\u7a0b\u8ba9\u6b65\n            }\n        }\n    }\n    \n    public MyThread3(String name){\n        super(name);\n    }\n\n    public MyThread3() {\n        \n    }\n}\n')))),(0,r.kt)("h3",{id:"\u7ebf\u7a0b\u7684\u4f18\u5148\u7ea7"},"\u7ebf\u7a0b\u7684\u4f18\u5148\u7ea7"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Thread \u7c7b\u4e2d\u6709\u4e09\u4e2a\u5e38\u91cf\uff0c\u5206\u522b\u8868\u793a\u7ebf\u7a0b\u7684\u4f18\u5148\u7ea7\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MIN PRIORITY"),":1"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"NORM PRIORITY"),":5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"MAX PRIORITY"),":10"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Thread \u7c7b\u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"setPriority()")," \u65b9\u6cd5\u7528\u4e8e\u8bbe\u7f6e\u7ebf\u7a0b\u7684\u4f18\u5148\u7ea7\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"getPriority()")," \u65b9\u6cd5\u7528\u4e8e\u83b7\u53d6\u7ebf\u7a0b\u7684\u4f18\u5148\u7ea7"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u8bf4\u660e",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u7ebf\u7a0b\u521b\u5efa\u65f6\u7ee7\u627f\u7236\u7ebf\u7a0b\u7684\u4f18\u5148\u7ea7"),(0,r.kt)("li",{parentName:"ul"},"\u4f4e\u4f18\u5148\u7ea7\u53ea\u662f\u83b7\u5f97\u8c03\u5ea6\u7684\u6982\u7387\u4f4e\uff0c\u5e76\u975e\u4e00\u5b9a\u662f\u5728\u9ad8\u4f18\u5148\u7ea7\u7ebf\u7a0b\u4e4b\u540e\u624d\u88ab\u8c03\u7528",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u9ad8\u4f18\u5148\u7ea7\u7684\u7ebf\u7a0b\u8981\u62a2\u5360\u4f4e\u4f18\u5148\u7ea7\u7ebf\u7a0b cpu \u7684\u6267\u884c\u6743\u3002\u4f46\u662f\u53ea\u662f\u4ece\u6982\u7387\u4e0a\u8bb2\uff0c\u9ad8\u4f18\u5148\u7ea7\u7684\u7ebf\u7a0b\u9ad8\u6982\u7387\u7684\u60c5\u51b5\u4e0b\u88ab\u6267\u884c\uff0c\u5e76\u4e0d\u610f\u5473\u7740\u53ea\u6709\u5f53\u9ad8\u4f18\u5148\u7ea7\u7684\u7ebf\u7a0b\u6267\u884c\u5b8c\u4ee5\u540e\uff0c\u4f4e\u4f18\u5148\u7ea7\u7684\u7ebf\u7a0b\u624d\u6267\u884c")))))),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class ThreadMethordTest {\n    public static void main(String[] args) {\n        MyThread3 thread3 = new MyThread3();\n        thread3.setName("\u7ebf\u7a0b1");//\u8bbe\u7f6e\u7ebf\u7a0b\u540d\u5b57\n        thread3.setPriority(Thread.MAX_PRIORITY);//\u8bbe\u7f6e\u7ebf\u7a0b\u4f18\u5148\u7ea7\n        thread3.start();\n        \n        //\u7ed9\u4e3b\u7ebf\u7a0b\u8bbe\u7f6e\u540d\u5b57\n        Thread.currentThread().setName("\u4e3b\u7ebf\u7a0b");\n        Thread.currentThread().setPriority(Thread.MIN_PRIORITY);\n        for(int i=0;i<100;i++){\n            if(i%2==0){\n                System.out.println(Thread.currentThread().getName()+"\uff1a\u4f18\u5148\u7ea7\uff1a"+Thread.currentThread().getPriority()+":"+i);\n            }\n        }\n        \n        MyThread3 thread4 = new MyThread3("\u7ebf\u7a0b2");\n        thread4.start();\n        System.out.println(thread4.isAlive());\n    }\n}\n\nclass MyThread3 extends Thread{\n    @Override\n    public void run() {\n        for(int i=0;i<100;i++){\n            if(i%2==0){\n                System.out.println(Thread.currentThread().getName()+"\uff1a\u4f18\u5148\u7ea7\uff1a"+getPriority()+":"+i);\n            }\n            if(i%20==0){\n                Thread.yield();//\u7ebf\u7a0b\u8ba9\u6b65\n            }\n        }\n    }\n    \n    public MyThread3(String name){\n        super(name);\n    }\n\n    public MyThread3() {\n        \n    }\n}\n')))),(0,r.kt)("h3",{id:"\u7ebf\u7a0b\u7684\u5206\u7c7b"},"\u7ebf\u7a0b\u7684\u5206\u7c7b"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Java \u4e2d\u7684\u7ebf\u7a0b\u5206\u4e3a\u4e24\u7c7b:\u4e00\u79cd\u662f\u5b88\u62a4\u7ebf\u7a0b\uff0c\u4e00\u79cd\u662f\u7528\u6237\u7ebf\u7a0b"),(0,r.kt)("li",{parentName:"ul"},"\u5b83\u4eec\u5728\u51e0\u4e4e\u6bcf\u4e2a\u65b9\u9762\u90fd\u662f\u76f8\u540c\u7684\uff0c\u552f\u4e00\u7684\u533a\u522b\u662f\u5224\u65ad JVM \u4f55\u65f6\u79bb\u5f00"),(0,r.kt)("li",{parentName:"ul"},"\u5b88\u62a4\u7ebf\u7a0b\u662f\u7528\u6765\u670d\u52a1\u7528\u6237\u7ebf\u7a0b\u7684\uff0c\u901a\u8fc7\u5728 ",(0,r.kt)("inlineCode",{parentName:"li"},"start()")," \u65b9\u6cd5\u524d\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"thread.setDaemon(true)")," \u53ef\u4ee5\u628a\u4e00\u4e2a\u7528\u6237\u7ebf\u7a0b\u53d8\u6210\u4e00\u4e2a\u5b88\u62a4\u7ebf\u7a0b"),(0,r.kt)("li",{parentName:"ul"},"Java \u5783\u573e\u56de\u6536\u5c31\u662f\u4e00\u4e2a\u5178\u578b\u7684\u5b88\u62a4\u7ebf\u7a0b"),(0,r.kt)("li",{parentName:"ul"},"\u82e5 JVM \u4e2d\u90fd\u662f\u5b88\u62a4\u7ebf\u7a0b\uff0c\u5f53\u524d JVM \u5c06\u9000\u51fa")),(0,r.kt)("h3",{id:"\u7ebf\u7a0b\u7684\u751f\u547d\u5468\u671f"},"\u7ebf\u7a0b\u7684\u751f\u547d\u5468\u671f"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"JDK \u4e2d\u7528 Thread.State \u7c7b\u5b9a\u4e49\u4e86\u7ebf\u7a0b\u7684\u51e0\u79cd\u72b6\u6001"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u8981\u60f3\u5b9e\u73b0\u591a\u7ebf\u7a0b\uff0c\u5fc5\u987b\u5728\u4e3b\u7ebf\u7a0b\u4e2d\u521b\u5efa\u65b0\u7684\u7ebf\u7a0b\u5bf9\u8c61\u3002Java \u8bed\u8a00\u4f7f\u7528 Thread \u53ca\u5176\u5b50\u7c7b\u7684\u5bf9\u8c61\u6765\u8868\u793a\u7ebf\u7a0b\uff0c\u5728\u5b83\u7684\u4e00\u4e2a\u5b8c\u6574\u7684\u751f\u547d\u5468\u671f\u4e2d\u901a\u5e38\u8981\u7ecf\u5386\u5982\u4e0b\u7684\u79cd\u72b6\u6001:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u65b0\u5efa"),":\u5f53\u4e00\u4e2a Thread \u7c7b\u6216\u5176\u5b50\u7c7b\u7684\u5bf9\u8c61\u88ab\u58f0\u660e\u5e76\u521b\u5efa\u65f6\uff0c\u65b0\u751f\u7684\u7ebf\u7a0b\u5bf9\u8c61\u5904\u4e8e\u65b0\u5efa\u72b6\u6001"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u5c31\u7eea"),":\u5904\u4e8e\u65b0\u5efa\u72b6\u6001\u7684\u7ebf\u7a0b\u88ab ",(0,r.kt)("inlineCode",{parentName:"li"},"start()")," \u540e\uff0c\u5c06\u8fdb\u5165\u7ebf\u7a0b\u961f\u5217\u7b49\u5f85 CPU \u65f6\u95f4\u7247\uff0c\u6b64\u65f6\u5b83\u5177\u5907\u4e86\u8fd0\u884c\u7684\u6761\u4ef6\uff0c\u53ea\u662f\u6ca1\u5206\u914d\u5230CPU\u8d44\u6e90"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u8fd0\u884c"),":\u5f53\u5c31\u7eea\u7684\u7ebf\u7a0b\u88ab\u8c03\u5ea6\u5e76\u83b7\u5f97 CPU \u8d44\u6e90\u65f6,\u4fbf\u8fdb\u5165\u8fd0\u884c\u72b6\u6001\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"run()")," \u65b9\u6cd5\u5b9a\u4e49\u4e86\u7ebf\u7a0b\u7684\u64cd\u4f5c\u548c\u529f\u80fd"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u963b\u585e"),":\u5728\u67d0\u79cd\u7279\u6b8a\u60c5\u51b5\u4e0b\uff0c\u88ab\u4eba\u4e3a\u6302\u8d77\u6216\u6267\u884c\u8f93\u5165\u8f93\u51fa\u64cd\u4f5c\u65f6\uff0c\u8ba9\u51fa CPU \u5e76\u4e34\u65f6\u4e2d\u6b62\u81ea\u5df1\u7684\u6267\u884c\uff0c\u8fdb\u5165\u963b\u585e\u72b6\u6001"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u6b7b\u4ea1"),":\u7ebf\u7a0b\u5b8c\u6210\u4e86\u5b83\u7684\u5168\u90e8\u5de5\u4f5c\u6216\u7ebf\u7a0b\u88ab\u63d0\u524d\u5f3a\u5236\u6027\u5730\u4e2d\u6b62\u6216\u51fa\u73b0\u5f02\u5e38\u5bfc\u81f4\u7ed3\u675f")))),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("img",{alt:"\u7ebf\u7a0b\u7684\u751f\u547d\u5468\u671f",src:t(7077).Z,width:"1177",height:"511"})))),(0,r.kt)("h3",{id:"\u7ebf\u7a0b\u7684\u521b\u5efa\u548c\u4f7f\u7528"},"\u7ebf\u7a0b\u7684\u521b\u5efa\u548c\u4f7f\u7528"),(0,r.kt)("h4",{id:"\u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u4e00\u7ee7\u627f-thread-\u7c7b"},"\u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u4e00\uff1a\u7ee7\u627f Thread \u7c7b"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u521b\u5efa\u4e00\u4e2a\u7ee7\u627f\u4e8e Thread \u7c7b\u7684\u5b50\u7c7b"),(0,r.kt)("li",{parentName:"ol"},"\u91cd\u5199 Thread \u7c7b\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"run()")),(0,r.kt)("li",{parentName:"ol"},"\u521b\u5efa Thread \u7c7b\u7684\u5b50\u7c7b\u5bf9\u8c61"),(0,r.kt)("li",{parentName:"ol"},"\u901a\u8fc7\u6b64\u5bf9\u8c61\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"start()"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u4f8b\u5b50\uff1a\u904d\u5386100\u4ee5\u5185\u6240\u6709\u7684\u5076\u6570\n * @author Lhk\n *\n */\nclass MyThread extends Thread{\n    @Override\n    public void run() {\n        for(int i=0;i<100;i++){\n            if(i%2==0){\n                System.out.println(i);\n            }\n        }\n    }\n}\n\npublic class Thread_Test_01 {\n    public static void main(String[] args) {\n        MyThread myThread=new MyThread();\n        myThread.start();//\u542f\u52a8\u65b0\u7ebf\u7a0b\n        //\u5728\u4e3b\u7ebf\u7a0b\u4e2d\u6267\u884c\n        for(int i=0;i<100;i++){\n            if(i%2==0){\n                System.out.println("********main()******");\n            }\n        }\n    }\n    \n}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u4f8b\u5b50\uff1a\u521b\u5efa3\u4e2a\u7a97\u53e3\u4e70\u7968\uff0c\u603b\u7968\u6570\u4e3a100\u5f20\n * \u4f7f\u7528\u7ee7\u627fThread\u7c7b\u7684\u65b9\u5f0f\u5b9e\u73b0\n * \u5b58\u5728\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\n * @author Lhk\n *\n */\nclass Window extends Thread{\n    private static int total=100;\n    \n    @Override\n    public void run() {\n        while(true){\n            if(total > 0){\n                System.out.println(getName()+":\u5356\u7968\uff0c\u7968\u53f7\uff1a"+total);\n                total--;\n            }else{\n                break;\n            }\n        }\n    }\n}\n\npublic class WindowTest {\n    public static void main(String[] args) {\n        Window w1=new Window();\n        Window w2=new Window();\n        Window w3=new Window();\n        \n        w1.setName("\u7a97\u53e3\u4e00");\n        w2.setName("\u7a97\u53e3\u4e8c");\n        w3.setName("\u7a97\u53e3\u4e09");\n\n        w1.start();\n        w2.start();\n        w3.start();\n    }\n}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u4f8b\u5b50\uff1a\u521b\u5efa\u4e24\u4e2a\u5206\u7ebf\u7a0b\uff0c\u4e00\u4e2a\u904d\u5386100\u4ee5\u5185\u7684\u5076\u6570\uff0c\u4e00\u4e2a\u904d\u5386100\u4ee5\u5185\u7684\u5947\u6570\n * @author Lhk\n *\n */\npublic class ThreadDemo {\n    public static void main(String[] args) {\n        //\u521b\u5efaThread\u7c7b\u7684\u533f\u540d\u5b50\u7c7b\u7684\u65b9\u5f0f\n        new Thread(){\n            public void run() {\n                for(int i=0;i<100;i++){\n                    if(i%2==0){\n                        System.out.println(Thread.currentThread().getName()+":"+i);\n                    }\n                }\n            };\n        }.start();\n        \n        new Thread(){\n            public void run() {\n                for(int i=0;i<100;i++){\n                    if(i%2!=0){\n                        System.out.println(Thread.currentThread().getName()+":"+i);\n                    }\n                }\n            };\n        }.start();\n    }\n}\n\nclass MyThread1 extends Thread{\n    @Override\n    public void run() {\n        for(int i=0;i<100;i++){\n            if(i%2==0){\n                System.out.println(Thread.currentThread().getName()+":"+i);\n            }\n        }\n    }\n}\nclass MyThread2 extends Thread{\n    @Override\n    public void run() {\n        for(int i=0;i<100;i++){\n            if(i%2!=0){\n                System.out.println(Thread.currentThread().getName()+":"+i);\n            }\n        }\n    }\n}\n')),(0,r.kt)("h4",{id:"\u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u4e8c\u5b9e\u73b0-runnable-\u63a5\u53e3"},"\u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u4e8c\uff1a\u5b9e\u73b0 Runnable \u63a5\u53e3"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u521b\u5efa\u4e00\u4e2a\u5b9e\u73b0\u4e86 Runnable \u63a5\u53e3\u7684\u7c7b"),(0,r.kt)("li",{parentName:"ol"},"\u5b9e\u73b0\u7c7b\u53bb\u5b9e\u73b0 Runnable \u4e2d\u7684\u62bd\u8c61\u65b9\u6cd5\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"run()")),(0,r.kt)("li",{parentName:"ol"},"\u521b\u5efa\u5b9e\u73b0\u7c7b\u7684\u5bf9\u8c61"),(0,r.kt)("li",{parentName:"ol"},"\u5c06\u6b64\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u5230 Thread \u7c7b\u7684\u6784\u9020\u5668\u4e2d\uff0c\u521b\u5efa Thread \u7c7b\u7684\u5bf9\u8c61"),(0,r.kt)("li",{parentName:"ol"},"\u901a\u8fc7 Thread \u7c7b\u7684\u5bf9\u8c61\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"start()"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u521b\u5efa\u591a\u7ebf\u7a0b\u65b9\u5f0f\u4e8c\n * @author Lhk\n *\n */\nclass MyThread4 implements Runnable{\n\n    @Override\n    public void run() {\n        for(int i=0;i<100;i++){\n            if(i%2==0){\n                System.out.println(Thread.currentThread().getName()+":"+i);\n            }\n        }\n    }\n}\n\npublic class Thread_Test_02 {\n    public static void main(String[] args) {\n        MyThread4 mt = new MyThread4();\n        Thread t = new Thread(mt);\n        t.setName("\u7ebf\u7a0b1");\n        t.start();\n        \n        //\u518d\u542f\u52a8\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u904d\u5386100\u4ee5\u5185\u7684\u5076\u6570\n        Thread t1 = new Thread(mt);\n        t1.setName("\u7ebf\u7a0b2");\n        t1.start();\n    }\n}\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u4f8b\u5b50\uff1a\u521b\u5efa3\u4e2a\u7a97\u53e3\u4e70\u7968\uff0c\u603b\u7968\u6570\u4e3a100\u5f20\n * \u4f7f\u7528\u5b9e\u73b0 Runnable \u63a5\u53e3\u7684\u65b9\u5f0f\u5b9e\u73b0\n * @author Lhk\n * \u5b58\u5728\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\n */\nclass Window1 implements Runnable{\n    private int ticket=100;\n    @Override\n    public void run() {\n        while (true){\n            if(ticket>0){\n                System.out.println(Thread.currentThread().getName()+":\u5356\u7968\uff0c\u7968\u53f7\u4e3a\uff1a"+ticket);\n                ticket--;\n            }else{\n                break;\n            }\n        }\n    }\n}\n\npublic class WindowTest1 {\n    public static void main(String[] args) {\n        Window1 w1 = new Window1();\n        \n        Thread t1 = new Thread(w1);\n        Thread t2 = new Thread(w1);\n        Thread t3 = new Thread(w1);\n\n        t1.setName("\u7a97\u53e3\u4e00");\n        t2.setName("\u7a97\u53e3\u4e8c");\n        t3.setName("\u7a97\u53e3\u4e09");\n        \n        t1.start();\n        t2.start();\n        t3.start();\n    }\n}\n')),(0,r.kt)("h4",{id:"\u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u4e09\u5b9e\u73b0-callable-\u63a5\u53e3"},"\u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u4e09\uff1a\u5b9e\u73b0 Callable \u63a5\u53e3"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"JDK5.0 \u65b0\u589e\u7ebf\u7a0b\u521b\u5efa\u65b9\u5f0f")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e0e\u4f7f\u7528 Runnable \u76f8\u6bd4\uff0cCallable \u529f\u80fd\u66f4\u5f3a\u5927\u4e9b"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u76f8\u6bd4 ",(0,r.kt)("inlineCode",{parentName:"li"},"run()")," \u65b9\u6cd5\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"call()")," \u53ef\u4ee5\u6709\u8fd4\u56de\u503c"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"call()"),"\u53ef\u4ee5\u629b\u51fa\u5f02\u5e38\uff0c\u88ab\u5916\u9762\u7684\u64cd\u4f5c\u6355\u83b7\uff0c\u83b7\u53d6\u5f02\u5e38\u7684\u4fe1\u606f"),(0,r.kt)("li",{parentName:"ul"},"Callable \u662f\u652f\u6301\u6cdb\u578b\u7684"),(0,r.kt)("li",{parentName:"ul"},"\u5728\u4f7f\u7528\u65f6\u9700\u8981\u501f\u52a9 FutureTask \u7c7b\uff0c\u6bd4\u5982\u83b7\u53d6\u8fd4\u56de\u7ed3\u679c"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Future \u63a5\u53e3 "),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u5bf9\u5177\u4f53 Runnable\u3001Callable \u4efb\u52a1\u7684\u6267\u884c\u7ed3\u679c\u8fdb\u884c\u53d6\u6d88\u3001\u67e5\u8be2\u662f\u5426\u5b8c\u6210\u3001\u83b7\u53d6\u7ed3\u679c\u7b49"),(0,r.kt)("li",{parentName:"ul"},"FutureTask \u662f Future \u63a5\u53e3\u7684\u552f\u4e00\u7684\u5b9e\u73b0\u7c7b "),(0,r.kt)("li",{parentName:"ul"},"FutureTask \u540c\u65f6\u5b9e\u73b0\u4e86 Runnable,Future \u63a5\u53e3",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5b83\u65e2\u53ef\u4ee5\u4f5c\u4e3a Runnable \u88ab\u7ebf\u7a0b\u6267\u884c\uff0c\u53c8\u53ef\u4ee5\u4f5c\u4e3a Future \u5f97\u5230 Callable \u7684\u8fd4\u56de\u503c")))))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'import java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.FutureTask;\n\n/**\n * \u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u4e09\uff1a\u5b9e\u73b0Callable\u63a5\u53e3\n * @author Lhk\n *\n */\n//1.\u521b\u5efa\u4e00\u4e2aCallable\u63a5\u53e3\u7684\u5b9e\u73b0\u7c7b\nclass numThread implements Callable<Integer>{\n    //2.\u5b9e\u73b0call()\uff0c\u5c06\u6b64\u7ebf\u7a0b\u9700\u8981\u6267\u884c\u7684\u64cd\u4f5c\u58f0\u660e\u5728call()\u4e2d\n    @Override\n    public Integer call() throws Exception {\n        int sum=0;\n        for(int i=1;i<=100;i++){\n            if(i%2==0){\n                System.out.println(i);\n                sum += i;\n            }\n        }\n        return sum;\n    }\n}\n\npublic class ThreadNew {\n    public static void main(String[] args) {\n        //3.\u521b\u5efaCallable\u63a5\u53e3\u5b9e\u73b0\u7c7b\u7684\u5bf9\u8c61\n        Callable<Integer> numThread = new numThread();\n        //4.\u5c06Callable\u63a5\u53e3\u5b9e\u73b0\u7c7b\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u5230FutureTask\u6784\u9020\u5668\u4e2d\uff0c\u521b\u5efaFutureTask\u7684\u5bf9\u8c61\n        FutureTask<Integer> futureTask = new FutureTask<>(numThread);\n        //5.\u5c06FutureTask\u7684\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u5230Thread\u7c7b\u7684\u6784\u9020\u5668\u4e2d\uff0c\u521b\u5efaThread\u5bf9\u8c61\uff0c\u5e76\u8c03\u7528start()\n        Thread thread = new Thread(futureTask);\n        thread.start();\n        //6.\u83b7\u53d6Callable\u4e2dcall\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\n        //get()\u8fd4\u56de\u503c\u5373\u4e3aFutureTask\u6784\u9020\u5668\u53c2\u6570Callable\u5b9e\u73b0\u7c7b\u91cd\u5199\u7684call()\u7684\u8fd4\u56de\u503c\n        try {\n            Integer sum = futureTask.get();\n            System.out.println("1-100\u5185\u5076\u6570\u603b\u548c\uff1a"+sum);\n        } catch (InterruptedException | ExecutionException e) {\n            e.printStackTrace();\n        }\n    }\n}\n')),(0,r.kt)("h4",{id:"\u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u56db\u4f7f\u7528\u7ebf\u7a0b\u6c60"},"\u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u56db\uff1a\u4f7f\u7528\u7ebf\u7a0b\u6c60"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e3a\u4f55\u4f7f\u7528\u7ebf\u7a0b\u6c60"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u80cc\u666f:\u7ecf\u5e38\u521b\u5efa\u548c\u9500\u6bc1\u3001\u4f7f\u7528\u91cf\u7279\u522b\u5927\u7684\u8d44\u6e90\uff0c\u6bd4\u5982\u5e76\u53d1\u60c5\u51b5\u4e0b\u7684\u7ebf\u7a0b\u5bf9\u6027\u80fd\u5f71\u54cd\u5f88\u5927"),(0,r.kt)("li",{parentName:"ul"},"\u601d\u8def:\u63d0\u524d\u521b\u5efa\u597d\u591a\u4e2a\u7ebf\u7a0b\uff0c\u653e\u5165\u7ebf\u7a0b\u6c60\u4e2d\uff0c\u4f7f\u7528\u65f6\u76f4\u63a5\u83b7\u53d6\uff0c\u4f7f\u7528\u5b8c\u653e\u56de\u6c60\u4e2d\u3002\u53ef\u4ee5\u907f\u514d\u9891\u7e41\u521b\u5efa\u9500\u6bc1\uff0c\u5b9e\u73b0\u91cd\u590d\u5229\u7528\u3002\u7c7b\u4f3c\u751f\u6d3b\u4e2d\u7684\u516c\u5171\u4ea4\u901a\u5de5\u5177\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u597d\u5904:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u63d0\u9ad8\u54cd\u5e94\u901f\u5ea6(\u51cf\u5c11\u4e86\u521b\u5efa\u65b0\u7ebf\u7a0b\u7684\u65f6\u95f4)\u964d\u4f4e\u8d44\u6e90\u6d88\u8017(\u91cd\u590d\u5229\u7528\u7ebf\u7a0b\u6c60\u4e2d\u7ebf\u7a0b\uff0c\u4e0d\u9700\u8981\u6bcf\u6b21\u90fd\u521b\u5efa)"),(0,r.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u4e00\u4e9b\u7ebf\u7a0b\u6c60\u53c2\u6570\u6765\u7ba1\u7406\u7ebf\u7a0b\uff0c\u4fbf\u4e8e\u7ebf\u7a0b\u7ba1\u7406",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"corePoolSize")," : \u6838\u5fc3\u6c60\u7684\u5927\u5c0f"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"maximumPoolSize")," : \u6700\u5927\u7ebf\u7a0b\u6570"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"keepAliveTime")," : \u7ebf\u7a0b\u6ca1\u6709\u4efb\u52a1\u65f6\u6700\u591a\u4fdd\u6301\u591a\u957f\u65f6\u95f4\u540e\u4f1a\u7ec8\u6b62"))))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7ebf\u7a0b\u6c60\u76f8\u5173 API"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"JDK5.0 \u8d77\u63d0\u4f9b\u4e86\u7ebf\u7a0b\u6c60\u76f8\u5173 API: ",(0,r.kt)("inlineCode",{parentName:"li"},"ExecutorService")," \u548c ",(0,r.kt)("inlineCode",{parentName:"li"},"Executors"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ExecutorService"),":\u771f\u6b63\u7684\u7ebf\u7a0b\u6c60\u63a5\u53e3\u3002\u5e38\u89c1\u5b50\u7c7b ",(0,r.kt)("inlineCode",{parentName:"li"},"ThreadPoolExecutor")," ",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u65b9\u6cd5",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"void execute(Runnable command)")," : \u6267\u884c\u4efb\u52a1/\u547d\u4ee4\uff0c\u6ca1\u6709\u8fd4\u56de\u503c\uff0c\u4e00\u822c\u7528\u6765\u6267\u884c Runnable"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"<T>Future<T>submit(Callable<T> task)")," : \u6267\u884c\u4efb\u52a1\uff0c\u6709\u8fd4\u56de\u503c\uff0c\u4e00\u822c\u53c8\u6765\u6267\u884c Callable"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"void shutdown()")," : \u5173\u95ed\u8fde\u63a5\u6c60"))))),(0,r.kt)("li",{parentName:"ul"},"Executors:\u5de5\u5177\u7c7b\u3001\u7ebf\u7a0b\u6c60\u7684\u5de5\u5382\u7c7b\uff0c\u7528\u4e8e\u521b\u5efa\u5e76\u8fd4\u56de\u4e0d\u540c\u7c7b\u578b\u7684\u7ebf\u7a0b\u6c60",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Executors.newCachedThreadPool()")," : \u521b\u5efa\u4e00\u4e2a\u53ef\u6839\u636e\u9700\u8981\u521b\u5efa\u65b0\u7ebf\u7a0b\u7684\u7ebf\u7a0b\u6c60"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Executors.newFixedThreadPool(n)")," : \u521b\u5efa\u4e00\u4e2a\u53ef\u91cd\u7528\u56fa\u5b9a\u7ebf\u7a0b\u6570\u7684\u7ebf\u7a0b\u6c60"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Executors.newSingleThreadExecutor()")," : \u521b\u5efa\u4e00\u4e2a\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u7684\u7ebf\u7a0b\u6c60"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Executors.newScheduledThreadPool(n)")," : \u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b\u6c60\uff0c\u5b83\u53ef\u5b89\u6392\u5728\u7ed9\u5b9a\u5ef6\u8fdf\u540e\u8fd0\u884c\u547d\u4ee4\u6216\u8005\u5b9a\u671f\u5730\u6267\u884c")))))))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n/**\n * \u521b\u5efa\u7ebf\u7a0b\u65b9\u5f0f\u56db\uff1a\u4f7f\u7528\u7ebf\u7a0b\u6c60\n * @author Lhk\n *\n * \u9762\u8bd5\u9898\uff1a\u521b\u5efa\u591a\u7ebf\u7a0b\u6709\u51e0\u79cd\u65b9\u5f0f\uff1f\u56db\u79cd\n */\nclass NumberThread implements Runnable{\n    @Override\n    public void run() {\n        for(int i=1;i<=100;i++){\n            if(i%2==0){\n                System.out.println(Thread.currentThread().getName()+":"+i);\n            }\n        }\n    }\n}\n\nclass NumberThread1 implements Callable<Integer>{\n    @Override\n    public Integer call() throws Exception {\n        for(int i=1;i<=100;i++){\n            if(i%2!=0){\n                System.out.println(Thread.currentThread().getName()+":"+i);\n            }\n        }\n        return null;\n    }\n}\n\npublic class ThreadPool {\n    public static void main(String[] args) {\n        //1.\u521b\u5efa\u7ebf\u7a0b\u6c60\u5bf9\u8c61\n        ExecutorService pool = Executors.newFixedThreadPool(10);\n        \n        //\u8bbe\u7f6e\u7ebf\u7a0b\u6c60\u5c5e\u6027\n        //ThreadPoolExecutor pool1=(ThreadPoolExecutor) pool;\n        //pool1.setCorePoolSize(15);\n        //pool1.setKeepAliveTime(0, null);\n        \n        //2.\u6267\u884c\u6307\u5b9a\u7684\u7ebf\u7a0b\u64cd\u4f5c\u3002\u9700\u8981\u63d0\u4f9b\u5b9e\u73b0Runnable\u6216Callable\u63a5\u53e3\u5b9e\u73b0\u7c7b\u7684\u5bf9\u8c61\n        pool.execute(new NumberThread());//\u9002\u5408\u7528\u4e8eRunnable\n        pool.submit(new NumberThread1());//\u9002\u5408\u7528\u4e8eCallable\n        \n        //3.\u5173\u95ed\u7ebf\u7a0b\u6c60\n        pool.shutdown();\n    }\n}\n')),(0,r.kt)("h3",{id:"\u7ebf\u7a0b\u7684\u540c\u6b65"},"\u7ebf\u7a0b\u7684\u540c\u6b65"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7ebf\u7a0b\u540c\u6b65\uff1a\u591a\u4e2a\u7ebf\u7a0b\u64cd\u4f5c\u540c\u4e00\u4e2a\u8d44\u6e90\u7684\u60c5\u51b5\u4e0b\uff0c\u53ea\u6709",(0,r.kt)("strong",{parentName:"p"},"\u4e00\u4e2a\u7ebf\u7a0b"),"\u80fd\u64cd\u4f5c\u8be5\u8d44\u6e90\uff0c\u5176\u4ed6\u7ebf\u7a0b\u7b49\u5f85"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4e3b\u8981\u89e3\u51b3\u7ebf\u7a0b\u7684\u5b89\u5168\u95ee\u9898"),(0,r.kt)("li",{parentName:"ul"},"\u5f53\u591a\u4e2a\u7ebf\u7a0b\u64cd\u4f5c\u540c\u4e00\u4e2a\u8d44\u6e90\u7684\u65f6\u5019\uff0c\u5c31\u4f1a\u4ea7\u751f\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f8b\u5b50\uff1a\u521b\u5efa3\u4e2a\u7a97\u53e3\u4e70\u7968\uff0c\u603b\u7968\u6570\u4e3a100\u5f20"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u95ee\u9898\uff1a\u5356\u7968\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u91cd\u7968\uff0c\u9519\u7968\uff08\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u95ee\u9898\u51fa\u73b0\u7684\u539f\u56e0\uff1a",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5f53\u67d0\u4e2a\u7ebf\u7a0b\u64cd\u4f5c\u8f66\u7968\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5c1a\u672a\u5b8c\u6210\u65f6\uff0c\u5176\u4ed6\u7ebf\u7a0b\u53c2\u4e0e\u8fdb\u6765\uff0c\u4e5f\u64cd\u4f5c\u8f66\u7968"))),(0,r.kt)("li",{parentName:"ul"},"\u89e3\u51b3\u65b9\u6848\uff1a",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5f53\u4e00\u4e2a\u7ebf\u7a0b a \u5728\u64cd\u4f5c ticket \u7684\u65f6\u5019\uff0c\u5176\u4ed6\u7684\u7ebf\u7a0b\u4e0d\u80fd\u53c2\u4e0e\u8fdb\u6765\uff0c\u76f4\u5230\u7ebf\u7a0b a \u64cd\u4f5c\u5b8c ticket \u65f6\uff0c\u5176\u4ed6\u7ebf\u7a0b\u624d\u53ef\u4ee5\u5f00\u59cb\u64cd\u4f5c ticket\uff0c\u8fd9\u79cd\u60c5\u51b5\u5373\u4f7f\u7ebf\u7a0b\u51fa\u73b0\u963b\u585e\uff0c\u4e5f\u4e0d\u80fd\u88ab\u6539\u53d8"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728 Java \u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7\u540c\u6b65\u673a\u5236\uff0c\u6765\u89e3\u51b3\u7ebf\u7a0b\u7684\u5b89\u5168\u95ee\u9898"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u65b9\u5f0f\u4e00\uff1a\uff08\u540c\u6b65\u4ee3\u7801\u5757\uff09"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},"synchronized(\u540c\u6b65\u76d1\u89c6\u5668){\n    //\u9700\u8981\u88ab\u540c\u6b65\u7684\u4ee3\u7801\n}\n")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u64cd\u4f5c\u5171\u4eab\u6570\u636e\u7684\u4ee3\u7801\uff0c\u5373\u4e3a\u9700\u8981\u88ab\u540c\u6b65\u7684\u4ee3\u7801",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5171\u4eab\u6570\u636e\uff1a\u591a\u4e2a\u7ebf\u7a0b\u5171\u540c\u64cd\u4f5c\u7684\u53d8\u91cf"))),(0,r.kt)("li",{parentName:"ul"},"\u540c\u6b65\u76d1\u89c6\u5668\uff1a\u4fd7\u79f0\uff1a\u9501\uff0c\u4efb\u4f55\u4e00\u4e2a\u7c7b\u7684\u5bf9\u8c61\u90fd\u53ef\u4ee5\u5145\u5f53\u9501",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u591a\u4e2a\u7ebf\u7a0b\u5fc5\u987b\u8981\u5171\u7528\u540c\u4e00\u628a\u9501"),(0,r.kt)("li",{parentName:"ul"},"\u5728\u5b9e\u73b0 Runnable \u63a5\u53e3\u521b\u5efa\u591a\u7ebf\u7a0b\u7684\u65b9\u5f0f\u4e2d\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 this \u5145\u5f53\u540c\u6b65\u76d1\u89c6\u5668"),(0,r.kt)("li",{parentName:"ul"},"\u5728\u7ee7\u627f Thread \u7c7b\u521b\u5efa\u591a\u7ebf\u7a0b\u7684\u65b9\u5f0f\u4e2d\uff0c\u614e\u7528 this \u5145\u5f53\u540c\u6b65\u76d1\u89c6\u5668\uff0c\u8003\u8651\u4f7f\u7528\u5f53\u524d\u7c7b\u5145\u5f53\u540c\u6b65\u76d1\u89c6\u5668"))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u65b9\u5f0f\u4e8c\uff1a\u540c\u6b65\u65b9\u6cd5"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u64cd\u4f5c\u5171\u4eab\u6570\u636e\u7684\u4ee3\u7801\u5b8c\u6574\u7684\u58f0\u660e\u5728\u4e00\u4e2a\u65b9\u6cd5\u4e2d\uff0c\u6211\u4eec\u4e0d\u59a8\u5c06\u6b64\u65b9\u6cd5\u58f0\u660e\u4e3a\u540c\u6b65\u7684"),(0,r.kt)("li",{parentName:"ul"},"\u540c\u6b65\u65b9\u6cd5\u4ecd\u7136\u6d89\u53ca\u5230\u540c\u6b65\u76d1\u89c6\u5668\uff0c\u53ea\u662f\u4e0d\u9700\u8981\u6211\u4eec\u663e\u5f0f\u7684\u58f0\u660e"),(0,r.kt)("li",{parentName:"ul"},"\u975e\u9759\u6001\u7684\u540c\u6b65\u65b9\u6cd5\uff0c\u540c\u6b65\u76d1\u89c6\u5668\u662f: ",(0,r.kt)("inlineCode",{parentName:"li"},"this")),(0,r.kt)("li",{parentName:"ul"},"\u9759\u6001\u7684\u540c\u6b65\u65b9\u6cd5\uff0c\u540c\u6b65\u76d1\u89c6\u5668\u662f:",(0,r.kt)("strong",{parentName:"li"},"\u5f53\u524d\u7c7b\u672c\u8eab"))))),(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528\u540c\u6b65\u4ee3\u7801\u5757\u89e3\u51b3\u4e0a\u8ff0\u4f8b\u5b50\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'package com.lhk.Thread;\n/**\n * \u4f8b\u5b50\uff1a\u521b\u5efa3\u4e2a\u7a97\u53e3\u4e70\u7968\uff0c\u603b\u7968\u6570\u4e3a100\u5f20\n * \u4f7f\u7528\u5b9e\u73b0 Runnable \u63a5\u53e3\u7684\u65b9\u5f0f\u5b9e\u73b0\u8be5\u4f8b\u5b50\n * \n * \u5b58\u5728\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\uff1a\u4f7f\u7528\u540c\u6b65\u4ee3\u7801\u5757\u89e3\u51b3\n * @author Lhk\n *\n */\nclass Window1 implements Runnable{\n    \n    private int ticket=100;\n    \n    @Override\n    public void run() {\n        while (true){\n        synchronized(this){  //\u6b64\u65f6\u7684this\uff1a\u552f\u4e00\u7684Window1\u5bf9\u8c61\n            if(ticket>0){\n                try {\n                    Thread.sleep(5);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                System.out.println(Thread.currentThread().getName()+":\u5356\u7968\uff0c\u7968\u53f7\u4e3a\uff1a"+ticket);\n                ticket--;\n            }else{\n                break;\n            }\n        }\n        }\n    }\n}\n\npublic class WindowTest1 {\n    public static void main(String[] args) {\n        Window1 w1 = new Window1();\n        Thread t1 = new Thread(w1);\n        Thread t2 = new Thread(w1);\n        Thread t3 = new Thread(w1);\n\n        t1.setName("\u7a97\u53e3\u4e00");\n        t2.setName("\u7a97\u53e3\u4e8c");\n        t3.setName("\u7a97\u53e3\u4e09");\n        \n        t1.start();\n        t2.start();\n        t3.start();\n    }\n}\n')),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u4f8b\u5b50\uff1a\u521b\u5efa3\u4e2a\u7a97\u53e3\u4e70\u7968\uff0c\u603b\u7968\u6570\u4e3a100\u5f20\n * \u4f7f\u7528\u540c\u6b65\u4ee3\u7801\u5757\u89e3\u51b3\u7ee7\u627f Thread \u7c7b\u7684\u65b9\u5f0f\u5b58\u5728\u7684\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\n * \n * \u8bf4\u660e\uff1a\u5728\u7ee7\u627f Thread \u7c7b\u521b\u5efa\u591a\u7ebf\u7a0b\u7684\u65b9\u5f0f\u4e2d\uff0c\u614e\u7528 this \u5145\u5f53\u540c\u6b65\u76d1\u89c6\u5668\uff0c\u8003\u8651\u4f7f\u7528\u5f53\u524d\u7c7b\u5145\u5f53\u540c\u6b65\u76d1\u89c6\u5668\n * @author Lhk\n *\n */\nclass Window2 extends Thread{\n    private static int total=100;\n    \n    @Override\n    public void run() {\n        while(true){\n            //\u9519\u8bef\u5199\u6cd5,\u6b64\u65f6 this \u4ee3\u8868w1\uff0cw2\uff0cw3\u4e09\u4e2a\u5bf9\u8c61\n            //synchronized(this){\n            \n            //\u6b63\u786e\u5199\u6cd5\n            synchronized(Window2.class){    //Class cla=Window.class\uff0cWindow2.class\u53ea\u4f1a\u52a0\u8f7d\u4e00\u6b21\n                if(total > 0){\n                    try {\n                        sleep(10);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                    System.out.println(getName()+":\u5356\u7968\uff0c\u7968\u53f7\uff1a"+total);\n                    total--;\n                }else{\n                    break;\n                }\n            }\n        }\n    }\n}\n\npublic class WindowTest2 {\n    public static void main(String[] args) {\n        Window2 w1=new Window2();\n        Window2 w2=new Window2();\n        Window2 w3=new Window2();\n        \n        w1.setName("\u7a97\u53e3\u4e00");\n        w2.setName("\u7a97\u53e3\u4e8c");\n        w3.setName("\u7a97\u53e3\u4e09");\n\n        w1.start();\n        w2.start();\n        w3.start();\n    }\n}\n')),(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528\u540c\u6b65\u65b9\u6cd5\u5757\u89e3\u51b3\u4e0a\u8ff0\u4f8b\u5b50\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u4f7f\u7528\u540c\u6b65\u65b9\u6cd5\u6765\u89e3\u51b3\u5b9e\u73b0 Runnable \u63a5\u53e3\u7684\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\n * @author Lhk\n *\n */\nclass Window3 implements Runnable{\n    \n    private int ticket=100;\n    \n    @Override\n    public void run() {\n        while (true){\n            show();\n        }\n    }\n    \n    private synchronized void show(){ //\u9ed8\u8ba4\u540c\u6b65\u76d1\u89c6\u5668\uff1athis\n        if(ticket>0){\n            try {\n                Thread.sleep(2);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.out.println(Thread.currentThread().getName()+":\u5356\u7968\uff0c\u7968\u53f7\u4e3a\uff1a"+ticket);\n            ticket--;\n        }\n    }\n}\n\npublic class WindowTest3 {\n    public static void main(String[] args) {\n        Window3 w1 = new Window3();\n        Thread t1 = new Thread(w1);\n        Thread t2 = new Thread(w1);\n        Thread t3 = new Thread(w1);\n\n        t1.setName("\u7a97\u53e3\u4e00");\n        t2.setName("\u7a97\u53e3\u4e8c");\n        t3.setName("\u7a97\u53e3\u4e09");\n        \n        t1.start();\n        t2.start();\n        t3.start();\n    }\n}\n')),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u4f7f\u7528\u540c\u6b65\u65b9\u6cd5\u5904\u7406\u7ee7\u627f Thread \u7c7b\u65b9\u5f0f\u4e2d\u7684\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\n * @author Lhk\n *\n */\nclass Window4 extends Thread{\n    private static int total=100;\n    \n    @Override\n    public void run() {\n        while(true){\n            show();\n        }\n    }\n    \n    //\u540c\u6b65\u76d1\u89c6\u5668t1,t2,t3,\u6b64\u79cd\u89e3\u51b3\u65b9\u5f0f\u9519\u8bef\n    //private synchronized void show(){ \n    \n    private static synchronized void show(){  //\u540c\u6b65\u76d1\u89c6\u5668\uff1aWindow.class\n        if(total > 0){\n            try {\n                sleep(2);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.out.println(Thread.currentThread().getName()+":\u5356\u7968\uff0c\u7968\u53f7\uff1a"+total);\n            total--;\n            }\n    }\n}\n\npublic class WindowTest4 {\n    public static void main(String[] args) {\n        Window4 w1=new Window4();\n        Window4 w2=new Window4();\n        Window4 w3=new Window4();\n        \n        w1.setName("\u7a97\u53e3\u4e00");\n        w2.setName("\u7a97\u53e3\u4e8c");\n        w3.setName("\u7a97\u53e3\u4e09");\n\n        w1.start();\n        w2.start();\n        w3.start();\n    }\n}\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u540c\u6b65\u7684\u65b9\u5f0f\u4f18\u52bf\u548c\u5c40\u9650\u6027\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4f18\u52bf: \u89e3\u51b3\u4e86\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898"),(0,r.kt)("li",{parentName:"ul"},"\u5c40\u9650\u6027: \u64cd\u4f5c\u540c\u6b65\u4ee3\u7801\u65f6\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u53c2\u4e0e\uff0c\u5176\u4ed6\u7ebf\u7a0b\u7b49\u5f85\uff0c\u76f8\u5f53\u4e8e\u662f\u4e00\u4e2a\u5355\u7ebf\u7a0b\u7684\u8fc7\u7a0b\uff0c\u6548\u7387\u4f4e")))),(0,r.kt)("h3",{id:"\u7ebf\u7a0b\u7684\u6b7b\u9501\u95ee\u9898"},"\u7ebf\u7a0b\u7684\u6b7b\u9501\u95ee\u9898"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e0d\u540c\u7684\u7ebf\u7a0b\u5206\u522b\u5360\u7528\u5bf9\u65b9\u9700\u8981\u7684\u540c\u6b65\u8d44\u6e90\u4e0d\u653e\u5f03\uff0c\u90fd\u5728\u7b49\u5f85\u5bf9\u65b9\u653e\u5f03\u81ea\u5df1\u9700\u8981\u7684\u540c\u6b65\u8d44\u6e90\uff0c\u5c31\u5f62\u6210\u4e86\u7ebf\u7a0b\u7684\u6b7b\u9501")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u51fa\u73b0\u6b7b\u9501\u540e\uff0c\u4e0d\u4f1a\u51fa\u73b0\u5f02\u5e38\uff0c\u4e0d\u4f1a\u51fa\u73b0\u63d0\u793a\uff0c\u53ea\u662f\u6240\u6709\u7684\u7ebf\u7a0b\u90fd\u5904\u4e8e\u963b\u585e\u72b6\u6001\uff0c\u65e0\u6cd5\u7ee7\u7eed")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6b7b\u9501\u7684\u5fc5\u8981\u6761\u4ef6\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4e92\u65a5\u6761\u4ef6\uff08Mutual Exclusion\uff09\uff1a \u81f3\u5c11\u6709\u4e00\u4e2a\u8d44\u6e90\u5fc5\u987b\u5728\u540c\u4e00\u65f6\u95f4\u53ea\u80fd\u88ab\u4e00\u4e2a\u8fdb\u7a0b\u6216\u7ebf\u7a0b\u72ec\u5360\u4f7f\u7528\u3002\u5373\u8d44\u6e90\u7684\u4f7f\u7528\u662f\u6392\u4ed6\u7684\uff0c\u4e00\u4e2a\u8d44\u6e90\u5728\u88ab\u5360\u7528\u65f6\uff0c\u5176\u4ed6\u9700\u8981\u8be5\u8d44\u6e90\u7684\u8fdb\u7a0b\u5fc5\u987b\u7b49\u5f85"),(0,r.kt)("li",{parentName:"ul"},"\u8bf7\u6c42\u4e0e\u4fdd\u6301\u6761\u4ef6\uff08Hold and Wait\uff09\uff1a \u8fdb\u7a0b\u5df2\u7ecf\u6301\u6709\u81f3\u5c11\u4e00\u4e2a\u8d44\u6e90\uff0c\u4f46\u53c8\u7533\u8bf7\u65b0\u7684\u8d44\u6e90\uff0c\u800c\u8be5\u8d44\u6e90\u5df2\u88ab\u5176\u4ed6\u8fdb\u7a0b\u5360\u6709\uff0c\u6b64\u65f6\u8be5\u8fdb\u7a0b\u4e0d\u4f1a\u91ca\u653e\u5df2\u5360\u6709\u7684\u8d44\u6e90\uff0c\u800c\u662f\u9009\u62e9\u7b49\u5f85"),(0,r.kt)("li",{parentName:"ul"},"\u4e0d\u5265\u593a\u6761\u4ef6\uff08No Preemption\uff09\uff1a \u5df2\u5206\u914d\u7ed9\u67d0\u4e2a\u8fdb\u7a0b\u7684\u8d44\u6e90\u5728\u672a\u4f7f\u7528\u5b8c\u6bd5\u4e4b\u524d\uff0c\u4e0d\u80fd\u88ab\u5f3a\u5236\u6027\u5730\u593a\u8d70\uff0c\u5373\u8d44\u6e90\u5206\u914d\u662f\u4e0d\u53ef\u62a2\u5360\u7684"),(0,r.kt)("li",{parentName:"ul"},"\u5faa\u73af\u7b49\u5f85\u6761\u4ef6\uff08Circular Wait\uff09\uff1a \u5b58\u5728\u4e00\u4e2a\u8fdb\u7a0b\u8d44\u6e90\u7b49\u5f85\u7684\u5faa\u73af\u94fe\uff0c\u5373\u8fdb\u7a0b\u96c6\u5408\u4e2d\u7684\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u5728\u7b49\u5f85\u94fe\u4e2d\u7684\u4e0b\u4e00\u4e2a\u8fdb\u7a0b\u6240\u5360\u6709\u7684\u8d44\u6e90\uff0c\u5f62\u6210\u73af\u8def\u7b49\u5f85"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e3a\u9632\u6b62\u6b7b\u9501\uff0c\u901a\u5e38\u9700\u8981\u901a\u8fc7\u8bbe\u8ba1\u7b56\u7565\u7834\u574f\u8fd9\u4e9b\u6761\u4ef6\u4e4b\u4e00"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u6b7b\u9501\u7684\u4f8b\u5b50\n */\npublic class Thread_Test_03 {\n    public static void main(String[] args) {\n        StringBuffer s1 = new StringBuffer();\n        StringBuffer s2 = new StringBuffer();\n        \n        new Thread(){\n            public void run() {\n                synchronized (s1) {\n                    s1.append("a");\n                    s2.append("1");\n                    \n                    try {\n                        sleep(100);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                    \n                    synchronized (s2) {\n                        s1.append("b");\n                        s2.append("2");\n                    }\n                }\n                System.out.println(s1);\n                System.out.println(s2);\n            };\n        }.start();\n        \n        new Thread(new Runnable() {\n            \n            @Override\n            public void run() {\n                synchronized (s2) {\n                    s1.append("c");\n                    s2.append("3");\n                    \n                    try {\n                        Thread.sleep(100);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                    \n                    synchronized (s1) {\n                        s1.append("d");\n                        s2.append("4");\n                    }\n                }\n                System.out.println(s1);\n                System.out.println(s2);\n            }\n        }).start();\n    }\n}\n')),(0,r.kt)("h3",{id:"lock"},"Lock"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4ece JDK5.0 \u5f00\u59cb\uff0cJava \u63d0\u4f9b\u4e86\u66f4\u5f3a\u5927\u7684\u7ebf\u7a0b\u540c\u6b65\u673a\u5236"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u663e\u5f0f\u5b9a\u4e49\u540c\u6b65\u9501\u5bf9\u8c61\u6765\u5b9e\u73b0\u540c\u6b65\u3002\u540c\u6b65\u9501\u4f7f\u7528 Lock \u5bf9\u8c61\u5145\u5f53"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"java.util.concurrent.locks.Lock \u63a5\u53e3\u662f\u63a7\u5236\u591a\u4e2a\u7ebf\u7a0b\u5bf9\u5171\u4eab\u8d44\u6e90\u8fdb\u884c\u8bbf\u95ee\u7684\u5de5\u5177"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u9501\u63d0\u4f9b\u4e86\u5bf9\u5171\u4eab\u8d44\u6e90\u7684\u72ec\u5360\u8bbf\u95ee\uff0c\u6bcf\u6b21\u53ea\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u5bf9 Lock \u5bf9\u8c61\u52a0\u9501\uff0c\u7ebf\u7a0b\u5f00\u59cb\u8bbf\u95ee\u5171\u4eab\u8d44\u6e90\u4e4b\u524d\u5e94\u5148\u83b7\u5f97 Lock \u5bf9\u8c61"),(0,r.kt)("li",{parentName:"ul"},"ReentrantLock \u7c7b\u5b9e\u73b0\u4e86 Lock\uff0c\u5b83\u62e5\u6709\u4e0e synchronized \u76f8\u540c\u7684\u5e76\u53d1\u6027\u548c\u5185\u5b58\u8bed\u4e49\uff0c\u5728\u5b9e\u73b0\u7ebf\u7a0b\u5b89\u5168\u7684\u63a7\u5236\u4e2d\uff0c\u6bd4\u8f83\u5e38\u7528\u7684\u662f ReentrantLock\uff0c\u53ef\u4ee5\u663e\u5f0f\u52a0\u9501\u3001\u91ca\u653e\u9501")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'import java.util.concurrent.locks.ReentrantLock;\n\n/**\n * \u89e3\u51b3\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u7684\u65b9\u5f0f\u4e09\uff1aLock\u9501 \n * @author Lhk\n *\n */\npublic class LockTest {\n    public static void main(String[] args) {\n        Window5 w = new Window5();\n        \n        Thread t1=new Thread(w);\n        Thread t2=new Thread(w);\n        Thread t3=new Thread(w);\n        \n        t1.setName("\u7a97\u53e3\u4e00");\n        t2.setName("\u7a97\u53e3\u4e8c");\n        t3.setName("\u7a97\u53e3\u4e09");\n        \n        t1.start();\n        t2.start();\n        t3.start();\n    }\n}\n\nclass Window5 implements Runnable{\n    \n    private int ticket = 100;\n    //1.\u5b9e\u4f8b\u5316 ReentrantLock \u5bf9\u8c61\n    private ReentrantLock lock=new ReentrantLock();\n    \n    @Override\n    public void run() {\n        while(true){\n            try {\n                //2.\u8c03\u7528\u9501\u5b9a\u65b9\u6cd5\uff1alock()\n                lock.lock();\n                \n                if(ticket>0){\n                    try {\n                        Thread.sleep(20);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                    System.out.println(Thread.currentThread().getName()+"\uff1a\u552e\u7968\uff0c\u7968\u53f7\u4e3a\uff1a"+ticket);\n                    ticket--;\n                }else{\n                    break;\n                }\n            } finally {\n                //3.\u8c03\u7528\u89e3\u9501\u65b9\u6cd5\uff1aunlock()\n                lock.unlock();\n            }\n        }\n    }\n}\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"synchronized \u4e0e Lock \u7684\u5bf9\u6bd4"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"Lock \u662f\u663e\u5f0f\u9501(\u624b\u52a8\u5f00\u542f\u548c\u5173\u95ed\u9501\uff0c\u522b\u5fd8\u8bb0\u5173\u95ed\u9501)\uff0csynchronized \u662f\u9690\u5f0f\u9501\uff0c\u51fa\u4e86\u4f5c\u7528\u57df\u81ea\u52a8\u91ca\u653e"),(0,r.kt)("li",{parentName:"ol"},"Lock \u53ea\u6709\u4ee3\u7801\u5757\u9501\uff0csynchronized \u6709\u4ee3\u7801\u5757\u9501\u548c\u65b9\u6cd5\u9501"),(0,r.kt)("li",{parentName:"ol"},"\u4f7f\u7528 Lock \u9501\uff0cJVM \u5c06\u82b1\u8d39\u8f83\u5c11\u7684\u65f6\u95f4\u6765\u8c03\u5ea6\u7ebf\u7a0b\uff0c\u6027\u80fd\u66f4\u597d\u3002\u5e76\u4e14\u5177\u6709\u66f4\u597d\u7684\u6269\u5c55\u6027(\u63d0\u4f9b\u66f4\u591a\u7684\u5b50\u7c7b)"),(0,r.kt)("li",{parentName:"ol"},"synchronized \u673a\u5236\u5728\u6267\u884c\u5b8c\u76f8\u5e94\u7684\u540c\u6b65\u4ee3\u7801\u4ee5\u540e\uff0c\u81ea\u52a8\u7684\u91ca\u653e\u540c\u6b65\u76d1\u89c6\u5668"),(0,r.kt)("li",{parentName:"ol"},"\u4e8c\u8005\u90fd\u53ef\u4ee5\u89e3\u51b3\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f18\u5148\u4f7f\u7528\u987a\u5e8f:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Lock\u300b\u540c\u6b65\u4ee3\u7801\u5757(\u5df2\u7ecf\u8fdb\u5165\u4e86\u65b9\u6cd5\u4f53\uff0c\u5206\u914d\u4e86\u76f8\u5e94\u8d44\u6e90)\u300b\u540c\u6b65\u65b9\u6cd5(\u5728\u65b9\u6cd5\u4f53\u4e4b\u5916)")))),(0,r.kt)("h3",{id:"\u7ebf\u7a0b\u7684\u901a\u4fe1"},"\u7ebf\u7a0b\u7684\u901a\u4fe1"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6d89\u53ca\u5230\u7684\u4e09\u4e2a\u65b9\u6cd5:"),(0,r.kt)("table",{parentName:"li"},(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u65b9\u6cd5\u540d"),(0,r.kt)("th",{parentName:"tr",align:null},"\u4f5c\u7528"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"wait()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e00\u65e6\u6267\u884c\u6b64\u65b9\u6cd5\uff0c\u5f53\u524d\u7ebf\u7a0b\u5c31\u8fdb\u5165\u7167\u585e\u72b6\u6001\uff0c\u5e76\u91ca\u653e\u540c\u6b65\u76d1\u89c6\u5668")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"notify()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e00\u65e6\u6267\u884c\u6b64\u65b9\u6cd5\uff0c\u5c31\u4f1a\u5524\u9192\u88abwait()\u7684\u4e00\u4e2a\u7ebf\u7a0b\u3002\u5982\u679c\u6709\u591a\u4e2a\u7ebf\u7a0b\u88abwait\uff0c\u5c31\u5524\u9192\u4f18\u5148\u7ea7\u9ad8\u7684\u90a3\u4e2a")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"notifyAlL()"),(0,r.kt)("td",{parentName:"tr",align:null},"\u2014\u65e6\u6267\u884c\u6b64\u65b9\u6cd5\uff0c\u5c31\u4f1a\u5524\u9192\u6240\u6709\u88abwait\u7684\u7ebf\u7a0b"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8bf4\u660e:"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"wait()"),",",(0,r.kt)("inlineCode",{parentName:"li"},"notify()"),",",(0,r.kt)("inlineCode",{parentName:"li"},"notifyALL()")," \u4e09\u4e2a\u65b9\u6cd5\u5fc5\u987b\u4f7f\u7528\u5728\u540c\u6b65\u4ee3\u7801\u5757\u6216\u540c\u6b65\u65b9\u6cd5\u4e2d"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"wait()"),",",(0,r.kt)("inlineCode",{parentName:"li"},"notify()"),",",(0,r.kt)("inlineCode",{parentName:"li"},"notifyALL()")," \u4e09\u4e2a\u65b9\u6cd5\u7684\u8c03\u7528\u8005\u5fc5\u987b\u662f\u540c\u6b65\u4ee3\u7801\u5757\u6216\u540c\u6b65\u65b9\u6cd5\u4e2d\u7684\u540c\u6b65\u76d1\u89c6\u5668,\u5426\u5219\uff0c\u4f1a\u51fa\u73b0 IllegalMonitorStateException \u5f02\u5e38"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"wait()"),",",(0,r.kt)("inlineCode",{parentName:"li"},"notify()"),",",(0,r.kt)("inlineCode",{parentName:"li"},"notifyALL()")," \u4e09\u4e2a\u65b9\u6cd5\u662f\u5b9a\u4e49\u5728 java.Lang.Object \u7c7b\u4e2d"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"sleep()"),"\u548c",(0,r.kt)("inlineCode",{parentName:"p"},"wait()"),"\u7684\u5f02\u540c?"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u76f8\u540c\u70b9: \u4e00\u65e6\u6267\u884c\u65b9\u6cd5\uff0c\u90fd\u53ef\u4ee5\u4f7f\u5f97\u5f53\u524d\u7684\u7ebf\u7a0b\u8fdb\u5165\u963b\u585e\u72b6\u6001"),(0,r.kt)("li",{parentName:"ol"},"\u4e0d\u540c\u70b9:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4e24\u4e2a\u65b9\u6cd5\u58f0\u660e\u7684\u4f4d\u7f6e\u4e0d\u540c: Thread \u7c7b\u4e2d\u58f0\u660e",(0,r.kt)("inlineCode",{parentName:"li"},"sleep()"),", Object \u7c7b\u4e2d\u58f0\u660e ",(0,r.kt)("inlineCode",{parentName:"li"},"wait()")),(0,r.kt)("li",{parentName:"ul"},"\u8c03\u7528\u7684\u8981\u6c42\u4e0d\u540c: ",(0,r.kt)("inlineCode",{parentName:"li"},"sleep()")," \u53ef\u4ee5\u5728\u4efb\u4f55\u9700\u8981\u7684\u573a\u666f\u4e0b\u8c03\u7528\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"wait()")," \u5fc5\u987b\u4f7f\u7528\u5728\u540c\u6b65\u4ee3\u7801\u5757\u6216\u540c\u6b65\u65b9\u6cd5\u4e2d"),(0,r.kt)("li",{parentName:"ul"},"\u5173\u4e8e\u662f\u5426\u91ca\u653e\u540c\u6b65\u76d1\u89c6\u5668\uff1a\u5982\u679c\u4e24\u4e2a\u65b9\u6cd5\u90fd\u4f7f\u7528\u5728\u540c\u6b65\u4ee3\u7801\u5757\u6216\u540c\u6b65\u65b9\u6cd5\u4e2d\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"sleep()")," \u4e0d\u4f1a\u91ca\u653e\u9501\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"wait()")," \u4f1a\u91ca\u653e\u9501")))),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u7ebf\u7a0b\u901a\u4fe1\u7684\u4f8b\u5b50:\u4f7f\u7528\u4e24\u4e2a\u7ebf\u7a0b\u6253\u53701-100\u3002\u7ebf\u7a0b1\uff0c\u7ebf\u7a0b2\u4ea4\u66ff\u6253\u5370\n * @author Lhk\n *\n */\n\nclass Number implements Runnable{\n    private int i=1;\n    @Override\n    public void run() {\n        while(true){\n            synchronized (this) {\n                this.notify();//\u5524\u9192\u4e00\u4e2a\u88abwait()\u7684\u7ebf\u7a0b\n                if(i<=100){\n                    try {\n                        Thread.sleep(10);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                    System.out.println(Thread.currentThread().getName()+":"+i);\n                    i++;\n                    try {\n                        //\u4f7f\u5f97\u8c03\u7528wait()\u65b9\u6cd5\u7684\u7ebf\u7a0b\u8fdb\u5165\u963b\u585e\u72b6\u6001\uff0c\u5e76\u4e14\u91ca\u653e\u540c\u6b65\u76d1\u89c6\u5668\n                        this.wait(); \n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }else{\n                    break;\n                }\n            }\n        }\n    }\n}\n\npublic class ThreadCommunication_Test {\n    public static void main(String[] args) {\n        Number n=new Number();\n        Thread t1=new Thread(n);\n        Thread t2=new Thread(n);\n        \n        t1.setName("\u7ebf\u7a0b\u4e00");\n        t2.setName("\u7ebf\u7a0b\u4e8c");\n        \n        t1.start();\n        t2.start();\n    }\n}\n')))),(0,r.kt)("h4",{id:"\u7ecf\u5178\u4f8b\u9898\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u95ee\u9898"},"\u7ecf\u5178\u4f8b\u9898:\u751f\u4ea7\u8005/\u6d88\u8d39\u8005\u95ee\u9898"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u751f\u4ea7\u8005(Producer)\u5c06\u4ea7\u54c1\u4ea4\u7ed9\u5e97\u5458(Clerk)\uff0c\u800c\u6d88\u8d39\u8005(Customer)\u4ece\u5e97\u5458\u5904\u53d6\u8d70\u4ea7\u54c1\uff0c\u5e97\u5458\u4e00\u6b21\u53ea\u80fd\u6301\u6709\u56fa\u5b9a\u6570\u91cf\u7684\u4ea7\u54c1(\u6bd4\u5982:20)\uff0c\u5982\u679c\u751f\u4ea7\u8005\u8bd5\u56fe\u751f\u4ea7\u66f4\u591a\u7684\u4ea7\u54c1\uff0c\u5e97\u5458\u4f1a\u53eb\u751f\u4ea7\u8005\u505c\u4e00\u4e0b\uff0c\u5982\u679c\u5e97\u4e2d\u6709\u7a7a\u4f4d\u653e\u4ea7\u54c1\u4e86\u518d\u901a\u77e5\u751f\u4ea7\u8005\u7ee7\u7eed\u751f\u4ea7;\u5982\u679c\u5e97\u4e2d\u6ca1\u6709\u4ea7\u54c1\u4e86\uff0c\u5e97\u5458\u4f1a\u544a\u8bc9\u6d88\u8d39\u8005\u7b49\u4e00\u4e0b\uff0c\u5982\u679c\u5e97\u4e2d\u6709\u4ea7\u54c1\u4e86\u518d\u901a\u77e5\u6d88\u8d39\u8005\u6765\u53d6\u8d70\u4ea7\u54c1",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u8fd9\u91cc\u53ef\u80fd\u51fa\u73b0\u4e24\u4e2a\u95ee\u9898:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u751f\u4ea7\u8005\u6bd4\u6d88\u8d39\u8005\u5feb\u65f6\uff0c\u6d88\u8d39\u8005\u4f1a\u6f0f\u6389\u4e00\u4e9b\u6570\u636e\u6ca1\u6709\u53d6\u5230"),(0,r.kt)("li",{parentName:"ul"},"\u6d88\u8d39\u8005\u6bd4\u751f\u4ea7\u8005\u5feb\u65f6\uff0c\u6d88\u8d39\u8005\u4f1a\u53d6\u76f8\u540c\u7684\u6570\u636e"))))),(0,r.kt)("li",{parentName:"ul"},"\u5206\u6790\uff1a",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u591a\u7ebf\u7a0b\u95ee\u9898\uff1a\u751f\u4ea7\u8005\u7ebf\u7a0b\uff0c\u6d88\u8d39\u8005\u7ebf\u7a0b"),(0,r.kt)("li",{parentName:"ol"},"\u5171\u4eab\u6570\u636e\uff1a\u5e97\u5458\uff08\u4ea7\u54c1\uff09"),(0,r.kt)("li",{parentName:"ol"},"\u540c\u6b65\u673a\u5236\u89e3\u51b3\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\uff0c\u4e09\u79cd\u65b9\u6cd5"),(0,r.kt)("li",{parentName:"ol"},"\u6d89\u53ca\u7ebf\u7a0b\u901a\u4fe1")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u7ebf\u7a0b\u901a\u4fe1\u7684\u5e94\u7528: \u751f\u4ea7\u8005/\u6d88\u8d39\u8005\u95ee\u9898\n * @author Lhk\n *\n */\nclass Clerk{\n    private int productNum = 0;\n    \n    //\u751f\u4ea7\u4ea7\u54c1\n    public synchronized void produceProduct() {\n        if(productNum<20){\n            productNum++;\n            System.out.println(Thread.currentThread().getName()+":\u5f00\u59cb\u751f\u4ea7\u7b2c"+productNum+"\u4e2a\u4ea7\u54c1");\n            notify();\n        }else{\n            //\u7b49\u5f85\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    \n    //\u6d88\u8d39\u4ea7\u54c1\n    public synchronized void consumeProduct() {\n        if(productNum>0){\n            System.out.println(Thread.currentThread().getName()+":\u8d2d\u4e70\u7b2c"+productNum+"\u4e2a\u4ea7\u54c1");\n            productNum--;\n            notify();\n        }else{\n            //\u7b49\u5f85\n            try {\n                wait();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\n//\u751f\u4ea7\u8005\nclass Productor extends Thread{\n    private Clerk clerk;\n\n    public Productor(Clerk clerk) {\n        super();\n        this.clerk = clerk;\n    }\n    \n    @Override\n    public void run() {\n        System.out.println(Thread.currentThread().getName()+"\uff1a\u5f00\u59cb\u751f\u4ea7\u4ea7\u54c1....");\n        while(true){\n            try {\n                Thread.sleep(10);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            clerk.produceProduct();\n        }\n    }\n}\n\n//\u6d88\u8d39\u8005\nclass Consumer extends Thread{\n    private Clerk clerk;\n\n    public Consumer(Clerk clerk) {\n        super();\n        this.clerk = clerk;\n    }\n    \n    @Override\n    public void run() {\n        System.out.println(Thread.currentThread().getName()+"\uff1a\u51c6\u5907\u8d2d\u4e70\u4ea7\u54c1....");\n        while(true){\n            try {\n                Thread.sleep(50);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            clerk.consumeProduct();\n        }\n    }\n}\n\npublic class ProductTest {\n    public static void main(String[] args) {\n        Clerk clerk=new Clerk();\n        Productor p=new Productor(clerk);\n        p.setName("\u751f\u4ea7\u8005");\n    \n        Consumer c1=new Consumer(clerk);\n        c1.setName("\u6d88\u8d39\u80051");\n        \n        Consumer c2=new Consumer(clerk);\n        c2.setName("\u6d88\u8d39\u80052");\n        \n        p.start();\n        c1.start();\n        c2.start();\n    }\n}\n')))}d.isMDXComponent=!0},1314:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/jvm-memory-structure-9a29d1102204bc4ae40ff1b1f016d077.png"},7077:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/thread-life-cycle-22c24d6a070c6b8574d4c904fcbcba72.png"}}]);