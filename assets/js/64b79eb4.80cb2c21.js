"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[361],{3905:(n,e,a)=>{a.d(e,{Zo:()=>o,kt:()=>N});var t=a(7294);function E(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function l(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.push.apply(a,t)}return a}function r(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){E(n,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))}))}return n}function m(n,e){if(null==n)return{};var a,t,E=function(n,e){if(null==n)return{};var a,t,E={},l=Object.keys(n);for(t=0;t<l.length;t++)a=l[t],e.indexOf(a)>=0||(E[a]=n[a]);return E}(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(t=0;t<l.length;t++)a=l[t],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(n,a)&&(E[a]=n[a])}return E}var i=t.createContext({}),s=function(n){var e=t.useContext(i),a=e;return n&&(a="function"==typeof n?n(e):r(r({},e),n)),a},o=function(n){var e=s(n.components);return t.createElement(i.Provider,{value:e},n.children)},d="mdxType",p={inlineCode:"code",wrapper:function(n){var e=n.children;return t.createElement(t.Fragment,{},e)}},T=t.forwardRef((function(n,e){var a=n.components,E=n.mdxType,l=n.originalType,i=n.parentName,o=m(n,["components","mdxType","originalType","parentName"]),d=s(a),T=E,N=d["".concat(i,".").concat(T)]||d[T]||p[T]||l;return a?t.createElement(N,r(r({ref:e},o),{},{components:a})):t.createElement(N,r({ref:e},o))}));function N(n,e){var a=arguments,E=e&&e.mdxType;if("string"==typeof n||E){var l=a.length,r=new Array(l);r[0]=T;var m={};for(var i in e)hasOwnProperty.call(e,i)&&(m[i]=e[i]);m.originalType=n,m[d]="string"==typeof n?n:E,r[1]=m;for(var s=2;s<l;s++)r[s]=a[s];return t.createElement.apply(null,r)}return t.createElement.apply(null,a)}T.displayName="MDXCreateElement"},4462:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>i,contentTitle:()=>r,default:()=>d,frontMatter:()=>l,metadata:()=>m,toc:()=>s});var t=a(7462),E=(a(7294),a(3905));const l={sidebar_position:1},r="MySQL \u8bed\u6cd5",m={unversionedId:"MySql/basic/SqlBasicLanguage",id:"MySql/basic/SqlBasicLanguage",title:"MySQL \u8bed\u6cd5",description:"\u4e00\u3001DQL\u8bed\u8a00\uff08Data Query Language \uff09\u6570\u636e\u67e5\u8be2\u8bed\u8a00",source:"@site/docs/MySql/basic/SqlBasicLanguage.md",sourceDirName:"MySql/basic",slug:"/MySql/basic/SqlBasicLanguage",permalink:"/docs/MySql/basic/SqlBasicLanguage",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"MySQL \u57fa\u7840",permalink:"/docs/category/mysql-\u57fa\u7840"},next:{title:"Linux",permalink:"/docs/category/linux"}},i={},s=[{value:"\u4e00\u3001DQL\u8bed\u8a00\uff08Data Query Language \uff09\u6570\u636e\u67e5\u8be2\u8bed\u8a00",id:"\u4e00dql\u8bed\u8a00data-query-language-\u6570\u636e\u67e5\u8be2\u8bed\u8a00",level:2},{value:"1.\u57fa\u7840\u67e5\u8be2",id:"1\u57fa\u7840\u67e5\u8be2",level:3},{value:"2.\u6761\u4ef6\u67e5\u8be2",id:"2\u6761\u4ef6\u67e5\u8be2",level:3},{value:"3. \u6392\u5e8f\u67e5\u8be2",id:"3-\u6392\u5e8f\u67e5\u8be2",level:3},{value:"4. \u5e38\u89c1\u51fd\u6570",id:"4-\u5e38\u89c1\u51fd\u6570",level:3},{value:"5. \u5206\u7ec4\u67e5\u8be2",id:"5-\u5206\u7ec4\u67e5\u8be2",level:3},{value:"6. \u8fde\u63a5\u67e5\u8be2\uff08\u591a\u8868\u67e5\u8be2\uff09",id:"6-\u8fde\u63a5\u67e5\u8be2\u591a\u8868\u67e5\u8be2",level:3},{value:"7. \u5b50\u67e5\u8be2",id:"7-\u5b50\u67e5\u8be2",level:3},{value:"8. \u5206\u9875\u67e5\u8be2",id:"8-\u5206\u9875\u67e5\u8be2",level:3},{value:"9. \u8054\u5408\u67e5\u8be2",id:"9-\u8054\u5408\u67e5\u8be2",level:3},{value:"\u4e8c\u3001DML\u8bed\u8a00\uff08Data Manipulation Language \uff09\u6570\u636e\u64cd\u7eb5\u8bed\u8a00",id:"\u4e8cdml\u8bed\u8a00data-manipulation-language-\u6570\u636e\u64cd\u7eb5\u8bed\u8a00",level:2},{value:"1. \u63d2\u5165\u8bed\u53e5",id:"1-\u63d2\u5165\u8bed\u53e5",level:3},{value:"2. \u4fee\u6539\u8bed\u53e5",id:"2-\u4fee\u6539\u8bed\u53e5",level:3},{value:"3. \u5220\u9664\u8bed\u53e5",id:"3-\u5220\u9664\u8bed\u53e5",level:3},{value:"\u4e09\u3001DDL\u8bed\u8a00\uff08Data Define Language\uff09\u6570\u636e\u5b9a\u4e49\u8bed\u8a00",id:"\u4e09ddl\u8bed\u8a00data-define-language\u6570\u636e\u5b9a\u4e49\u8bed\u8a00",level:2},{value:"1. \u5e93\u548c\u8868\u7684\u7ba1\u7406",id:"1-\u5e93\u548c\u8868\u7684\u7ba1\u7406",level:3},{value:"2. \u6570\u636e\u7c7b\u578b",id:"2-\u6570\u636e\u7c7b\u578b",level:3},{value:"3. \u5e38\u89c1\u7ea6\u675f",id:"3-\u5e38\u89c1\u7ea6\u675f",level:3},{value:"4. \u6807\u8bc6\u5217(\u81ea\u589e\u957f\u5217)",id:"4-\u6807\u8bc6\u5217\u81ea\u589e\u957f\u5217",level:3},{value:"\u56db\u3001TCL\u8bed\u8a00\u7684\u5b66\u4e60\uff08Transaction Control Language\uff09\u4e8b\u52a1\u63a7\u5236\u8bed\u8a00",id:"\u56dbtcl\u8bed\u8a00\u7684\u5b66\u4e60transaction-control-language\u4e8b\u52a1\u63a7\u5236\u8bed\u8a00",level:2},{value:"\u4e94\u3001\u89c6\u56fe",id:"\u4e94\u89c6\u56fe",level:2},{value:"\u516d\u3001\u53d8\u91cf",id:"\u516d\u53d8\u91cf",level:2},{value:"\u4e03\u3001\u5b58\u50a8\u8fc7\u7a0b\u548c\u51fd\u6570",id:"\u4e03\u5b58\u50a8\u8fc7\u7a0b\u548c\u51fd\u6570",level:2},{value:"\u516b\u3001\u6d41\u7a0b\u63a7\u5236\u7ed3\u6784",id:"\u516b\u6d41\u7a0b\u63a7\u5236\u7ed3\u6784",level:2}],o={toc:s};function d(n){let{components:e,...l}=n;return(0,E.kt)("wrapper",(0,t.Z)({},o,l,{components:e,mdxType:"MDXLayout"}),(0,E.kt)("h1",{id:"mysql-\u8bed\u6cd5"},"MySQL \u8bed\u6cd5"),(0,E.kt)("h2",{id:"\u4e00dql\u8bed\u8a00data-query-language-\u6570\u636e\u67e5\u8be2\u8bed\u8a00"},"\u4e00\u3001DQL\u8bed\u8a00\uff08Data Query Language \uff09\u6570\u636e\u67e5\u8be2\u8bed\u8a00"),(0,E.kt)("h3",{id:"1\u57fa\u7840\u67e5\u8be2"},"1.\u57fa\u7840\u67e5\u8be2"),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u57fa\u7840\u67e5\u8be2\n/*\n\u8bed\u6cd5\uff1a\nselect \u67e5\u8be2\u5217\u8868 \nfrom \u8868\u540d;\n\n\u7279\u70b9\uff1a\n1.\u67e5\u8be2\u5217\u8868\u53ef\u4ee5\u662f\uff1a\u8868\u4e2d\u7684\u5b57\u6bb5\uff0c\u5e38\u91cf\u503c\uff0c\u8868\u8fbe\u5f0f\uff0c\u51fd\u6570\n2.\u67e5\u8be2\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u865a\u62df\u7684\u8868\u683c\n*/\n\nUSE myemployees;\n\n#1.\u67e5\u8be2\u8868\u4e2d\u5355\u4e2a\u5b57\u6bb5\nSELECT last_name FROM employees;\n\n#2.\u67e5\u8be2\u8868\u4e2d\u7684\u591a\u4e2a\u5b57\u6bb5\nSELECT last_name,email,phone_number FROM employees;\n\n#3.\u67e5\u8be2\u8868\u4e2d\u7684\u6240\u6709\u5b57\u6bb5\n#\u65b9\u5f0f\u4e00\n#\u5176\u4e2d``\u662f\u7740\u91cd\u53f7\uff0c\u7528\u4e8e\u533a\u522b\u5173\u952e\u5b57\u548c\u5b57\u6bb5\nSELECT \n  `employee_id`,\n  `first_name`,\n  `last_name`,\n  `email`,\n  `phone_number`,\n  `job_id`,\n  `salary`,\n  `commission_pct`,\n  `manager_id`,\n  `department_id`,\n  `hiredate` \nFROM\n  employees ;\n  \n#\u65b9\u5f0f\u4e8c\nSELECT * FROM employees;\n\n#4.\u67e5\u8be2\u5e38\u91cf\u503c\nSELECT 1000;\nSELECT 'john';\n\n#5.\u67e5\u8be2\u8868\u8fbe\u5f0f\nSELECT 5%3;\n\n#6.\u67e5\u8be2\u51fd\u6570\nSELECT VERSION();\n\n#7.\u8d77\u522b\u540d\n/*\n\u597d\u5904\uff1a\u2460\u4fbf\u4e8e\u7406\u89e3\n      \u2461.\u5982\u679c\u8981\u67e5\u8be2\u7684\u5b57\u6bb5\u7531\u91cd\u540d\u7684\u60c5\u51b5\uff0c\u4f7f\u7528\u522b\u540d\u53ef\u4ee5\u533a\u5206\u5f00\u6765\n*/\n#\u65b9\u5f0f\u4e00\uff0c\u4f7f\u7528AS\nSELECT 100*3 AS \u7ed3\u679c;\nSELECT last_name AS \u59d3,first_name AS \u540d FROM employees;\n\n#\u65b9\u5f0f\u4e8c\uff0c\u4f7f\u7528\u7a7a\u683c \nSELECT last_name \u59d3,first_name \u540d FROM employees;\n\n#\u5982\u679c\u522b\u540d\u4e2d\u6709\u7279\u6b8a\u5b57\u7b26\uff0c\u7ed9\u522b\u540d\u6dfb\u52a0\u4e0a\u53cc\u5f15\u53f7\n#\u4f8b:\u67e5\u8be2last_name\uff0c\u663e\u793a\u4e3alast name\nSELECT last_name \"last name\" FROM employees;\n\n\n#8.\u53bb\u91cd(distinct)\n#\u4f8b\uff1a\u67e5\u8be2employees\u8868\u4e2d\u6d89\u53ca\u5230\u7684\u6240\u6709department_id\nSELECT DISTINCT department_id FROM employees;\n\n\n#9.+\u7684\u4f5c\u7528\n/*\nmysql\u4e2d\u7684+\u53ea\u80fd\u4f5c\u4e3a\u8fd0\u7b97\u7b26\nselect 100+50;  \u7ed3\u679c150\nselect '100'+50; \u7ed3\u679c150\n         \u5f53\u6709\u5b57\u7b26\u578b\u7684\u503c\u65f6\uff0c\u4f1a\u8bd5\u56fe\u5c06\u5b57\u7b26\u578b\u8f6c\u5316\u4e3a\u6570\u503c\n         \u82e5\u8f6c\u5316\u6210\u529f\uff0c\u5219\u7ee7\u7eed\u505a\u52a0\u6cd5\u8fd0\u7b97\n         \u82e5\u8f6c\u5316\u5931\u8d25\uff0c\u5219\u5c06\u5b57\u7b26\u578b\u6570\u503c\u8f6c\u5316\u4e3a0\nselect 'lhk'+50; \u7ed3\u679c50\n\nselect null+50; \u7ed3\u679c\u4e3anull\u3002\u53ea\u8981\u6709null\u5b58\u5728\uff0c\u5219\u7ed3\u679c\u4e3anull\n*/\n#\u4f8b\uff1a\u67e5\u8be2first_name\u548clast_name\u8fde\u63a5(concat)\u6210\u4e00\u4e2a\u5b57\u6bb5\uff0c\u5e76\u663e\u793a\u4e3a\u59d3\u540d\n\nSELECT \n  CONCAT (last_name,first_name) AS \u59d3\u540d \nFROM\n  employees ;\n\n\n\n#\u663e\u793a\uff08desc\uff09\u8868`departments`\u7684\u7ed3\u6784\uff0c\u5e76\u67e5\u8be2\u5176\u4e2d\u7684\u5168\u90e8\u6570\u636e\nDESC departments;\nSELECT * FROM departments; \n\n#\u663e\u793a\u51fa\u8868`employees`\u4e2d\u7684\u5168\u90e8`job_id`\uff08\u4e0d\u80fd\u91cd\u590d\uff09\nSELECT DISTINCT job_id FROM employees;\n\n#\u663e\u793a\u51fa\u8868`employees`\u7684\u5168\u90e8\u5217\uff0c\u5404\u4e2a\u5217\u4e4b\u95f4\u7528\u9017\u53f7\u8fde\u63a5\uff0c\u5217\u5934\u663e\u793a\u6210OUT_PUT\nSELECT \n    CONCAT(`employee_id`,',',`first_name`,',',`email`,',',`phone_number`,',',`job_id`,',',`salary`,',',IFNULL(`commission_pct`,0),',',`manager_id`,',',`department_id`,',',`hiredate`) AS OUT_PUT\nFROM \n    employees;\n")),(0,E.kt)("h3",{id:"2\u6761\u4ef6\u67e5\u8be2"},"2.\u6761\u4ef6\u67e5\u8be2"),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u6761\u4ef6\u67e5\u8be2\n/*\n\u8bed\u6cd5\uff1a\n    select \n        \u67e5\u8be2\u5217\u8868\n    from\n        \u8868\u540d\n    where\n        \u7b5b\u9009\u6761\u4ef6;\n        \n\u5206\u7c7b\uff1a\n    1.\u6309\u6761\u4ef6\u8868\u8fbe\u5f0f\u7b5b\u9009\n    \u6761\u4ef6\u8fd0\u7b97\u7b26\uff1a> < = != <>(\u4e0d\u7b49\u4e8e) >= <=\n    \n    2.\u6309\u903b\u8f91\u8868\u8fbe\u5f0f\u7b5b\u9009\n    \u903b\u8f91\u8fd0\u7b97\u7b26\uff1a&& || ! \n            and or not\n    &&\u6216and: \u5f53\u4e24\u4e2a\u6761\u4ef6\u90fd\u4e3atrue\uff0c\u7ed3\u679c\u4e3atrue\uff0c\u53cd\u4e4b\u4e3afalse\n    ||\u6216or:  \u53ea\u8981\u6709\u4e00\u4e2a\u6761\u4ef6\u4e3atrue\uff0c\u7ed3\u679c\u4e3atrue\uff0c\u53cd\u4e4b\u4e3afalse\n    !\u6216not:  \u5982\u679c\u8fde\u63a5\u7684\u6761\u4ef6\u672c\u8eab\u4e3afalse\uff0c\u7ed3\u679c\u4e3atrue\uff0c\u53cd\u4e4b\u4e3afalse\n    \n    3.\u6a21\u7cca\u67e5\u8be2\n        like\n        between and\n        in\n        is null\n    \n*/\n\n#1.\u6309\u6761\u4ef6\u8868\u8fbe\u5f0f\u7b5b\u9009\n#\u4f8b\uff1a\u67e5\u8be2`salary`>10000\u7684\u5458\u5de5\u4fe1\u606f\nSELECT \n  * \nFROM\n  employees \nWHERE \n  salary > 10000 ;\n  \n#\u4f8b\uff1a\u67e5\u8be2`department_id`\u4e0d\u4e3a90\u53f7\u7684\u5458\u5de5\u540d\u548c\u90e8\u95e8\u7f16\u53f7\nSELECT\n    first_name,department_id\nFROM\n    employees\nWHERE\n    department_id<>90;\n\n\n#2.\u6309\u903b\u8f91\u8868\u8fbe\u5f0f\u7b5b\u9009\n#\u4f8b\uff1a\u67e5\u8be2`salary`\u572810000~20000\u4e4b\u95f4\u7684\u5458\u5de5\u540d\u3001\u5de5\u8d44\u548c\u5956\u91d1\nSELECT \n    `first_name`,\n    `salary`,\n    `commission_pct`\nFROM \n    employees\nWHERE \n    salary>=10000 AND salary<=20000;\n    \n#\u4f8b\uff1a\u67e5\u8be2`department_id`\u4e0d\u572890~100\u4e4b\u95f4\uff0c\u6216\u8005`salary`\u5927\u4e8e15000\u7684\u5458\u5de5\u4fe1\u606f\nSELECT\n    *\nFROM \n    employees\nWHERE\n    NOT (department_id>=90 AND department_id<=110) OR salary>15000;\n    \n\n#3.\u6a21\u7cca\u67e5\u8be2\n/*\n    like\n    \u7279\u70b9\uff1a\u2460\u4e00\u822c\u548c\u901a\u914d\u7b26\u642d\u914d\u4f7f\u7528\n            \u901a\u914d\u7b26\uff1a%   \u4ee3\u8868\u4efb\u610f\u591a\u4e2a\u5b57\u7b26\uff08\u5305\u542b0\u4e2a\u5b57\u7b26\uff09\n                _   \u4ee3\u8868\u4efb\u610f\u5355\u4e2a\u5b57\u7b26\n    between and\n    in\n    is null\n*/\n\n#\u2460like\n#\u4f8b\uff1a\u67e5\u8be2`first_name`\u4e2d\u5305\u542b\u5b57\u7b26a\u7684\u5458\u5de5\u4fe1\u606f\nSELECT \n    *\nFROM\n    employees\nWHERE\n    first_name LIKE '%a%';\n\n\n#\u4f8b\uff1a\u67e5\u8be2`first_name`\u4e2d\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e3ar\uff0c\u7b2c4\u4e2a\u5b57\u7b26\u4e3ac\u7684\u5458\u5de5\u540d\u548c\u5de5\u8d44\nSELECT\n    first_name,salary\nFROM\n    employees\nWHERE\n    first_name LIKE '_r_c%';\n    \n    \n#\u4f8b\uff1a\u67e5\u8be2`last_name`\u4e2d\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e3a_\u7684\u5458\u5de5\u540d\n/*\n\u4f7f\u7528\u8f6c\u4e49\u5b57\u7b26\\\n\u81ea\u5b9a\u4e49\u8f6c\u4e49\u5b57\u7b26\uff1aescape\n*/\nSELECT\n    last_name\nFROM\n    employees\nWHERE\n    last_name LIKE '_$_%' ESCAPE '$';\n    \n\n#\u2461between and\n#\u4f8b1.\u67e5\u8be2`employee_id`\u5728100-120\u4e4b\u95f4\u7684\u5458\u5de5\u4fe1\u606f\nSELECT\n    *\nFROM\n    employees\nWHERE\n    employee_id >=100 AND employee_id <=120;\n    \n#----------------------------------------------------------------------\n\nSELECT\n    *\nFROM\n    employees\nWHERE\n    employee_id BETWEEN 100 AND 120;\n    \n    \n#\u2462in\n/*\n\u542b\u4e49\uff1a\u5224\u65ad\u67d0\u4e2a\u5b57\u6bb5\u7684\u503c\u662f\u5426\u5c5e\u4e8ein\u5217\u8868\u4e2d\u7684\u67d0\u4e00\u9879\n\u7279\u70b9\uff1a\n    \u2460\u63d0\u9ad8\u8bed\u53e5\u7684\u7b80\u6d01\u5ea6\n    \u2461in\u5217\u8868\u4e2d\u7684\u503c\u7c7b\u578b\u5fc5\u987b\u4e00\u81f4\u6216\u8005\u517c\u5bb9\uff08\u7c7b\u578b\u53ef\u9690\u5f0f\u8f6c\u6362\uff09\n    \u2462in\u5217\u8868\u7684\u503c\u4e0d\u652f\u6301\u901a\u914d\u7b26\n\n*/\n#\u4f8b\uff1a\u67e5\u8be2\u5458\u5de5\u7684`job_id`\u662fAD_PRES,AD_VP\u548cIT_PROG\u4e2d\u7684\u4e00\u4e2a\u5458\u5de5\u540d\u548c\u5de5\u79cd\u7f16\u53f7\nSELECT\n    first_name,\n    job_id\nFROM\n    employees\nWHERE\n    job_id='AD_PRES' OR job_id='AD_VP' OR job_id='IT_PROG';\n    \n#----------------------------------\nSELECT\n    first_name,\n    job_id\nFROM\n    employees\nWHERE\n    job_id IN ('AD_PRES','AD_VP','IT_PROG');  \n    \n#\u2463is null\n/*\n\u6ce8\uff1a=\u548c<>\u4e0d\u80fd\u7528\u4e8e\u5224\u65adnull\u503c\uff0c\u53ef\u4ee5\u5224\u65ad\u666e\u901a\u7c7b\u578b\u7684\u503c\n    is null \u548c is not null \u53ef\u4ee5\u5224\u65adnull\u503c,\u4e0d\u53ef\u4ee5\u5224\u65ad\u666e\u901a\u7c7b\u578b\u7684\u503c\uff0c\u53ef\u8bfb\u6027\u8f83\u9ad8\n    \n\n*/\n#\u4f8b\uff1a\u67e5\u8be2\u6ca1\u6709\u5956\u91d1\u7684\u5458\u5de5\u540d\u548c\u5956\u91d1\u7387\nSELECT\n    first_name,\n    commission_pct\nFROM\n    employees\nWHERE\n    commission_pct IS NULL;\n\n#\u4f8b\uff1a\u67e5\u8be2\u6709\u5956\u91d1\u7684\u5458\u5de5\u540d\u548c\u5956\u91d1\u7387\nSELECT\n    first_name,\n    commission_pct\nFROM\n    employees\nWHERE\n    commission_pct IS NOT NULL;\n    \n#\u2464\u5b89\u5168\u7b49\u4e8e\n/*\n\u65e2\u53ef\u4ee5\u5224\u65adnull\u503c\uff0c\u53c8\u53ef\u4ee5\u5224\u65ad\u666e\u901a\u7c7b\u578b\u7684\u503c\n\u53ef\u8bfb\u6027\u6bd4\u8f83\u5dee\n\n\u4f7f\u7528\u65f6\u5efa\u8bae\u4f7f\u7528is null\n\n*/\n#\u4f8b\uff1a\u67e5\u8be2\u6ca1\u6709\u5956\u91d1\u7684\u5458\u5de5\u540d\u548c\u5956\u91d1\u7387\nSELECT\n    first_name,\n    commission_pct\nFROM\n    employees\nWHERE\n    commission_pct <=> NULL;\n\n#\u4f8b\uff1a\u67e5\u8be2`salary`\u4e3a12000\u7684\u5458\u5de5\u4fe1\u606f\nSELECT\n    *\nFROM\n    employees\nWHERE\n    salary<=>12000;\n    \n    \n#\u4f8b\u9898\uff1a\n#\u67e5\u8be2`employee_id`\u4e3a176\u7684\u5458\u5de5\u540d\uff0c\u90e8\u95e8\u7f16\u53f7\u548c\u5e74\u85aa\nSELECT\n    first_name,\n    department_id,\n    salary*12*(1+IFNULL(commission_pct,0)) AS \u5e74\u85aa\nFROM    \n    employees\n\n#\u67e5\u8be2\u6ca1\u6709\u5956\u91d1\uff0c\u4e14\u5de5\u8d44\u5c0f\u4e8e12000\u7684`salary``last_name`\nSELECT\n    salary,\n    last_name\nFROM\n    employees\nWHERE\n    commission_pct IS NULL;\n    \n#\u67e5\u8be2`job_id`\u4e0d\u4e3a\u2019IT\u2018\u6216\u8005\u5de5\u8d44\u4e3a12000\u7684\u5458\u5de5\u4fe1\u606f\nSELECT\n    *\nFROM\n    employees\nWHERE\n    job_id NOT LIKE 'IT%' OR salary=12000;\n    \n#\u663e\u793a`departments`\u8868\u7684\u7ed3\u6784\nDESC  `departments`;\n\n#\u67e5\u8be2`departments`\u8868\u4e2d\u6d89\u53ca\u5230\u4e86\u54ea\u4e9b\u4f4d\u7f6e\u7f16\u53f7(distinct \u53bb\u91cd)\nSELECT\n    DISTINCT `location_id`\nFROM\n    departments;\n    \n/*\n\u7ecf\u5178\u9762\u8bd5\u9898:\n\u8bd5\u95ee\nselect * from employees ;\n\u548c\nselect \n    * \nfrom \n    employees \nwhere \n    commission_pct like '%%\u2019and last_name like ' %\u2019;\n\u7ed3\u679c\u662f\u5426\u4e00\u6837\uff1f\u5e76\u8bf4\u660e\u539f\u56e0\n\n\u7b54\uff1a\u4e0d\u4e00\u6837\uff0c\u5982\u679c\u5224\u65ad\u7684\u5b57\u6bb5\u6709 null \u503c\u5c31\u4e0d\u4e00\u6837\u4e86\n\n*/\n")),(0,E.kt)("h3",{id:"3-\u6392\u5e8f\u67e5\u8be2"},"3. \u6392\u5e8f\u67e5\u8be2"),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u6392\u5e8f\u67e5\u8be2\n/*\n\u8bed\u6cd5\n    select  \n        \u67e5\u8be2\u5217\u8868\n    from\n        \u8868\n    where\n        \u7b5b\u9009\u6761\u4ef6\n    order by\n        \u6392\u5e8f\u5217\u8868 \uff08asc\uff08\u5347\u5e8f\uff09|desc\uff08\u964d\u5e8f\uff09\uff09\n    \n\u7279\u70b9\uff1a\nasc\uff1a\u5347\u5e8f\uff08\u4e0d\u5199\u65f6\u9ed8\u8ba4\u4e3a\u5347\u5e8f\uff09\ndesc\uff1a\u964d\u5e8f \norder by\u5b57\u53e5\u4e2d\u53ef\u4ee5\u652f\u6301\u5355\u4e2a\u5b57\u6bb5\uff0c\u591a\u4e2a\u5b57\u6bb5\uff0c\u8868\u8fbe\u5f0f\uff0c\u51fd\u6570\uff0c\u522b\u540d\norder by\u5b57\u53e5\u4e00\u822c\u662f\u653e\u5728\u67e5\u8be2\u8bed\u53e5\u6700\u540e\u9762\uff0climit\u5b57\u53e5\u9664\u5916\n*/\n\n#\u4f8b1\uff1a\u67e5\u8be2\u5458\u5de5\u4fe1\u606f\uff0c\u8981\u6c42\u5de5\u8d44\u4ece\u9ad8\u5230\u4f4e\u6392\u5e8f\nSELECT\n    *\nFROM\n    employees\nORDER BY\n    salary DESC;\n    \n#\u4f8b2\uff1a\u67e5\u8be2`department_id\u5927\u4e8e\u7b49\u4e8e90\u7684\u5458\u5de5\u4fe1\u606f\uff0c\u6309\u5165\u804c\u65f6\u95f4\u5148\u540e\u8fdb\u884c\u6392\u5e8f\nSELECT\n    *\nFROM \n    employees\nWHERE\n    department_id >=90\nORDER BY\n    `hiredate` ASC;\n    \n#\u4f8b3\uff1a\u6309\u5e74\u85aa\u7684\u9ad8\u4f4e\u663e\u793a\u5458\u5de5\u7684\u4fe1\u606f\u548c\u5e74\u85aa\uff08\u6309\u8868\u8fbe\u5f0f\u6392\u5e8f\uff09\nSELECT\n    *,\n    salary*12*(1+IFNULL(commission_pct,0)) AS \u5e74\u85aa\nFROM\n    employees\nORDER BY\n    salary*12*(1+IFNULL(commission_pct,0)) DESC;\n    \n    \n#\u4f8b4\uff1a\u6309\u5e74\u85aa\u7684\u9ad8\u4f4e\u663e\u793a\u5458\u5de5\u7684\u4fe1\u606f\u548c\u5e74\u85aa\uff08\u6309\u522b\u540d\u6392\u5e8f\uff09\nSELECT\n    *,\n    salary*12*(1+IFNULL(commission_pct,0)) AS \u5e74\u85aa\nFROM\n    employees\nORDER BY\n    \u5e74\u85aa DESC;\n\n\n#\u4f8b5\uff1a\u6309`first_name`\u7684\u957f\u5ea6\u663e\u793a\u5458\u5de5\u7684\u59d3\u540d\u548c\u5de5\u8d44\uff08\u6309\u51fd\u6570\u6392\u5e8f\uff09\nSELECT\n    first_name,\n    salary\nFROM\n    employees\nORDER BY\n    LENGTH (first_name);\n\n#\u4f8b6\uff1a\u67e5\u8be2\u5458\u5de5\u4fe1\u606f\uff0c\u5148\u6309\u5de5\u8d44\u6392\u5e8f\uff0c\u518d\u6309\u5458\u5de5\u7f16\u53f7\u6392\u5e8f\uff08\u6309\u591a\u4e2a\u5b57\u6bb5\u6392\u5e8f\uff09\nSELECT\n    *\nFROM\n    employees\nORDER BY\n    salary ,employee_id;\n\n#\u4f8b7\uff1a\u67e5\u8be2\u5458\u5de5\u7684`first_name`\uff0c`department_id`\u548c\u5e74\u85aa\uff0c\u6309\u5e74\u85aa\u964d\u5e8f\uff0c\u6309`first_name`\u5347\u5e8f\nSELECT\n    first_name,\n    department_id,\n    salary*12*(1+IFNULL(commission_pct,0)) \u5e74\u85aa\nFROM\n    employees\nORDER BY\n    \u5e74\u85aa DESC,first_name ASC;\n    \n    \n#\u4f8b8\uff1a\u9009\u62e9\u5de5\u8d44\u4e0d\u57288000-17000\u7684\u5458\u5de5\u7684`last_name`\u548c`salary`\uff0c\u6309`salary`\u964d\u5e8f\nSELECT\n    `last_name`,\n    `salary`\nFROM\n    employees\nWHERE\n    salary NOT BETWEEN(8000,17000)\nORDER BY\n    salary DESC;\n    \n#\u4f8b9\uff1a\u67e5\u8be2`email`\u4e2d\u5305\u542ba\u7684\u5458\u5de5\u4fe1\u606f\uff0c\u5e76\u6309\u90ae\u7bb1\u7684\u957f\u5ea6\u964d\u5e8f\uff0c\u518d\u6309\u90e8\u95e8\u53f7\u5347\u5e8f\nSELECT\n    *\nFROM\n    employees\nWHERE\n    `email` LIKE '%a%'\nORDER BY\n    LENGTH(email) DESC ,`department_id` ASC;\n")),(0,E.kt)("h3",{id:"4-\u5e38\u89c1\u51fd\u6570"},"4. \u5e38\u89c1\u51fd\u6570"),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u5e38\u89c1\u51fd\u6570\n\n/*\n\u597d\u5904\uff1a1.\u9690\u85cf\u4e86\u5b9e\u73b0\u7ec6\u8282\n      2.\u63d0\u9ad8\u4e86\u4ee3\u7801\u7684\u590d\u7528\u6027\n      \n\u8c03\u7528\u8bed\u6cd5\uff1aselect \u51fd\u6570\u540d(\u5b9e\u53c2\u5217\u8868) from \u8868;\n\n\u7279\u70b9\uff1a1.\u51fd\u6570\u540d\n      2.\u51fd\u6570\u529f\u80fd\n      \n\u5206\u7c7b\uff1a1.\u5355\u884c\u51fd\u6570\uff08\u4f20\u4e00\u4e2a\u53c2\u6570\uff0c\u6709\u4e00\u4e2a\u8fd4\u56de\u503c\uff09\n    \u2022 \u5b57\u7b26\u51fd\u6570\n    \u2022 \u6570\u5b66\u51fd\u6570\n    \u2022 \u65e5\u671f\u51fd\u6570\n    \u2022 \u5176\u4ed6\u51fd\u6570\n    \u2022 \u6d41\u7a0b\u63a7\u5236\u51fd\u6570\n    \u4f8b\uff1aconcat\u3001length\u3001ifnull\n      2.\u5206\u7ec4\u51fd\u6570\uff08\u4f20\u4e00\u7ec4\u503c\uff0c\u8fd4\u56de\u4e00\u4e2a\u503c\uff09\n    \u529f\u80fd\uff1a\u505a\u7edf\u8ba1\u4f7f\u7528\uff0c\u53c8\u79f0\u4e3a\u7edf\u8ba1\u51fd\u6570\uff08\u6216\u805a\u5408\u51fd\u6570\u3001\u7ec4\u51fd\u6570\uff09\n\n\n\u5e38\u89c1\u51fd\u6570\uff1a\n1.\u5355\u884c\u51fd\u6570\n    \u5b57\u7b26\u51fd\u6570\uff1a\n    length\n    concat\n    substr\n    instr\n    trim\n    upper\n    lower\n    lpad\n    rpad\n    replace\n    \u6570\u5b66\u51fd\u6570\uff1a\n    round\n    ceil\n    floor\n    truncate\n    mod\n    \u65e5\u671f\u51fd\u6570\uff1a\n    now\n    curdate\n    curtime\n    year\n    month\n    monthname\n    day\n    hour\n    minute\n    second\n    str_to_date\n    date_format\n    \u5176\u4ed6\u51fd\u6570\uff1a\n    version\n    database\n    user\n    \u63a7\u5236\u51fd\u6570\uff1a\n    if\n    case\n    \n*/\n\n#\u67e5\u770b\u5b57\u7b26\u96c6\n/*\nutf8:\u4e00\u4e2a\u82f1\u6587\u5b57\u6bcd\u5360\u4e00\u4e2a\u5b57\u8282\uff0c\u4e00\u4e2a\u6c49\u5b57\u5360\u4e09\u4e2a\u5b57\u8282\ngbk\uff1a\u4e00\u4e2a\u82f1\u6587\u5b57\u6bcd\u5360\u4e00\u4e2a\u5b57\u8282\uff0c\u4e00\u4e2a\u6c49\u5b57\u5360\u4e24\u4e2a\u5b57\u8282\n*/\nSHOW VARIABLES LIKE '%char%';\n\n\n#\u4e00\u3001\u5b57\u7b26\u51fd\u6570\n#1.length\uff1a\u83b7\u53d6\u53c2\u6570\u7684\u5b57\u8282\u4e2a\u6570\nSELECT LENGTH('lhk');\nSELECT LENGTH('\u5218\u5fb7\u534e');\n\n#2.concat:\u62fc\u63a5\u5b57\u7b26\u4e32\nSELECT CONCAT(last_name,'_',first_name) AS \u59d3\u540d FROM employees;\n\n#3.upper,lower:\u5927\u5c0f\u5199\u51fd\u6570\nSELECT UPPER('lhk');\nSELECT LOWER('TheMutents');\n#\u4f8b\uff1a\u5c06`last_name`\u53d8\u4e3a\u5927\u5199\uff0c`first_name`\u53d8\u4e3a\u5c0f\u5199,\u7136\u540e\u62fc\u63a5\nSELECT CONCAT(UPPER(last_name),LOWER(first_name)) AS \u59d3\u540d FROM employees;\n\n#4.substr\u3001substring:\u622a\u53d6\u5b57\u7b26\u4e32(\u7d22\u5f15\u4f4d\u7f6e\u4ece1\u5f00\u59cb\uff0c\u800c\u4e0d\u662f0\u5f00\u59cb)\n#\u622a\u53d6\u4ece\u6307\u5b9a\u7d22\u5f15\u5f00\u59cb\u540e\u9762\u7684\u6240\u6709\u5b57\u7b26\nSELECT SUBSTR('TheMutents',4) AS out\u2014\u2014put;\n\n#\u622a\u53d6\u4ece\u6307\u5b9a\u7d22\u5f15\u5f00\u59cb\u5230\u6307\u5b9a\u5b57\u7b26\u957f\u5ea6\u7684\u5b57\u7b26\nSELECT SUBSTR('TheMutents',1,3) AS out\u2014\u2014put;\n\n#\u4f8b\uff1a\u59d3\u540d\u4e2d\u9996\u5b57\u7b26\u5927\u5199\uff0c\u5176\u4ed6\u5b57\u7b26\u5c0f\u5199\uff0c\u7136\u540e\u7528_\u62fc\u63a5\uff0c\u663e\u793a\u51fa\u6765\nSELECT \n    CONCAT(UPPER(SUBSTR(last_name,1,1)),LOWER(SUBSTR(last_name,2)),'_',LOWER(first_name))\nAS\n    \u59d3\u540d\nFROM\n    employees;\n    \n#5.instr:\u8fd4\u56de\u5b50\u4e32\u7b2c\u4e00\u6b21\u51fa\u73b0\u7684\u7d22\u5f15\u4f4d\u7f6e\uff0c\u627e\u4e0d\u5230\u5219\u8fd4\u56de0\nSELECT\n    INSTR('TheMutents\u2014\u2014Mutents','Mutents')AS out\u2014\u2014put;\n\n#6.trim:\u5220\u9664\u5b57\u7b26\u4e32\u524d\u540e\u4e24\u7aef\u7684\u7a7a\u683c\uff0c\u6216\u8005\u5220\u9664\u5b57\u7b26\u4e32\u524d\u540e\u4e24\u7aef\u7684\u6307\u5b9a\u5b57\u7b26\n\nSELECT \n    TRIM('      TheMutents      ') AS out_put;\n    \nSELECT\n    TRIM('aa' FROM 'aaaaaaaaaTheMutentsaaaaaa') AS out_put;\n    \n#7.lpad:\u7528\u6307\u5b9a\u7684\u5b57\u7b26\u5b9e\u73b0\u5de6\u586b\u5145\uff0c\u4f7f\u5f97\u5b57\u7b26\u4e32\u8fbe\u5230\u6307\u5b9a\u957f\u5ea6\n#   \u5982\u679c\u6307\u5b9a\u957f\u5ea6\u5c0f\u4e8e\u5b57\u7b26\u4e32\u957f\u5ea6\uff0c\u5219\u4f1a\u4ece\u53f3\u622a\u65ad\u8fbe\u5230\u6307\u5b9a\u957f\u5ea6\nSELECT\n    LPAD('TheMutents',15,'\u2014') AS out_put;\n\nSELECT\n    LPAD('TheMutents',8,'\u2014') AS out_put;\n    \n#8.rpad:\u7528\u6307\u5b9a\u7684\u5b57\u7b26\u5b9e\u73b0\u53f3\u586b\u5145\uff0c\u4f7f\u5f97\u5b57\u7b26\u4e32\u8fbe\u5230\u6307\u5b9a\u957f\u5ea6\nSELECT\n    RPAD('TheMutents',15,'12') AS out_put;\n    \n#9.replace\uff1a\u66ff\u6362\nSELECT\n    REPLACE('theMutents','the','The') AS out_put;\n\n\n#\u4e8c\u3001\u6570\u5b66\u51fd\u6570\n#1.round\uff1a\u56db\u820d\u4e94\u5165\nSELECT\n    ROUND(5.57)AS out_put;\n    \nSELECT\n    ROUND(-5.57)AS out_put;\n    \n#\u5c0f\u6570\u70b9\u540e\u4fdd\u7559\u51e0\u4f4d\u6570\nSELECT\n    ROUND(5.57,1)AS out_put;\n\n#2.ceil:\u5411\u4e0a\u53d6\u6574\uff0c\u8fd4\u56de>=\u53c2\u6570\u7684\u6700\u5c0f\u6574\u6570\nSELECT\n    CEIL(6.32) AS out_put;\n\nSELECT\n    CEIL(-6.32) AS out_put; \n\n#3.floor\uff1a\u5411\u4e0b\u53d6\u6574,\u8fd4\u56de<=\u53c2\u6570\u7684\u6700\u5927\u6574\u6570\nSELECT\n    FLOOR(4.221) AS out_put;\n    \nSELECT\n    FLOOR(-4.221) AS out_put;\n    \n#4.truncate\uff1a\u622a\u65ad\nSELECT\n    TRUNCATE(2.13030,1) AS out_put;\n\n#5.mod\uff1a\u53d6\u4f59\n/*\nmod(a,b): a-a/b*b\n\u4f8b\uff1amod(-5,2):  (-5)-(-5)/2*2=-1\n*/\nSELECT\n    MOD(5,2) AS out_put;\nSELECT\n    MOD(-5,2) AS out_put;\n#\u7b49\u4ef7\u4e8e\nSELECT\n    -5%2 AS out_put;\n    \n#\u4e09\u3001\u65e5\u671f\u51fd\u6570\n#1.now\uff1a\u8fd4\u56de\u5f53\u524d\u7cfb\u7edf\u65e5\u671f+\u65f6\u95f4\nSELECT\n    NOW();\n    \n#2.curdate:\u8fd4\u56de\u5f53\u524d\u7cfb\u7edf\u65e5\u671f\uff0c\u4e0d\u5305\u542b\u65f6\u95f4\nSELECT\n    CURDATE();\n    \n#3.curtime:\u8fd4\u56de\u5f53\u524d\u7cfb\u7edf\u65f6\u95f4\uff0c\u4e0d\u5305\u542b\u65e5\u671f\nSELECT\n    CURTIME();\n\n#4.\u83b7\u53d6\u5e74\u3001\u6708\u3001\u65e5\u3001\u65f6\u3001\u5206\u3001\u79d2\nSELECT YEAR(NOW()) AS \u5e74;\nSELECT YEAR('2021-7-1') AS \u5e74;\nSELECT YEAR(hiredate) AS \u5e74 FROM employees;\n\nSELECT MONTH(NOW()) AS \u6708;\nSELECT DAY(NOW()) AS \u65e5;\nSELECT HOUR(NOW()) AS \u65f6;\nSELECT MINUTE(NOW()) AS \u5206;\nSELECT SECOND(NOW()) AS \u79d2;\n\n#5.str_to_date: \u5c06\u6307\u5b9a\u65e5\u671f\u683c\u5f0f\u7684\u5b57\u7b26\u8f6c\u6362\u6210\u9ed8\u8ba4\u683c\u5f0f\u7684\u65e5\u671f\n/*\nmysql\u4e2d\u7684\u9ed8\u8ba4\u65e5\u671f\u683c\u5f0f\uff0c\u4f8b\uff1a2121-07-16\n*/\nSELECT \n    STR_TO_DATE('7-16-2021','%c-%d-%Y') AS \u65e5\u671f;\n\n#\u4f8b\uff1a\u67e5\u8be2\u5165\u804c\u65e5\u671f\u4e3a1992-4-3\u7684\u5458\u5de5\u4fe1\u606f\nSELECT * FROM employees WHERE hiredate='1992-4-3';\n\nSELECT * FROM employees WHERE STR_TO_DATE('4-3 1992','%c-%d %Y');\n\n#6.\u2022 date_format:\u5c06\u65e5\u671f\u8f6c\u6362\u6210\u6307\u5b9a\u683c\u5f0f\u5b57\u7b26\nSELECT DATE_FORMAT(NOW(),'%Y\u5e74%m\u6708%d\u65e5') AS \u65e5\u671f;\n\n#\u4f8b\uff1a\u67e5\u8be2\u6709\u5956\u91d1\u7684\u5458\u5de5\u540d\u548c\u5165\u804c\u65e5\u671f\uff08\u8f6c\u6362\u4e3axx\u6708/xx\u65e5 xx\u5e74\uff09\nSELECT\n    `first_name` AS \u5458\u5de5\u540d,\n    DATE_FORMAT(hiredate,'%m\u6708/%d\u65e5 %Y\u5e74') AS \u5165\u804c\u65e5\u671f\nFROM\n    employees\nWHERE\n    commission_pct IS NOT NULL;\n\n\n#\u56db\u3001\u5176\u4ed6\u51fd\u6570\n#1.\u67e5\u770b\u7248\u672c\u53f7\nSELECT VERSION();\n\n#2.\u67e5\u770b\u5f53\u524d\u6570\u636e\u5e93\nSELECT DATABASE();\n\n#3.\u67e5\u770b\u5f53\u524d\u7528\u6237\nSELECT USER();\n\n#\u4e94\u3001\u6d41\u7a0b\u63a7\u5236\u51fd\u6570\n#1.if():\u5b9e\u73b0if else\u7684\u6548\u679c\nSELECT\n    IF(10>5,'\u6210\u7acb','\u4e0d\u6210\u7acb');\n    \nSELECT\n    `first_name`,\n    IF(commission_pct IS NOT NULL ,'\u6709\u5956\u91d1','\u65e0\u5956\u91d1') AS \u5907\u6ce8\nFROM\n    employees;\n    \n#2.case\u51fd\u6570\u4f7f\u7528\u4e00:\u5b9e\u73b0switch case\u7684\u6548\u679c\n/*\n\u8bed\u6cd5\uff1a\n    case \u5b57\u6bb5\u6216\u8868\u8fbe\u5f0f\n        when \u5e38\u91cf1 then \u8981\u663e\u793a\u7684\u503c1\u6216\u8bed\u53e51\n        when \u5e38\u91cf2 then \u8981\u663e\u793a\u7684\u503c2\u6216\u8bed\u53e51\n        ...\n        else \u8981\u663e\u793a\u7684\u503cn\u6216\u8bed\u53e5n\n    end\n*/\n/*\u4f8b\uff1a\u67e5\u8be2\u5458\u5de5\u7684\u5de5\u8d44\uff0c\u8981\u6c42\uff1a\n\n    \u90e8\u95e8\u53f7=30\uff0c\u663e\u793a\u7684\u5de5\u8d44\u4e3a1.1\u500d\n    \u90e8\u95e8\u53f7=40\uff0c\u663e\u793a\u7684\u5de5\u8d44\u4e3a1.2\u500d\n    \u90e8\u95e8\u53f7=50\uff0c\u663e\u793a\u7684\u5de5\u8d44\u4e3a1.3\u500d\n    \u5176\u4ed6\u90e8\u95e8\uff0c\u663e\u793a\u539f\u5de5\u8d44\n*/\n\nSELECT\n    salary AS \u539f\u5de5\u8d44,\n    department_id,\n    CASE department_id\n        WHEN 30 THEN salary*1.1\n        WHEN 40 THEN salary*1.2\n        WHEN 3=50 THEN salary*1.3\n        ELSE salary\n    END AS \u65b0\u5de5\u8d44\nFROM\n    employees;\n    \n#3.case\u51fd\u6570\u4f7f\u7528\u4e8c\uff1a\u5b9e\u73b0\u591a\u91cdif\u7684\u6548\u679c\n/*\n\u8bed\u6cd5\uff1a\n    case\n        when \u6761\u4ef61 then \u8981\u663e\u793a\u7684\u503c1\u6216\u8bed\u53e51\n        when \u6761\u4ef62 then \u8981\u663e\u793a\u7684\u503c2\u6216\u8bed\u53e52\n        ...\n        else \u8981\u663e\u793a\u7684\u503cn\u6216\u8bed\u53e5n\n    end\n*/\n\n/*\u4f8b\uff1a\u67e5\u8be2\u5982\u4e0b\u60c5\u51b5\u5458\u5de5\u5de5\u8d44\n\u5982\u679c\u5de5\u8d44>20000,\u663e\u793aA\u7ea7\u522b\n\u5982\u679c\u5de5\u8d44>15000,\u663e\u793aB\u7ea7\u522b\n\u5982\u679c\u5de5\u8d44>10000,\u663e\u793aC\u7ea7\u522b\n\u5426\u5219 \u663e\u793aD\u7ea7\u522b\n*/\n\nSELECT salary,\n    CASE\n    WHEN salary>20000 THEN 'A'\n    WHEN salary>15000 THEN 'B'\n    WHEN salary>10000 THEN 'C'\n    ELSE 'D'\n    END AS \u5de5\u8d44\u7ea7\u522b\nFROM\n    employees;\n    \n    \n    \n    \n#\u4f8b\u9898\uff1a\n#1.\u663e\u793a\u7cfb\u7edf\u65f6\u95f4\nSELECT NOW();\n\n#2.\u67e5\u8be2`employee_id`\u3001`first_name`\u3001`salary`\uff0c\u4ee5\u53ca\u5de5\u8d44\u63d0\u9ad820%\u540e\u7684\u7ed3\u6784\uff08new salary\uff09\nSELECT\n    `employee_id`,\n    `first_name`,\n    `salary`,\n    salary*1.2 AS \"new salary\"\nFROM\n    employees;\n    \n\n#3.\u5c06\u5458\u5de5\u7684\u59d3\u540d\u6309\u9996\u5b57\u6bcd\u6392\u5e8f\uff0c\u5e76\u5199\u51fa\u59d3\u540d\u7684\u957f\u5ea6\uff08length\uff09\nSELECT\n    LENGTH(`first_name`),\n    SUBSTR(first_name,1,1) AS \u9996\u5b57\u6bcd,\n    `first_name`\nFROM\n    employees\nORDER BY\n    \u9996\u5b57\u6bcd;\n    \n#4.\u505a\u4e00\u4e2a\u67e5\u8be2\uff0c\u4ea7\u751f\u4e0b\u9762\u7684\u7ed3\u679c\n#<last_name> earns <salary> monthly but wants <salary*3>\n#\u7ed3\u679c\u5982\u4e0b\uff1a\n/*Dream salary\n King earns 24000 monthly but wants 72000\n*/\nSELECT\n    CONCAT(last_name,' earns ',salary,' monthly but wants ',salary*3) AS \"Dream aslary\"\nFROM\n    employees\nWHERE\n    salary=24000;\n    \n#5.\u4f7f\u7528case-when\uff0c\u5b9e\u73b0\u5982\u4e0b\u7ed3\u679c\uff1a\n/*\n    job     grade\n    AD_PRES     A\n    sT_MAN      B\n    IT_PROG     c\n    SA_REP      D\n    ST_CLERK    E\n\u4ea7\u751f\u4e0b\u9762\u7684\u7ed3\u679c\nLast_name   Job_id  Grade\nking        AD_PRES   A\n*/\n\nSELECT\n    last_name,\n    job_id ,\n    CASE job_id\n    WHEN 'AD_PRES' THEN 'A'\n    WHEN 'sT_MAN'  THEN 'B'\n    WHEN 'IT_PROG'  THEN 'C'\n    WHEN 'SA_REP'  THEN 'D'\n    WHEN 'ST_CLERK'  THEN 'E'\n    END AS grade\nFROM\n    employees\nWHERE\n    job_id='AD_PRES';\n")),(0,E.kt)("ul",null,(0,E.kt)("li",{parentName:"ul"},"mysql \u65e5\u671f\u7684\u683c\u5f0f\u7b26\n",(0,E.kt)("img",{alt:"mysql \u65e5\u671f\u7684\u683c\u5f0f\u7b26",src:a(1643).Z,width:"787",height:"562"}))),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u5206\u7ec4\u51fd\u6570\n/*\n\u529f\u80fd\uff1a\u505a\u7edf\u8ba1\u4f7f\u7528\uff0c\u53c8\u79f0\u4e3a\u7edf\u8ba1\u51fd\u6570\uff08\u6216\u805a\u5408\u51fd\u6570\u3001\u7ec4\u51fd\u6570\uff09\n\n\u5e38\u89c1\u51fd\u6570\uff1a\nsum \u6c42\u548c\u3001avg \u5e73\u5747\u503c\u3001max \u6700\u5927\u503c\u3001min \u6700\u5c0f\u503c\u3001count \u8ba1\u7b97\u4e2a\u6570\n\n\n\u7279\u70b9:\n1\u3001sum\u3001 avg\u2014\u822c\u7528\u4e8e\u5904\u7406\u6570\u503c\u578b\n   max-min- count\u53ef\u4ee5\u5904\u7406\u4efb\u4f55\u7c7b\u578b\n2\u3001\u4ee5\u4e0a\u5206\u7ec4\u51fd\u6570\u90fd\u5ffd\u7565null\u503c\n3\u3001\u53ef\u4ee5\u548cdistinct\u642d\u914d\u5b9e\u73b0\u53bb\u91cd\u7684\u8fd0\u7b97\n4\u3001count\u51fd\u6570\u7684\u5355\u72ec\u4ecb\u7ecd\n   \u4e00\u822c\u4f7f\u7528count (*)\u7528\u4f5c\u7edf\u8ba1\u884c\u6570\n5\u3001\u548c\u5206\u7ec4\u51fd\u6570\u4e00\u540c\u67e5\u8be2\u7684\u5b57\u6bb5\u8981\u6c42\u662fgroup by\u540e\u7684\u5b57\u6bb5\n*/\n\n#1.\u7b80\u5355\u7684\u4f7f\u7528\nSELECT SUM(`salary`) FROM employees AS out_put;\nSELECT AVG(`salary`) FROM employees AS out_put;\nSELECT MAX(`salary`) FROM employees AS out_put;\nSELECT MIN(`salary`) FROM employees AS out_put;\nSELECT COUNT(`salary`) FROM employees AS out_put;\n\nSELECT\n    SUM(salary) AS \u603b\u5de5\u8d44\u548c,\n    ROUND(AVG(salary),2) AS \u5e73\u5747\u5de5\u8d44,\n    MAX(salary) AS \u6700\u9ad8\u5de5\u8d44,\n    MIN(salary) AS \u6700\u4f4e\u5de5\u8d44,\n    COUNT(salary) AS \u4e2a\u6570\nFROM\n    employees;\n    \n\n#2.\u5206\u7ec4\u51fd\u6570\u53c2\u6570\u652f\u6301\u7684\u7c7b\u578b\n#sum\u3001avg\u51fd\u6570\u53c2\u6570\u4e0d\u80fd\u4e3a\u5b57\u7b26\u578b\u3001\u65e5\u671f\u578b(\u4e0d\u62a5\u9519\uff0c\u4f46\u662f\u6ca1\u6709\u610f\u4e49)\n#\u4e00\u822c\u5904\u7406\u6570\u503c\u578b\u53c2\u6570\nSELECT  SUM(`last_name`),AVG(last_name) FROM employees;\nSELECT  SUM(`hiredate`),AVG(`hiredate`) FROM employees;\n\n#max\u3001min\u3001count\u51fd\u6570\u53ef\u4ee5\u5904\u7406\u4efb\u4f55\u7c7b\u578b\u7684\u53c2\u6570\nSELECT MAX(`last_name`),MIN(`last_name`) FROM employees;\nSELECT MAX(`hiredate`),MIN(`hiredate`) FROM employees;\n#count\u51fd\u6570\u53ea\u80fd\u8ba1\u7b97\u53c2\u6570\u4e0d\u4e3anull\u7684\u4e2a\u6570\nSELECT COUNT(commission_pct) FROM employees;\n\n\n#3.\u5ffd\u7565null\n#\u5206\u7ec4\u51fd\u6570\u5728\u505a\u8fd0\u7b97\u65f6\u5ffd\u7565null\u503c\nSELECT  SUM(`commission_pct`),AVG(`commission_pct`) FROM employees;\nSELECT MAX(`commission_pct`),MIN(`commission_pct`) FROM employees;\nSELECT COUNT(commission_pct) FROM employees;\n\n\n#4.\u548cdistinct\u642d\u914d\u5b9e\u73b0\u53bb\u91cd\nSELECT\n    SUM(DISTINCT `salary`) AS \u53bb\u91cd\u540e\u7684\u603b\u5de5\u8d44,\n    SUM(salary) AS \u672a\u53bb\u91cd\u7684\u603b\u5de5\u8d44\nFROM\n    employees;\n\nSELECT COUNT(DISTINCT salary) AS \u53bb\u91cd\u540e\u7684\u4e2a\u6570,COUNT(salary) AS \u672a\u53bb\u91cd\u7684\u4e2a\u6570\nFROM    employees;\n\n\n#5.COUNT\u51fd\u6570\u7684\u8be6\u7ec6\u4f7f\u7528\nSELECT COUNT(salary) FROM employees;\n#\u7edf\u8ba1\u603b\u884c\u6570\nSELECT COUNT(*) FROM employees;\nSELECT COUNT(1) FROM employees;\n\n/*\u6548\u7387\uff1a\nMYISAM\u5b58\u50a8\u5f15\u64ce\u4e0b\uff0ccount(*)\u7684\u6548\u7387\u9ad8\nINNODB\u5b58\u50a8\u5f15\u64ce\u4e0b\uff0c\ncount(*)\u7684\u6548\u7387\u548ccount(1)\u7684\u6548\u7387\u5dee\u4e0d\u591a\uff0c\n\u6bd4count(\u5b57\u6bb5)\u7684\u6548\u7387\u8981\u9ad8\n\n*/\n\n\n#6.\u548c\u5206\u7ec4\u51fd\u6570\u4e00\u540c\u67e5\u8be2\u7684\u5b57\u6bb5\u6709\u9650\u5236(\u4e0d\u62a5\u9519\uff0c\u4f46\u65e0\u610f\u4e49)\nSELECT AVG(salary),`employee_id` FROM employees;\n\n\n\n#\u4f8b\u9898\uff1a\n#1.\u67e5\u8be2\u5458\u5de5\u5de5\u8d44\u7684\u6700\u5927\u503c\u3001\u6700\u5c0f\u503c\u3001\u5e73\u5747\u503c\u3001\u603b\u548c\nSELECT \n    MAX(salary)AS max_salary,\n    MIN(salary)AS min_salary,\n    ROUND(AVG(salary),2)AS avg_salary,\n    SUM(salary)AS sum_salary\nFROM\n    employees;\n\n#2.\u67e5\u8be2\u5458\u5de5\u8868\u603b\u7684\u6700\u5927\u5165\u804c\u65f6\u95f4\u548c\u6700\u5c0f\u5165\u804c\u65f6\u95f4\u7684\u76f8\u5dee\u5929\u6570\uff08\u522b\u540d\u4e3adifference\uff09\nSELECT \n    DATEDIFF(MAX(`hiredate`),MIN(`hiredate`)) AS difference\nFROM\n    employees;\n    \n#3.\u67e5\u8be2\u90e8\u95e8\u7f16\u53f7\u4e3a90\u7684\u5458\u5de5\u4e2a\u6570\nSELECT\n    COUNT(*)\nFROM\n    employees\nWHERE\n    department_id=90;\n")),(0,E.kt)("h3",{id:"5-\u5206\u7ec4\u67e5\u8be2"},"5. \u5206\u7ec4\u67e5\u8be2"),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u5206\u7ec4\u67e5\u8be2\n/*\n\u8bed\u6cd5\uff1a\n    select \u5206\u7ec4\u51fd\u6570\uff0c\u5b57\u6bb5\uff08\u8981\u6c42\u51fa\u73b0\u5728group by\u7684\u540e\u9762\uff09\n    from \u8868\n    where \u7b5b\u9009\u6761\u4ef6\n    group by \u5206\u7ec4\u7684\u5217\u8868\n    order by \u5b57\u53e5;\n\u6ce8\u610f\uff1a\n    \u67e5\u8be2\u5217\u8868\u6bd4\u8f83\u7279\u6b8a\uff0c\u8981\u6c42\u662f\u5206\u7ec4\u51fd\u6570\u548cgroup by\u540e\u51fa\u73b0\u7684\u5b57\u6bb5\n\n\u7279\u70b9\uff1a\n                \n1\u3001\u5206\u7ec4\u67e5\u8be2\u4e2d\u7684\u7b5b\u9009\u6761\u4ef6\u5206\u4e3a\u4e24\u7c7b\n            \u6570\u636e\u6e90     \u4f4d\u7f6e          \u5173\u952e\u5b57\n    \u5206\u7ec4\u524d\u7b5b\u9009   \u539f\u59cb\u8868     group by\u5b50\u53e5\u7684\u524d\u9762   where\n    \u5206\u7ec4\u540e\u7b5b\u9009   \u5206\u7ec4\u540e\u7684\u7ed3\u679c\u96c6 group by\u5b50\u53e5\u7684\u540e\u9762   having\n\n    \u2460\u3001\u5206\u7ec4\u51fd\u6570\u505a\u6761\u4ef6\u80af\u5b9a\u662f\u653e\u5728having\u5b50\u53e5\u4e2d\n    \u2461\u3001\u80fd\u7528\u5206\u7ec4\u524d\u7b5b\u9009\u7684\uff0c\u5c31\u4f18\u5148\u8003\u8651\u4f7f\u7528\u5206\u7ec4\u524d\u7b5b\u9009\n    \n    2\u3001group by\u5b50\u53e5\u652f\u6301\u5355\u4e2a\u5b57\u6bb5\u5206\u7ec4\uff0c\u591a\u4e2a\u5b57\u6bb5\u5206\u7ec4(\u591a\u4e2a\u5b57\u6bb5\u4e4b\u95f4\u7528\u9017\u53f7\u9694\u5f00\u6ca1\u6709\u987a\u5e8f\u8981\u6c42\uff09\uff0c\u8868\u8fbe\u5f0f\u6216\u51fd\u6570\uff08\u7528\u7684\u8f83\u5c11\uff09\n    3\u3001\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u6392\u5e8f\uff08\u6392\u5e8f\u653e\u5728\u6574\u4e2a\u5206\u7ec4\u67e5\u8be2\u7684\u6700\u540e\n    \n*/\n#\u5f15\u5165\uff1a\u67e5\u8be2\u6bcf\u4e2a\u90e8\u95e8\u7684\u5e73\u5747\u5de5\u8d44\nSELECT \n    department_id,\n    AVG(salary) AS \u5e73\u5747\u5de5\u8d44\nFROM\n    employees\nGROUP BY\n    department_id;\n    \n#1.\u7b80\u5355\u7684\u5206\u7ec4\u67e5\u8be2\n#\u4f8b.\u67e5\u8be2\u6bcf\u4e2a\u5de5\u79cd\u7684\u6700\u9ad8\u5de5\u8d44\nSELECT MAX(salary),job_id\nFROM employees\nGROUP BY job_id;\n\n#\u4f8b\uff1a\u67e5\u8be2\u6bcf\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u90e8\u95e8\u4e2a\u6570\nSELECT\n    COUNT(*) AS \u90e8\u95e8\u4e2a\u6570,\n    location_id\nFROM\n    departments\nGROUP BY\n    location_id;\n    \n#2.\u6dfb\u52a0\u7b80\u5355\u7684\uff08\u5206\u7ec4\u524d\uff09\u7b5b\u9009\u6761\u4ef6\u67e5\u8be2\n#\u4f8b\uff1a\u67e5\u8be2\u90ae\u7bb1\u4e2d\u5305\u542ba\u5b57\u7b26\u7684\uff0c\u6bcf\u4e2a\u90e8\u95e8\u7684\u5e73\u5747\u5de5\u8d44\nSELECT\n    AVG(salary),\n    department_id\nFROM\n    employees\nWHERE\n    email LIKE '%a%'\nGROUP BY\n    department_id;\n    \n#\u4f8b\uff1a\u67e5\u8be2\u6709\u5956\u91d1\u7684\u6bcf\u4e2a\u9886\u5bfc\u7684\u624b\u4e0b\u5458\u5de5\u7684\u6700\u9ad8\u5de5\u8d44\nSELECT\n    MAX(salary),\n    `manager_id`\nFROM\n    employees\nWHERE\n    commission_pct IS NOT NULL\nGROUP BY\n    manager_id;\n\n\n    \n#3.\u6dfb\u52a0\u590d\u6742\u7684\uff08\u5206\u7ec4\u540e\uff09\u7b5b\u9009\u6761\u4ef6\u67e5\u8be2\n\n#\u4f8b\uff1a\u67e5\u8be2\u54ea\u4e2a\u90e8\u95e8\u7684\u5458\u5de5\u4e2a\u6570>2\n#\u2460\u3001\u67e5\u8be2\u6bcf\u4e2a\u90fd\u95e8\u7684\u5458\u5de5\u4e2a\u6570\n#\u2461\u3001\u6839\u636e\u2460\u7684\u7ed3\u679c\u8fdb\u884c\u7b5b\u9009\uff0c\u67e5\u8be2\u54ea\u4e2a\u90e8\u95e8\u7684\u5458\u5de5\u4e2a\u6570>2\nSELECT\n    COUNT(*) AS \u5458\u5de5\u4e2a\u6570,\n    `department_id`\nFROM\n    employees\nGROUP BY\n    department_id\nHAVING\n    \u5458\u5de5\u4e2a\u6570>2;\n    \n#\u4f8b\uff1a\u67e5\u8be2\u6bcf\u4e2a\u5de5\u79cd\u6709\u5956\u91d1\u7684\u5458\u5de5\u7684\u6700\u9ad8\u5de5\u8d44>12000\u7684\u5de5\u79cd\u7f16\u53f7\u548c\u6700\u9ad8\u5de5\u8d44\n#\u2460\u3001\u67e5\u8be2\u6bcf\u4e2a\u5de5\u79cd\u6709\u5956\u91d1\u7684\u5458\u5de5\u7684\u6700\u9ad8\u5de5\u8d44\n#\u2461\u3001\u6839\u636e\u2460\u7ed3\u679c\u7ee7\u7eed\u7b5b\u9009\uff0c\u6700\u9ad8\u5de5\u8d44>12000\nSELECT\n    `job_id`,\n    MAX(salary) AS \u6700\u9ad8\u5de5\u8d44\nFROM\n    employees\nWHERE   \n    commission_pct IS NOT NULL\nGROUP BY\n    job_id\nHAVING\n    \u6700\u9ad8\u5de5\u8d44>12000;\n    \n#\u4f8b\uff1a\u67e5\u8be2\u9886\u5bfc\u7f16\u53f7>102\u7684\u6bcf\u4e2a\u9886\u5bfc\u4e0b\u7684\u5458\u5de5\u7684\u6700\u4f4e\u5de5\u8d44>5000\u7684\u9886\u5bfc\u7f16\u53f7\u662f\u54ea\u4e2a\uff0c\u4ee5\u53ca\u5176\u6700\u4f4e\u5de5\u8d44\n\n\nSELECT\n    `manager_id`,\n    MIN(salary) AS \u5458\u5de5\u6700\u4f4e\u5de5\u8d44\nFROM\n    employees\nWHERE\n    manager_id>102\nGROUP BY\n    manager_id\nHAVING\n    \u5458\u5de5\u6700\u4f4e\u5de5\u8d44>5000;\n    \n    \n#4.\u652f\u6301\u6309\u8868\u8fbe\u5f0f\u6216\u51fd\u6570\u5206\u7ec4\u67e5\u8be2\n#\u4f8b\uff1a\u6309\u5458\u5de5\u59d3\u540d\u7684\u957f\u5ea6\u5206\u7ec4\uff0c\u67e5\u8be2\u6bcf\u4e00\u7ec4\u7684\u5458\u5de5\u4e2a\u6570\uff0c\u7b5b\u9009\u5458\u5de5\u4e2a\u6570>5\u7684\u6709\u54ea\u4e9b\nSELECT\n    COUNT(*) AS \u5458\u5de5\u4e2a\u6570,\n    LENGTH(`last_name`) AS \u59d3\u540d\u957f\u5ea6\nFROM\n    employees\nGROUP BY\n    \u59d3\u540d\u957f\u5ea6\nHAVING\n    \u5458\u5de5\u4e2a\u6570>5;\n    \n    \n#5.\u6309\u591a\u4e2a\u5b57\u6bb5\u5206\u7ec4\n#\u4f8b\uff1a\u67e5\u8be2\u6bcf\u4e2a\u90e8\u95e8\u6bcf\u4e2a\u5de5\u79cd\u7684\u5458\u5de5\u7684\u5e73\u5747\u5de5\u8d44\nSELECT\n    AVG(salary),\n    department_id,\n    job_id\nFROM\n    employees\nGROUP BY\n    department_id,job_id;\n\n    \n#6.\u6dfb\u52a0\u6392\u5e8f\n#\u4f8b\uff1a\u67e5\u8be2\u6bcf\u4e2a\u90e8\u95e8\u6bcf\u4e2a\u5de5\u79cd\u7684\u5458\u5de5\u7684\u5e73\u5747\u5de5\u8d44\uff0c\u4e14\u6309\u5e73\u5747\u5de5\u8d44\u964d\u5e8f\u6392\u5217\nSELECT\n    AVG(salary),\n    department_id,\n    job_id\nFROM\n    employees\nGROUP BY\n    department_id,job_id\nORDER BY\n    AVG(salary) DESC;\n    \n\n\n#\u4f8b\u9898\uff1a\n#1.\u67e5\u8be2\u5404job_id\u7684\u5458\u5de5\u5de5\u8d44\u7684\u6700\u5927\u503c\uff0c\u6700\u5c0f\u503c\uff0c\u5e73\u5747\u503c\uff0c\u603b\u548c\uff0c\u5e76\u6309job_id\u5347\u5e8f\nSELECT\n    MAX(salary),\n    MIN(salary),\n    AVG(salary),\n    SUM(salary),\n    job_id\nFROM\n    employees\nGROUP BY\n    job_id\nORDER BY\n    job_id;\n    \n#2.\u67e5\u8be2\u5458\u5de5\u6700\u9ad8\u5de5\u8d44\u548c\u6700\u4f4e\u5de5\u8d44\u7684\u5dee\u8ddd\uff08\u522b\u540d\u4e3adifference\uff09\nSELECT\n    MAX(salary)-MIN(salary) AS difference\nFROM\n    employees;\n    \n#3.\u67e5\u8be2\u5404\u4e2a\u7ba1\u7406\u8005\u624b\u4e0b\u5458\u5de5\u7684\u6700\u4f4e\u5de5\u8d44\uff0c\u5176\u4e2d\u6700\u4f4e\u5de5\u8d44\u4e0d\u80fd\u4f4e\u4e8e6000\uff0c\u6ca1\u6709\u7ba1\u7406\u8005\u7684\u5458\u5de5\u4e0d\u8ba1\u7b97\u5728\u5185\nSELECT\n    MIN(salary) AS min_salary,\n    manager_id\nFROM\n    employees\nWHERE\n    manager_id IS NOT NULL\nGROUP BY\n    manager_id\nHAVING\n    min_salary>=6000;\n    \n#4.\u67e5\u8be2\u6240\u6709\u90e8\u95e8\u7684\u7f16\u53f7\uff0c\u5458\u5de5\u6570\u91cf\u548c\u5de5\u8d44\u5e73\u5747\u503c\uff0c\u5e76\u6309\u5e73\u5747\u5de5\u8d44\u964d\u5e8f\nSELECT\n    department_id AS \u90e8\u95e8\u7f16\u53f7,\n    COUNT(*) AS \u5458\u5de5\u6570\u91cf ,\n    AVG(salary) AS avg_salary\nFROM\n    employees\nGROUP BY\n    department_id\nORDER BY\n    avg_salary DESC;\n    \n#5.\u9009\u62e9\u5177\u6709\u5404\u4e2ajob_id\u7684\u5458\u5de5\u4eba\u6570\nSELECT\n    COUNT(*),\n    job_id\nFROM\n    employees\nGROUP BY\n    job_id;\n")),(0,E.kt)("h3",{id:"6-\u8fde\u63a5\u67e5\u8be2\u591a\u8868\u67e5\u8be2"},"6. \u8fde\u63a5\u67e5\u8be2\uff08\u591a\u8868\u67e5\u8be2\uff09"),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u8fde\u63a5\u67e5\u8be2\n/*\n\u542b\u4e49\uff1a\u53c8\u79f0\u4e3a\u591a\u8868\u67e5\u8be2\uff0c\u5f53\u67e5\u8be2\u7684\u5b57\u6bb5\u6765\u81ea\u4e8e\u591a\u4e2a\u8868\u65f6\uff0c\u5c31\u4f1a\u7528\u5230\u8fde\u63a5\u67e5\u8be2\n\n\u7b1b\u5361\u5c14\u4e58\u79ef\u73b0\u8c61:\u88681\u6709m\u884c\uff0c\u88682\u6709n\u884c\uff0c\u7ed3\u679c=m*n\u884c\n\u53d1\u751f\u539f\u56e0:\u6ca1\u6709\u6709\u6548\u7684\u8fde\u63a5\u6761\u4ef6\n\u5982\u4f55\u907f\u514d:\u6dfb\u52a0\u6709\u6548\u7684\u8fde\u63a5\u6761\u4ef6\n\n\u5206\u7c7b:\n    \u6309\u5e74\u4ee3\u5206\u7c7b:\n    sql92\u6807\u51c6:\u4ec5\u4ec5\u652f\u6301\u5185\u8fde\u63a5\n    sql99\u6807\u51c6\u3010\u63a8\u8350\u3011:\u652f\u6301\u5185\u8fde\u63a5+\u5916\u8fde\u63a5\uff08\u5de6\u5916\u548c\u53f3\u5916)+\u4ea4\u53c9\u8fde\u63a5\n    \n    \u6309\u529f\u80fd\u5206\u7c7b:\n    \u5185\u8fde\u63a5:\n        1.\u7b49\u503c\u8fde\u63a5\n        2.\u975e\u7b49\u503c\u8fde\u63a5\n        3.\u81ea\u8fde\u63a5\n    \u5916\u8fde\u63a5:\n        1.\u5de6\u5916\u8fde\u63a5\n        2.\u53f3\u5916\u8fde\u63a5\n        3.\u5168\u5916\u8fde\u63a5\n    \u4ea4\u53c9\u8fde\u63a5\n\n*/\n\n\n    \n#\u4e00\u3001sql92\u6807\u51c6\n\n#1.\u7b49\u503c\u8fde\u63a5\n/*\n\u2460.\u591a\u8868\u7b49\u503c\u8fde\u63a5\u7684\u7ed3\u679c\u4e3a\u591a\u8868\u7684\u4ea4\u96c6\u90e8\u5206\n\u2461.n\u8868\u8fde\u63a5,\u81f3\u5c11\u9700\u8981n-1\u4e2a\u8fde\u63a5\u6761\u4ef6\n\u2462.\u591a\u8868\u7684\u987a\u5e8f\u6ca1\u6709\u8981\u6c42\n\u2463.\u4e00\u822c\u9700\u8981\u4e3a\u8868\u8d77\u522b\u540d\n\u2464.\u53ef\u4ee5\u642d\u914d\u6392\u5e8f\u3001\u5206\u7ec4\u3001\u7b5b\u9009\u7b49\u5b50\u53e5\u4f7f\u7528\n\n*/\n#\u4f8b1.\u67e5\u8be2\u5973\u795e\u540d\u548c\u5bf9\u5e94\u7684\u7537\u795e\u540d\nSELECT  \n    `name`,\n    `boyName`\nFROM\n    beauty,boys\nWHERE\n    beauty.`boyfriend_id`=boys.`id`;\n    \n#\u4f8b2\uff1a\u67e5\u8be2\u5458\u5de5\u540d\u548c\u5bf9\u5e94\u7684\u90e8\u95e8\u540d\nSELECT\n    last_name,\n    department_name\nFROM\n    employees,departments\nWHERE\n    employees.`department_id`=departments.`department_id`;\n    \n    \n#\u4e3a\u8868\u8d77\u522b\u540d\n/*\n\u2460\u63d0\u9ad8\u8bed\u53e5\u7684\u7b80\u6d01\u5ea6\n\u2461\u533a\u5206\u591a\u4e2a\u91cd\u540d\u7684\u5b57\u6bb5\n\n\u6ce8\u610f:\u5982\u679c\u4e3a\u8868\u8d77\u4e86\u522b\u540d\uff0c\u5219\u67e5\u8be2\u7684\u5b57\u6bb5\u5c31\u4e0d\u80fd\u4f7f\u7528\u539f\u6765\u7684\u8868\u540d\u53bb\u9650\u5b9a\n*/\n#\u4f8b3.\u67e5\u8be2\u5458\u5de5\u540d\u3001\u5de5\u79cd\u53f7\u3001\u5de5\u79cd\u540d\nSELECT\n    last_name,\n    e.job_id,\n    job_title\nFROM\n    employees e,\n    jobs j\nWHERE\n    e.`job_id`=j.`job_id`;\n    \n#\u4e24\u4e2a\u8868\u7684\u987a\u5e8f\u53ef\u4ee5\u4ea4\u6362\n#\u4f8b4.\u67e5\u8be2\u5458\u5de5\u540d\u3001\u5de5\u79cd\u53f7\u3001\u5de5\u79cd\u540d\nSELECT\n    last_name,\n    e.job_id,\n    job_title\nFROM\n    jobs j,\n    employees e,\nWHERE\n    e.`job_id`=j.`job_id`;\n    \n#\u53ef\u4ee5\u52a0\u7b5b\u9009(and)\n#\u4f8b5\uff1a\u67e5\u8be2\u6709\u5956\u91d1\u7684\u5458\u5de5\u540d\u3001\u90e8\u95e8\u540d\nSELECT\n    last_name,\n    department_name,\n    commission_pct\nFROM\n    employees e,\n    departments d\nWHERE\n    e.`department_id`=d.`department_id`\nAND e.commission_pct IS NOT NULL;\n\n#\u4f8b6:\u67e5\u8be2\u57ce\u5e02\u540d\u4e2d\u7b2c\u4e8c\u4e2a\u5b57\u7b26\u4e3ao\u7684\u90e8\u95e8\u540d\u548c\u57ce\u5e02\u540d\nSELECT\n    department_name,\n    city\nFROM\n    departments d,\n    locations l\nWHERE   \n    d.`location_id`=l.`location_id`\nAND l.`city` LIKE '%o%';\n\n#\u53ef\u4ee5\u6dfb\u52a0\u5206\u7ec4\n#\u4f8b7\uff1a\u67e5\u8be2\u6bcf\u4e2a\u57ce\u5e02\u7684\u90e8\u95e8\u4e2a\u6570\nSELECT\n    COUNT(*) \u90e8\u95e8\u4e2a\u6570,\n    city\nFROM\n    departments d,\n    locations l\nWHERE\n    d.`location_id`=l.`location_id`\nGROUP BY\n    l.`city`;\n    \n#\u4f8b8\uff1a\u67e5\u8be2\u6709\u5956\u91d1\u7684\u6bcf\u4e2a\u90e8\u95e8\u7684\u90e8\u95e8\u540d\u548c\u90e8\u95e8\u7684\u9886\u5bfc\u7f16\u53f7\u548c\u8be5\u90e8\u95e8\u7684\u6700\u4f4e\u5de5\u8d44\nSELECT\n    department_name,\n    d.manager_id,\n    MIN(salary)\nFROM\n    departments d,\n    employees e\nWHERE\n    d.`department_id`=e.`department_id`\nAND e.`commission_pct` IS NOT NULL\nGROUP BY\n    department_name;\n    \n#\u53ef\u4ee5\u6dfb\u52a0\u6392\u5e8f\n#\u4f8b9\uff1a\u67e5\u8be2\u6bcf\u4e2a\u5de5\u79cd\u7684\u5de5\u79cd\u540d\u548c\u5458\u5de5\u7684\u4e2a\u6570\uff0c\u5e76\u4e14\u6309\u5458\u5de5\u4e2a\u6570\u964d\u5e8f\nSELECT\n    job_title,\n    COUNT(*) \u5458\u5de5\u4e2a\u6570\nFROM\n    jobs j,\n    employees e\nWHERE\n    j.`job_id`=e.`job_id`\nGROUP BY\n    job_title\nORDER BY\n    \u5458\u5de5\u4e2a\u6570 DESC;\n    \n#\u53ef\u4ee5\u5b9e\u73b0\u4e09\u8868\u8fde\u63a5\n#\u4f8b10\uff1a\u67e5\u8be2\u5458\u5de5\u540d\u3001\u90e8\u95e8\u540d\u548c\u6240\u5728\u7684\u57ce\u5e02\nSELECT\n    last_name,\n    department_name,\n    city\nFROM\n    employees e,\n    departments d,\n    locations l\nWHERE\n    e.`department_id`=d.`department_id`\nAND d.`location_id`=l.`location_id`;\n\n\n#2.\u975e\u7b49\u503c\u8fde\u63a5\n\n#\u4f8b\uff1a\u67e5\u8be2\u5458\u5de5\u7684\u5de5\u8d44\u548c\u5de5\u8d44\u7ea7\u522b\nSELECT\n    salary,\n    grade_level\nFROM\n    employees e ,\n    job_grades j\nWHERE\n    salary BETWEEN j.`lowest_sal`AND j.`highest_sal`;\n\n\n/*CREATE TABLE job_grades\n(grade_level VARCHAR(3),\n lowest_sal  int,\n highest_sal int);\n\nINSERT INTO job_grades\nVALUES ('A', 1000, 2999);\n\nINSERT INTO job_grades\nVALUES ('B', 3000, 5999);\n\nINSERT INTO job_grades\nVALUES('C', 6000, 9999);\n\nINSERT INTO job_grades\nVALUES('D', 10000, 14999);\n\nINSERT INTO job_grades\nVALUES('E', 15000, 24999);\n\nINSERT INTO job_grades\nVALUES('F', 25000, 40000);*/\n\n\n#3.\u81ea\u8fde\u63a5\n#\u4f8b\uff1a\u67e5\u8be2\u5458\u5de5\u540d\u548c\u4e0a\u7ea7\u7684\u540d\u79f0\nSELECT\n    e.employee_id AS \u5458\u5de5\u53f7,\n    e.last_name AS \u5458\u5de5\u540d,\n    m.employee_id AS \u4e0a\u7ea7\u7f16\u53f7,\n    m.last_name AS \u4e0a\u7ea7\u540d\nFROM\n    employees e,employees m\nWHERE\n    e.`manager_id`=m.`employee_id`;\n    \n\n\n#\u4f8b\u9898\n#1\uff1a\u663e\u793a\u5458\u5de5\u8868\u7684\u6700\u5927\u5de5\u8d44\uff0c\u5de5\u8d44\u5e73\u5747\u503c\nSELECT\n    MAX(salary),\n    AVG(salary)\nFROM\n    employees;\n\n#2.\u67e5\u8be2\u5458\u5de5\u8868\u7684`employee_id``job_id``last_name`\uff0c\u6309`department_id`\u964d\u5e8f\uff0c`salary`\u5347\u5e8f\nSELECT\n    employee_id,\n    job_id,\n    last_name\nFROM\n    employees\nORDER BY\n    department_id DESC,salary ASC;\n    \n#3.\u67e5\u8be2\u5458\u5de5\u8868\u7684job_id\u4e2d\u5305\u542ba\u548ce\u7684\uff0c\u5e76\u4e14a\u5728e\u7684\u524d\u9762 \nSELECT\n    job_id\nFROM\n    employees\nWHERE\n    job_id LIKE '%a%e%';\n\n/*4.\u5df2\u77e5\u8868student,_\u91cc\u9762\u6709id(\u5b66\u53f7)\uff0cname\uff0cgradeId(\u5e74\u7ea7\u7f16\u53f7)\n\u5df2\u77e5\u8868grade\uff0c\u91cc\u9762\u6709id(\u5e74\u7ea7\u7f16\u53f7\uff09\uff0c name\uff08\u5e74\u7ea7\u540d\uff09\n\u5df1\u77e5\u7f8eresult\uff0c\u91cc\u9762\u6709id\uff0cscore\uff0cstudentNo(\u5b66\u53f7\uff09\n\u8981\u6c42\u67e5\u8be2\u59d3\u540d\u3001\u5e74\u7ea7\u540d\u3001\u6210\u7ee9\n\nselect\n    s.name,g.name,r.score\nfrom\n    student s, grade g, result r\nwhere\n    s.gradeId=g.id\nand s.id=r.studentNo;\n*/\n\n\n#5.\u663e\u793a\u6240\u6709\u5458\u5de5\u7684\u59d3\u540d\uff0c\u90e8\u95e8\u53f7\u548c\u90e8\u95e8\u540d\u79f0\u3002\n    \nSELECT\n    last_name,\n    e.department_id,\n    department_name\nFROM\n    employees AS  e,\n    departments AS d\nWHERE\n    e.department_id=d.department_id;\n    \n#6.\u67e5\u8be290\u53f7\u90e8\u95e8\u5458\u5de5\u7684job_id\u548c90\u53f7\u90e8\u95e8\u7684location_id\nSELECT\n    d.department_id,\n    job_id,\n    location_id\nFROM\n    employees e,\n    departments d\nWHERE\n    e.department_id=d.`department_id`\nAND     d.`department_id`=90;\n\n#7.\u9009\u62e9\u6240\u6709\u6709\u5956\u91d1\u7684\u5458\u5de5\u7684last_name,department_name,location_id,city\nSELECT\n    last_name,\n    department_name,\n    l.location_id,\n    city\nFROM\n    employees e,\n    departments d,\n    locations l\nWHERE\n    e.`department_id`=d.`department_id`\nAND d.`location_id`=l.`location_id`\nAND e.`commission_pct` IS NOT NULL;\n\n\n#8.\u9009\u62e9city\u5728Toronto\u5de5\u4f5c\u7684\u5458\u5de5\u7684last_name,job_id,department_id,department_name\nSELECT\n    last_name,\n    job_id,\n    e.department_id,\n    department_name,\n    city\nFROM\n    employees e,\n    departments d,\n    locations l\nWHERE\n    e.`department_id`=d.`department_id`\nAND d.`location_id`=l.`location_id`\nAND l.`city`='Toronto';\n\n\n#9.\u67e5\u8be2\u6bcf\u4e2a\u5de5\u79cd\u3001\u6bcf\u4e2a\u90e8\u95e8\u7684\u90e8\u95e8\u540d\u3001\u5de5\u79cd\u540d\u548c\u6700\u4f4e\u5de5\u8d44\nSELECT\n    d.department_id,\n    department_name,\n    j.job_id,\n    job_title,\n    MIN(salary)\nFROM\n    employees e,\n    departments d,\n    jobs j\nWHERE\n    e.`department_id`=d.`department_id`\nAND e.`job_id`=j.`job_id`\nGROUP BY\n    d.department_name,j.job_title;\n\n#10.\u67e5\u8be2\u6bcf\u4e2a\u56fd\u5bb6\u4e0b\u7684\u90e8\u95e8\u4e2a\u6570\u5927\u4e8e2\u7684\u56fd\u5bb6\u7f16\u53f7\nSELECT\n    country_id,\n    COUNT(*) AS \u90e8\u95e8\u4e2a\u6570\nFROM\n    departments d,\n    locations l\nWHERE\n    d.`location_id`=l.`location_id`\nGROUP BY\n    country_id\nHAVING\n    \u90e8\u95e8\u4e2a\u6570>2;\n\n#7\u3001\u9009\u62e9\u6307\u5b9a\u5458\u5de5\u7684\u59d3\u540d\uff0c\u5458\u5de5\u53f7\uff0c\u4ee5\u53ca\u4ed6\u7684\u7ba1\u7406\u8005\u7684\u59d3\u540d\u548c\u5458\u5de5\u53f7\uff0c\u7ed3\u679c\u7c7b\u4f3c\u4e8e\u4e0b\u9762\u7684\u683c\u5f0f\nemployees   Emp#    manager  Mgr#\nkochhar     101 king     100\n\nSELECT\n    e.last_name AS employees,\n    e.employee_id AS 'Emp#',\n    m.last_name AS manager,\n    m.employee_id AS 'Mgr#'\nFROM\n    employees e,\n    employees m\nWHERE\n    e.manager_id=m.employee_id\nAND e.last_name='kochhar';\n")),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#sql99\u8bed\u6cd5(\u63a8\u8350\u4f7f\u7528\u8be5\u6807\u51c6\u7684\u8bed\u6cd5)\n/*\n\u8bed\u6cd5\uff1a\n    select \u67e5\u8be2\u5217\u8868\n    from    \u88681  \u522b\u540d  \u3010\u8fde\u63a5\u7c7b\u578b\u3011\n    join    \u88682  \u522b\u540d  \n    on  \u8fde\u63a5\u6761\u4ef6\n    \u3010where  \u7b5b\u9009\u6761\u4ef6\u3011\n    \u3010group by \u5206\u7ec4\u3011\n    \u3010having \u7b5b\u9009\u6761\u4ef6\u3011\n    \u3010order by \u6392\u5e8f\u5217\u8868\u3011;\n\n\u8fde\u63a5\u7c7b\u578b\uff1a\n1.\u5185\u8fde\u63a5\uff1ainner\n2.\u5916\u8fde\u63a5\n    \u5de6\u5916\u8fde\u63a5\uff1aleft \u3010outer\u3011\n    \u53f3\u5916\u8fde\u63a5\uff1aright\u3010outer\u3011\n    \u5168\u5916\u8fde\u63a5\uff1afull\u3010outer\u3011(mysql\u4e0d\u652f\u6301)\n3.\u4ea4\u53c9\u8fde\u63a5\uff1across\n\n*/\n\n#\u4e00\u3001\u5185\u8fde\u63a5\n/*\n\u8bed\u6cd5\uff1a\n    select \u67e5\u8be2\u5217\u8868\n    from    \u88681  \u522b\u540d \n    inner  join \u88682  \u522b\u540d  \n    on  \u8fde\u63a5\u6761\u4ef6\n    \u3010where  \u7b5b\u9009\u6761\u4ef6\u3011\n    \u3010group by \u5206\u7ec4\u3011\n    \u3010having \u7b5b\u9009\u6761\u4ef6\u3011\n    \u3010order by \u6392\u5e8f\u5217\u8868\u3011;\n    \n\n\u5206\u7c7b\uff1a\n1.\u7b49\u503c\u8fde\u63a5\n2.\u975e\u7b49\u503c\u8fde\u63a5\n3.\u81ea\u8fde\u63a5\n\n*/\n\n#1.\u7b49\u503c\u8fde\u63a5\n#\u6848\u4f8b1.\u67e5\u8be2\u5458\u5de5\u540d\u3001\u90e8\u95e8\u540d(\u8c03\u6362\u4f4d\u7f6e)\n\nSELECT\n    last_name,\n    department_name\nFROM\n    departments d\nINNER JOIN\n    employees e\nON\n    e.`department_id`=d.`department_id`;\n\n\n#\u6848\u4f8b2.\u67e5\u8be2\u540d\u5b57\u4e2d\u5305\u542be\u7684\u5458\u5de5\u540d\u548c\u5de5\u79cd\u540d(\u7b5b\u9009\uff09\nSELECT\n    last_name,\n    job_title\nFROM\n    employees e\nINNER JOIN\n    jobs j\nON\n    e.`job_id`=j.`job_id`\nWHERE\n    e.last_name LIKE '%a%';\n    \n\n#\u6848\u4f8b3\uff0e\u67e5\u8be2\u90e8\u95e8\u4e2a\u6570>3\u7684\u57ce\u5e02\u540d\u540d\u548c\u90e8\u95e8\u4e2a\u6570\uff0c(\u5206\u7ec4+\u7b5b\u9009)\n#\u2460\u67e5\u8be2\u6bcf\u4e2a\u57ce\u5e02\u7684\u90e8\u95e8\u4e2a\u6570\n#\u2461\u5728\u2460\u7ed3\u679c\u4e0a\u7b5b\u9009\u6ee1\u8db3\u6761\u4ef6\u7684\n\nSELECT\n    city,\n    COUNT(*) AS \u90e8\u95e8\u4e2a\u6570\nFROM\n    locations l\nINNER JOIN\n    departments d\nON  \n    l.`location_id`=d.`location_id`\nGROUP BY\n    city\nHAVING  \u90e8\u95e8\u4e2a\u6570>3;\n    \n\n#\u6848\u4f8b4.\u67e5\u8be2\u54ea\u4e2a\u90e8\u95e8\u7684\u90e8\u95e8\u5458\u5de5\u4e2a\u6570>3\u7684\u90e8\u95e8\u540d\u548c\u5458\u5de5\u4e2a\u6570\uff0c\u5e76\u6309\u4e2a\u6570\u964d\u5e8f\uff08\u6392\u5e8f)\n#\u2460 \u67e5\u8be2\u6bcf\u4e2a\u90fd\u95e8\u7684\u5458\u5de5\u4e2a\u6570\n#\u2461 \u5728\u2460\u7ed3\u679c\u4e0a\u7b5b\u9009\u5458\u5de5\u4e2a\u6570>3\u7684\u8bb0\u5f55\uff0c\u5e76\u6392\u5e8f\nSELECT\n    d.department_name,\n    COUNT(*) AS \u5458\u5de5\u4e2a\u6570\nFROM\n    departments d\nINNER JOIN\n    employees e\nON\n    d.`department_id`=e.`department_id`\nGROUP BY\n    d.department_name\nHAVING\n    \u5458\u5de5\u4e2a\u6570>3\nORDER BY\n    \u5458\u5de5\u4e2a\u6570 DESC;\n\n#\u6848\u4f8b5.\u67e5\u8be2\u5458\u5de5\u540d\u3001\u90e8\u95e8\u540d\u3001\u5de5\u79cd\u540d\uff0c\u5e76\u6309\u90e8\u95e8\u540d\u964d\u5e8f\nSELECT\n    last_name,\n    department_name,\n    job_title\nFROM\n    employees e\nINNER JOIN\n    departments d\nON  \n    e.`department_id`=d.`department_id`\nINNER JOIN\n    jobs  j\nON\n    e.`job_id`=j.`job_id`\nORDER BY\n    department_name DESC;\n    \n\n\n#2.\u975e\u7b49\u503c\u8fde\u63a5\n#\u67e5\u8be2\u5458\u5de5\u7684\u5de5\u8d44\u7ea7\u522b\nSELECT\n    grade_level,\n    salary\nFROM\n    employees e\nINNER JOIN\n    job_grades j\nON\n    e.`salary` BETWEEN j.`lowest_sal` AND j.`highest_sal`;\n    \n    \n#\u67e5\u8be2\u5de5\u8d44\u7ea7\u522b\u7684\u4e2a\u6570>20\u7684\u5de5\u8d44\u7ea7\u522b\u4e2a\u6570,\u5e76\u4e14\u6309\u5de5\u8d44\u7ea7\u522b\u964d\u5e8f\nSELECT\n    grade_level,\n    COUNT(*) AS \u4e2a\u6570\nFROM\n    employees e\nINNER JOIN\n    job_grades j\nON\n    e.salary BETWEEN j.`lowest_sal` AND j.`highest_sal`\nGROUP BY\n    grade_level\nHAVING\n    \u4e2a\u6570>20\nORDER BY\n    grade_level DESC;\n    \n#3.\u81ea\u8fde\u63a5\n#\u67e5\u8be2\u5458\u5de5\u540d\u4e2d\u5305\u542b\u5b57\u7b26k\u7684\u5458\u5de5\u7684\u540d\u5b57\u3001\u4e0a\u7ea7\u7684\u540d\u5b57\nSELECT\n    e.last_name AS \u5458\u5de5,\n    m.last_name AS \u4e0a\u7ea7\nFROM\n    employees e\nINNER JOIN\n    employees m\nON\n    e.`manager_id`=m.`employee_id`\nWHERE\n    e.`last_name` LIKE '%k%';\n    \n\n#\u4e8c\u3001\u5916\u8fde\u63a5\n/*\n\n\u5e94\u7528\u573a\u666f\uff1a\u7528\u4e8e\u67e5\u8be2\u4e00\u4e2a\u8868\u6709\uff0c\u53e6\u4e00\u4e2a\u8868\u6ca1\u6709\u7684\u8bb0\u5f55\n\n\u7279\u70b9:\n1\u3001\u5916\u8fde\u63a5\u7684\u67e5\u8be2\u7ed3\u679c\u4e3a\u4e3b\u8868\u4e2d\u7684\u6240\u6709\u8bb0\u5f55\n    \u5982\u679c\u4ece\u8868\u4e2d\u6709\u548c\u5b83\u5339\u914d\u7684\uff0c\u5219\u663e\u793a\u5339\u914d\u7684\u503c\n    \u5982\u679c\u4ece\u8868\u4e2d\u6ca1\u6709\u548c\u5b83\u5339\u914d\u7684\uff0c\u5219\u663e\u793anull\n    \u5916\u8fde\u63a5\u67e5\u8be2\u7ed3\u679c=\u5185\u8fde\u63a5\u7ed3\u679c+\u4e3b\u8868\u4e2d\u6709\u800c\u4ece\u8868\u6ca1\u6709\u7684\u8bb0\u5f55\n\n2\u3001\u5de6\u5916\u8fde\u63a5\uff0cleft join\u5de6\u8fb9\u7684\u662f\u4e3b\u8868\n   \u53f3\u5916\u8fde\u63a5\uff0cright join\u53f3\u8fb9\u7684\u662f\u4e3b\u8868\n3\u3001\u5de6\u5916\u548c\u53f3\u5916\u4ea4\u6362\u4e24\u4e2a\u8868\u7684\u987a\u5e8f\uff0c\u53ef\u4ee5\u5b9e\u73b0\u540c\u6837\u7684\u6548\u679c\n\n4\u3001\u5168\u5916\u8fde\u63a5=\u5185\u8fde\u63a5\u7684\u7ed3\u679c+\u88681\u4e2d\u6709\u4f46\u88682\u6ca1\u6709\u7684+\u88682\u4e2d\u6709\u4f46\u88681\u6ca1\u6709\u7684\n\n*/\n\nSELECT * FROM beauty;\nSELECT * FROM boys;\n\n#\u67e5\u8be2\u7537\u670b\u53cb\u4e0d\u5728\u7537\u795e\u8868\u7684\u5973\u795e\u540d\n#\u5de6\u5916\u8fde\u63a5\nSELECT\n    beauty.`name`,boys.*\nFROM\n    beauty \nLEFT OUTER JOIN\n    boys\nON\n    beauty.`boyfriend_id`=boys.`id`\nWHERE\n    boys.`id` IS NULL;\n    \n#\u53f3\u5916\u8fde\u63a5\nSELECT\n    beauty.`name`,boys.*\nFROM\n    boys\nRIGHT OUTER JOIN\n    beauty \nON\n    beauty.`boyfriend_id`=boys.`id`\nWHERE\n    boys.`id` IS NULL;\n    \n    \n#\u6848\u4f8b:\u67e5\u8be2\u54ea\u4e2a\u90e8\u95e8\u6ca1\u6709\u5458\u5de5\n#\u5de6\u5916\u8fde\u63a5\nSELECT\n    department_name,\n    employees.*\nFROM\n    departments\nLEFT OUTER JOIN\n    employees\nON\n    departments.`department_id`=employees.`department_id`\nWHERE\n    employees.`employee_id` IS NULL;\n\n\n#\u53f3\u5916\u8fde\u63a5\nSELECT\n    department_name,\n    employees.*\nFROM\n    employees\nRIGHT OUTER JOIN\n    departments\nON\n    departments.`department_id`=employees.`department_id`\nWHERE\n    employees.`employee_id` IS NULL;\n    \n    \n#\u5168\u5916\u8fde\u63a5\n/*use girls;\nSELECT\n    beauty.`name`,boys.*\nFROM\n    boys\nfull OUTER JOIN\n    beauty \nON\n    beauty.`boyfriend_id`=boys.`id`;\n*/  \n\n\n#\u4e09\u3001\u4ea4\u53c9\u8fde\u63a5\uff08\u7b1b\u5361\u5c14\u4e58\u79ef\uff09\nSELECT\n    beauty.*,\n    boys.*\nFROM\n    beauty\nCROSS JOIN\n    boys;\n    \n#sq192\u548csql99 \u7684\u533a\u522b\n\u529f\u80fd: sql99\u652f\u6301\u7684\u8f83\u591a\n\u53ef\u8bfb\u6027:sq199\u5b9e\u73b0\u8fde\u63a5\u6761\u4ef6\u548c\u7b5b\u9009\u6761\u4ef6\u7684\u5206\u79bb\uff0c\u53ef\u8bfb\u6027\u8f83\u9ad8\n\n\n#\u4f8b\u9898\n#\u4e00\u3001\u67e5\u8be2\u7f16\u53f7>3\u7684\u5973\u795e\u7684\u7537\u670b\u53cb\u4fe1\u606f\uff0c\u5982\u679c\u6709\u5219\u5217\u51fa\u8be6\u7ec6\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u7528null\u586b\u5145\nSELECT\n    beauty.id \u5973\u795e\u7f16\u53f7,\n    beauty.`name`,\n    boys.*\nFROM\n    beauty\nLEFT JOIN\n    boys\nON\n    boys.`id`=beauty.`boyfriend_id`\nWHERE\n    beauty.`id`>3;\n\n#\u4e8c\u3001\u6773\u8be2\u54ea\u4e2a\u57ce\u5e02\u6ca1\u6709\u90e8\u95e8\nSELECT\n    city,\n    d.*\nFROM\n    locations l\nLEFT JOIN\n    departments d\nON\n    d.`location_id`=l.`location_id`\nWHERE\n    department_id IS NULL;\n    \n#\u4e09\u3001\u67e5\u8be2\u90e8\u95e8\u540d\u4e3aSAL\u6216IT\u7684\u5458\u5de5\u4fe1\u606f\nSELECT\n    d.`department_name`,\n    e.*\nFROM\n    employees e\nRIGHT JOIN\n    departments d\nON  \n    e.`department_id`=d.`department_id`\nWHERE\n    d.`department_name`='SAL'  OR  d.`department_name`='IT';\n\n")),(0,E.kt)("ul",null,(0,E.kt)("li",{parentName:"ul"},(0,E.kt)("p",{parentName:"li"},"\u5404\u4e2a\u8fde\u63a5\u7684\u793a\u610f\u56fe"),(0,E.kt)("p",{parentName:"li"},(0,E.kt)("img",{alt:"join",src:a(734).Z,width:"1381",height:"647"}),"\n",(0,E.kt)("img",{alt:"join",src:a(8632).Z,width:"1346",height:"862"})))),(0,E.kt)("h3",{id:"7-\u5b50\u67e5\u8be2"},"7. \u5b50\u67e5\u8be2"),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u5b50\u67e5\u8be2\n/*\n\u542b\u4e49:\n\u51fa\u73b0\u5728\u5176\u4ed6\u8bed\u53e5\u4e2d\u7684select\u8bed\u53e5\uff0c\u79f0\u4e3a\u5b50\u67e5\u8be2\u6216\u5185\u67e5\u8be2\n\u5916\u90e8\u7684\u67e5\u8be2\u8bed\u53e5\uff0c\u79f0\u4e3a\u4e3b\u67e5\u8be2\u6216\u5916\u67e5\u8be2\n\n\u5206\u7c7b:\n\u6309\u5b50\u67e5\u8be2\u51fa\u73b0\u7684\u4f4d\u7f6e:\n    select\u540e\u9762:\u4ec5\u4ec5\u652f\u6301\u6807\u91cf\u5b50\u67e5\u8be2\n    from\u540e\u9762:\u652f\u6301\u8868\u5b50\u67e5\u8be2\n    where\u6216having\u540e\u9762:\u2605\n        \u6807\u91cf\u5b50\u67e5\u8be2(\u5355\u884c)\u221a\u5217\u5b50\u67e5\u8be2(\u591a\u884c\uff09\u221a\n        \u884c\u5b50\u67e5\u8be2\n    exists\u540e\u9762(\u76f8\u5173\u5b50\u67e5\u8be2)\n        \u8868\u5b50\u67e5\u8be2\n\n\u6309\u7ed3\u679c\u96c6\u7684\u884c\u5217\u6570\u4e0d\u540c:\n    \u6807\u91cf\u5b50\u67e5\u8be2(\u7ed3\u679c\u96c6\u53ea\u6709\u4e00\u884c\u4e00\u5217)\n    \u5217\u5b50\u67e5\u8be2(\u7ed3\u679c\u96c6\u53ea\u6709\u4e00\u5217\u591a\u884c)\n    \u884c\u5b50\u67e5\u8be2\uff08\u7ed3\u679c\u96c6\u6709\u4e00\u884c\u591a\u5217)\n    \u8868\u5b50\u67e5\u8be2(\u7ed3\u679c\u96c6\u4e00\u822c\u4e3a\u591a\u884c\u591a\u5217)\n*/\n\n\n#\u4e00\u3001where\u6216having\u540e\u9762\n/*\n1\u3001\u6807\u91cf\u5b50\u67e5\u8be2(\u5355\u884c\u5b50\u67e5\u8be2)\n2\u3001\u5217\u5b50\u67e5\u8be2(\u591a\u884c\u5b50\u67e5\u8be2)\n3\u3001\u884c\u5b50\u67e5\u8be2\uff08\u591a\u5217\u591a\u884c\uff09\n\n\u7279\u70b9:\n\u2460\u5b50\u67e5\u8be2\u653e\u5728\u5c0f\u62ec\u53f7\u5185\n\u2461\u5b50\u67e5\u8be2\u4e00\u822c\u653e\u5728\u6761\u4ef6\u7684\u53f3\u4fa7\n\u2462\u6807\u91cf\u5b50\u67e5\u8be2\uff0c\u2014\u822c\u642d\u914d\u7740\u5355\u884c\u64cd\u4f5c\u7b26\u4f7f\u7528 \n    > < >= <= = <>\n\u5217\u5b50\u67e5\u8be2\uff0c\u4e00\u822c\u642d\u914d\u7740\u591a\u884c\u64cd\u4f5c\u7b26\u4f7f\u7528\n    in\uff0cany/some\uff0call\n\u2463\u5b50\u67e5\u8be2\u7684\u6267\u884c\u4f18\u5148\u4e8e\u4e3b\u67e5\u8be2\u6267\u884c\uff0c\u4e3b\u67e5\u8be2\u7684\u6761\u4ef6\u7528\u5230\u4e86\u5b50\u67e5\u8be2\u7684\u7ed3\u679c\n*/\n\n#1.\u6807\u91cf\u5b50\u67e5\u8be2\n#\u6848\u4f8b1:\u8c01\u7684\u5de5\u8d44\u6bd4Abel\u9ad8?\n#\u2460\u67e5\u8be2Abel\u7684\u5de5\u8d44\n#\u2461\u67e5\u8be2\u5458\u5de5\u7684\u4fe1\u606f,\u6ee1\u8db3salary>\u2460\u7ed3\u679c\nSELECT\n    *\nFROM\n    employees\nWHERE\n    salary>(\n    \n    SELECT\n    salary\n    FROM\n    employees\n    WHERE\n    last_name='Abel'        \n);\n\n#\u6848\u4f8b2:\u8fd4\u56dejob_id\u4e0e141\u53f7\u5458\u5de5\u76f8\u540c,salary\u6bd4143\u53f7\u5458\u5de5\u591a\u7684\u5458\u5de5\u59d3\u540d\uff0cjob_id \u548c\u5de5\u8d44\n#1\u67e5\u8be2141\u53f7\u5458\u5de5\u7684job_id\n\nSELECT job_id\nFROM employees\nWHERE employee_id = 141\n\n#\u2461\u67e5\u8be2143\u53f7\u5458\u5de5\u7684salary\nSELECT salary\nFROMemployees\nWHEREemployee_id = 143;\n\n#\u2462\u67e5\u8be2\u5458\u5de5\u7684\u59d3\u540d\uff0cjob_id \u548c\u5de5\u8d44\uff0c\u8981\u6c42job_id=\u2460\u5e76\u4e14salary>\u2461\nSELECT\n    last_name,\n    job_id,\n    salary\nFROM\n    employees\nWHERE\n    job_id=(\n    \n    SELECT job_id\n    FROM employees\n    WHERE employee_id = 141\n) \nAND salary>(\n    SELECT salary\n    FROM employees\n    WHERE employee_id = 143\n);\n\n\n#\u6848\u4f8b3:\u8fd4\u56de\u516c\u53f8\u5de5\u8d44\u6700\u5c11\u7684\u5458\u5de5\u7684last_name,job_id\u548csalary\n#\u2460\u67e5\u8be2\u516c\u53f8\u7684\u6700\u4f4e\u5de5\u8d44\n#\u2461\u67e5\u8be2last_name,job_id\u548csalary\uff0c\u8981\u6c42salary=\u2460\n\nSELECT\n    last_name,\n    job_id,\n    salary\nFROM\n    employees\nWHERE\n    salary=(\n    SELECT  MIN(salary)\n    FROM    employees   \n);\n\n#\u6848\u4f8b4:\u67e5\u8be2\u6700\u4f4e\u5de5\u8d44\u5927\u4e8e50\u53f7\u90e8\u95e8\u6700\u4f4e\u5de5\u8d44\u7684\u90e8\u95e8id\u548c\u5176\u6700\u4f4e\u5de5\u8d44\n#\u2460\u67e5\u8be250\u53f7\u90e8\u95e8\u7684\u6700\u4f4e\u5de5\u8d44\nSELECT MIN(salary)\nFROMemployees\nWHERE department_id = 50\n#\u2461\u67e5\u8be2\u6bcf\u4e2a\u90e8\u95e8\u7684\u6700\u4f4e\u5de5\u8d44\nSELECT MIN( salary),department_id\nFROM employees\nGROUP BY department_id\n#\u2462\u5728\u2461\u57fa\u7840\u4e0a\u7b5b\u9009,\u6ee1\u8db3min (salary) >1\nSELECT MIN(salary),department_id\nFROM employees\nGROUP BY department_id\nHAVING  MIN(salary)>(\n    SELECT MIN(salary)\n    FROM employees\n    WHERE department_id = 50    \n);\n\n#2\u3001\u5217\u5b50\u67e5\u8be2(\u591a\u884c\u5b50\u67e5\u8be2)\n#\u6848\u4f8b1:\u8fd4\u56delocation_id\u662f1400\u62161700\u7684\u90e8\u95e8\u4e2d\u7684\u6240\u6709\u5458\u5de5\u59d3\u540d\n#\u2460\u67e5\u8be2location_id\u662f1400\u62161700\u7684\u90e8\u95e8\u7f16\u53f7\nSELECT\n    DISTINCT department_id\nFROM\n    departments\nWHERE\n    location_id IN(1400,1700);\n\n#\u2461\u67e5\u8be2\u5458\u5de5\u59d3\u540d\uff0c\u8981\u6c42\u90e8\u95e8\u53f7\u662f\u2460\u5217\u8868\u4e2d\u7684\u67d0\u4e00\u4e2a\nSELECT\n    last_name\nFROM\n    employees\nWHERE\n    department_id IN(\n    \n    SELECT\n    DISTINCT department_id\n    FROM\n    departments\n    WHERE\n    location_id IN(1400,1700)   \n);\n\n#\u6848\u4f8b2:\u8fd4\u56de\u5176\u5b83\u5de5\u79cd\u4e2d\u6bd4job_id\u4e3a'IT_PROG'\u5de5\u79cd\u4efb\u4e00\u5de5\u8d44\u4f4e\u7684\u5458\u5de5\u7684\u5458\u5de5\u53f7\u3001\u59d3\u540d\u3001job_id \u4ee5\u53casalary\n#\u2460\u67e5\u8be2job_id\u4e3a'IT_PROG'\u5de5\u79cd\u7684\u5458\u5de5\u7684\u5de5\u8d44\nSELECT\n    DISTINCT salary\nFROM\n    employees\nWHERE\n    job_id='IT_PROG';\n\n#\u2461\u67e5\u8be2\u5458\u5de5\u53f7\u3001\u59d3\u540d\u3001job_id\u4ee5\u53casalary\uff0csalary<(\u2460)\u7684\u4efb\u610f\u4e00\u4e2a\nSELECT\n    employee_id,\n    last_name,\n    job_id,\n    salary\nFROM\n    employees\nWHERE\n    salary<ANY(\n    \n    SELECT\n    DISTINCT salary\n    FROM\n    employees\n    WHERE\n    job_id='IT_PROG'    \n)\nAND job_id<>'IT_PROG';\n\n#\u6216\nSELECT\n    employee_id,\n    last_name,\n    job_id,\n    salary\nFROM\n    employees\nWHERE\n    salary<(\n    \n    SELECT\n    MAX(salary)\n    FROM\n    employees\n    WHERE\n    job_id='IT_PROG'    \n)\nAND job_id<>'IT_PROG';\n\n\n#\u6848\u4f8b3:\u8fd4\u56de\u5176\u5b83\u5de5\u79cd\u4e2d\u6bd4job_id\u4e3a'IT_PROG'\u5de5\u79cd\u6240\u6709\u5de5\u8d44\u4f4e\u7684\u5458\u5de5\u7684\u5458\u5de5\u53f7\u3001\u59d3\u540d\u3001job_id \u4ee5\u53casalary\nSELECT\n    employee_id,\n    last_name,\n    job_id,\n    salary\nFROM\n    employees\nWHERE\n    salary<ALL(\n    SELECT\n    DISTINCT salary\n    FROM\n    employees\n    WHERE\n    job_id='IT_PROG'    \n)\nAND job_id<>'IT_PROG';\n\n#\u6216\nSELECT\n    employee_id,\n    last_name,\n    job_id,\n    salary\nFROM\n    employees\nWHERE\n    salary<(\n    SELECT\n    MIN(salary)\n    FROM\n    employees\n    WHERE\n    job_id='IT_PROG'    \n)\nAND job_id<>'IT_PROG';\n\n\n#3.\u884c\u5b50\u67e5\u8be2(\u7ed3\u679c\u96c6\u4e00\u884c\u591a\u5217\u6216\u591a\u884c\u591a\u5217)\n\n#\u6848\u4f8b:\u67e5\u8be2\u5458\u5de5\u7f16\u53f7\u6700\u5c0f\u5e76\u4e14\u5de5\u8d44\u6700\u9ad8\u7684\u5458\u5de5\u4fe1\u606f\n\nSELECT\n    *\nFROM\n    employees\nWHERE\n    (employee_id,salary)=(\n    SELECT MIN(employee_id),MAX(salary)\n    FROM employees\n    );\n\n#\u2460\u67e5\u8be2\u5458\u5de5\u7f16\u53f7\u6700\u5c0f\u7684\u5458\u5de5\u7f16\u53f7\nSELECT\n    MIN(employee_id)\nFROM\n    employees e;\n\n     \n#\u2461\u67e5\u8be2\u6700\u9ad8\u5de5\u8d44\nSELECT\n    MAX(salary)\nFROM\n    employees;\n    \n#\u2462\u67e5\u8be2\u5458\u5de5\u4fe1\u606f\nSELECT\n    *\nFROM\n    employees\nWHERE\n    employee_id=(\n    SELECT\n    MIN(employee_id)\n    FROM\n    employees e\n    )\nAND\n    salary=(\n    SELECT\n    MAX(salary)\n    FROM\n    employees\n    );\n    \n    \n#\u4e8c\u3001select\u540e\u9762\u7684\u5b50\u67e5\u8be2\n/*\n\u540e\u9762\u4ec5\u4ec5\u652f\u6301\u6807\u91cf\u5b50\u67e5\u8be2\n*/\n\n#\u4f8b1\uff1a\u67e5\u8be2\u6bcf\u4e2a\u90e8\u95e8\u7684\u5458\u5de5\u4e2a\u6570\n SELECT\n    d.*,\n    (\n    SELECT\n        COUNT(*)\n    FROM\n        employees e\n    WHERE\n        e.department_id=d.department_id\n    ) AS \u5458\u5de5\u4e2a\u6570\nFROM\n    departments d;\n    \n#\u4f8b2\uff1a\u67e5\u8be2\u5458\u5de5\u53f7102\u7684\u90e8\u95e8\u540d\nSELECT\n    (\n    SELECT\n    department_name\n    FROM\n    departments d\n    INNER JOIN\n    employees e\n    ON  d.`department_id`=e.`department_id`\n    WHERE\n    e.`employee_id`=102;\n    );\n    \n \n #\u4e09\u3001from\u540e\u9762\n /*\u5c06\u5b50\u67e5\u8be2\u7ed3\u679c\u5145\u5f53\u4e00\u5f20\u8868,\u8981\u6c42\u5fc5\u987b\u8d77\u522b\u540d*/\n \n #\u4f8b\uff1a\u67e5\u8be2\u6bcf\u4e2a\u90e8\u95e8\u7684\u5e73\u5747\u5de5\u8d44\u7684\u5de5\u8d44\u7b49\u7ea7\n #\u2460\u67e5\u8be2\u6bcf\u4e2a\u90e8\u95e8\u7684\u5e73\u5747\u5de5\u8d44\n #\u2461\u8fde\u63a5\u2460\u7684\u7ed3\u679c\u96c6\u548cjob_grades\u8868\uff0c\u7b5b\u9009\u6761\u4ef6\u5e73\u5747\u5de5\u8d44between lowest_sal and highest_sal\n SELECT\n    avg_dep.*,\n    j.`grade_level`\n FROM\n    (\n    SELECT\n        AVG(salary) AS avg_sal,\n        department_id\n    FROM\n        employees\n    GROUP BY\n        department_id\n    ) AS avg_dep\nINNER JOIN\n    job_grades j\nON  avg_dep.avg_sal BETWEEN j.`lowest_sal`AND j.`highest_sal`;\n\n\n\n#\u4f8b\u9898\n#1.\u67e5\u8be2\u548czlotkey\u76f8\u540c\u90e8\u95e8\u7684\u5458\u5de5\u59d3\u540d\u548c\u5de5\u8d44\n#\u2460\u67e5\u8be2zlotkey\u7684\u90e8\u95e8\u53f7\nSELECT\n    department_id\nFROM\n    employees\nWHERE\n    last_name='zlotkey';\n\n#\u2461\u67e5\u8be2\u90e8\u95e8\u53f7=\u2460\u7684\u5458\u5de5\u7684\u59d3\u540d\u548c\u5de5\u8d44\nSELECT\n    last_name,\n    salary\nFROM\n    employees\nWHERE\n    department_id=(\n    SELECT\n    department_id\n    FROM\n    employees\n    WHERE\n    last_name='zlotkey'\n    );\n\n#2.\u67e5\u8be2\u5de5\u8d44\u6bd4\u516c\u53f8\u5e73\u5747\u5de5\u8d44\u9ad8\u7684\u5458\u5de5\u7684\u5458\u5de5\u53f7\uff0c\u59d3\u540d\u548c\u5de5\u8d44\u3002\n#\u2460\u67e5\u8be2\u516c\u53f8\u7684\u5e73\u5747\u5de5\u8d44\nSELECT\n    AVG(salary)\nFROM\n    employees;\n\n#\u67e5\u8be2\u5de5\u8d44>\u2460\u7684\u5458\u5de5\u7684\u5458\u5de5\u53f7\uff0c\u59d3\u540d\u548c\u5de5\u8d44\u3002\nSELECT\n    employee_id,\n    last_name,\n    salary\nFROM\n    employees\nWHERE\n    salary>(\n    SELECT\n    AVG(salary)\n    FROM\n    employees);\n\n#3.\u67e5\u8be2\u5404\u90e8\u95e8\u4e2d\u5de5\u8d44\u6bd4\u672c\u90e8\u95e8\u5e73\u5747\u5de5\u8d44\u9ad8\u7684\u5458\u5de5\u7684\u5458\u5de5\u53f7\uff0c\u59d3\u540d\u548c\u5de5\u8d44\n#\u2460\u67e5\u8be2\u6bcf\u4e2a\u90e8\u95e8\u7684\u5e73\u5747\u5de5\u8d44\nSELECT\n    AVG(salary),\n    department_id\nFROM\n    employees\nGROUP BY\n    department_id;\n    \n#\u2461\u67e5\u8be2\u5404\u90e8\u95e8\u5de5\u8d44>\u2460\u7684\u5458\u5de5\u7684\u5458\u5de5\u53f7\uff0c\u59d3\u540d\u548c\u5de5\u8d44\nSELECT\n    employee_id,\n    last_name,\n    salary,\n    e.department_id\nFROM\n    (SELECT\n    AVG(salary) avg_s ,\n    department_id\n    FROM\n    employees\n    GROUP BY\n    department_id) AS avg_dep\nRIGHT JOIN\n    employees e\nON\n    avg_dep.department_id=e.`department_id`\nWHERE\n    e.`salary`>avg_dep.avg_s;\n    \n\n#4.\u67e5\u8be2\u548c\u59d3\u540d\u4e2d\u5305\u542b\u5b57\u6bcdu\u7684\u5458\u5de5\u5728\u76f8\u540c\u90e8\u95e8\u7684\u5458\u5de5\u7684\u5458\u5de5\u53f7\u548c\u59d3\u540d\n#\u2460\u67e5\u8be2\u59d3\u540d\u4e2d\u5305\u542b\u5b57\u6bcdu\u7684\u5458\u5de5\u7684\u90e8\u95e8\nSELECT  \n    DISTINCT department_id\nFROM\n    employees\nWHERE\n    last_name LIKE  '%u%';\n\n#\u2461\u67e5\u8be2\u90e8\u95e8\u548c\u2460\u76f8\u540c\u7684\u5458\u5de5\u7684\u5458\u5de5\u53f7\u548c\u59d3\u540d\nSELECT\n    employee_id,\n    last_name\nFROM\n    employees AS e\nINNER JOIN\n    (\n    SELECT  \n    DISTINCT department_id\n    FROM\n    employees\n    WHERE\n    last_name LIKE  '%u%'\n    ) AS dep\nON\n    e.`department_id`=dep.department_id;\n    \n#\u6216\u8005\n    \nSELECT\n    employee_id,\n    last_name\nFROM\n    employees\nWHERE\n    department_id IN (\n    SELECT  \n    DISTINCT department_id\n    FROM\n    employees\n    WHERE\n    last_name LIKE  '%u%'\n    );\n\n\n#5.\u67e5\u8be2\u5728\u90e8\u95e8\u7684location id\u4e3a1700\u7684\u90e8\u95e8\u5de5\u4f5c\u7684\u5458\u5de5\u7684\u5458\u5de5\u53f7\n#\u2460\u67e5\u8be2location id\u4e3a1700\u7684\u90e8\u95e8\nSELECT\n    DISTINCT department_id\nFROM\n    departments\nWHERE\n    location_id=1700;\n    \n#\u2461\u67e5\u8be2\u90e8\u95e8\u4e3a\u2460\u4e2d\u4efb\u610f\u4e00\u4e2a\u7684\u5458\u5de5\u7684\u5458\u5de5\u53f7\nSELECT\n    employee_id\nFROM\n    employees\nWHERE\n    department_id IN(\n    SELECT\n    DISTINCT department_id\n    FROM\n    departments\n    WHERE\n    location_id=1700\n    );\n#6.\u67e5\u8be2\u7ba1\u7406\u8005\u662fK_ing\u7684\u5458\u5de5\u59d3\u540d\u548c\u5de5\u8d44\n#\u2460\u67e5\u8be2King\u7684\u5458\u5de5\u53f7\nSELECT\n    employee_id\nFROM\n    employees\nWHERE\n    last_name='K_ing';\n#\u2461\u67e5\u8be2`manager_id`\u4e3a\u2460\u7684\u5458\u5de5\u7684\u59d3\u540d\u548c\u5de5\u8d44\nSELECT\n    last_name,\n    salary\nFROM\n    employees\nWHERE\n    manager_id = ANY(\n    SELECT\n    employee_id\n    FROM\n    employees\n    WHERE\n    last_name='K_ing'   \n    );\n\n#7.\u67e5\u8be2\u5de5\u8d44\u6700\u9ad8\u7684\u5458\u5de5\u7684\u59d3\u540d\uff0c\u8981\u6c42first_name\u548clast_name\u663e\u793a\u4e3a\u4e00\u5217\uff0c\u5217\u540d\u4e3a\u59d3.\u540d\n#\u2460\u67e5\u8be2\u6700\u9ad8\u5de5\u8d44\nSELECT\n    MAX(salary)\nFROM\n    employees;\n\n#\u67e5\u8be2\u5de5\u8d44=\u2460\u7684\u59d3.\u540d\nSELECT\n    CONCAT(first_name,last_name) AS \"\u59d3.\u540d\"\nFROM\n    employees\nWHERE\n    salary=(\n    SELECT\n    MAX(salary)\n    FROM\n    employees);\n")),(0,E.kt)("h3",{id:"8-\u5206\u9875\u67e5\u8be2"},"8. \u5206\u9875\u67e5\u8be2"),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u5206\u9875\u67e5\u8be2\n/*\n\u5e94\u7528\u573a\u666f:\u5f53\u8981\u663e\u793a\u7684\u6570\u636e\uff0c\u4e00\u9875\u663e\u793a\u4e0d\u5168\uff0c\u9700\u8981\u5206\u9875\u63d0\u4ea4sql\u8bf7\u6c42\n\n\u8bed\u6cd5: \n    select \u67e5\u8be2\u5217\u8868\n    from \u8868\n    \u3010join type join \u88682\n      on \u8fde\u63a5\u6761\u4ef6\n      where \u7b5b\u9009\u6761\u4ef6\n      group by \u5206\u7ec4\u5b57\u6bb5\n      having \u5206\u7ec4\u540e\u7684\u7b5b\u9009\n      order by\u6392\u5e8f\u7684\u5b57\u6bb5\u3011\n    limit offset , size;\n    \n    offset\u8981\u663e\u793a\u6761\u76ee\u7684\u8d77\u59cb\u7d22\u5f15(\u8d77\u59cb\u7d22\u5f15\u4ece0\u5f00\u59cb\uff09\n    size\u8981\u663e\u793a\u7684\u6761\u76ee\u4e2a\u6570\n\n\n\u7279\u70b9:\n    \u24601limit\u8bed\u53e5\u653e\u5728\u67e5\u8be2\u8bed\u53e5\u7684\u6700\u540e\n    \u2461\u516c\u5f0f\n    \u8981\u663e\u793a\u7684\u9875\u6570page\uff0c\u6bcf\u9875\u7684\u6761\u76ee\u6570size\n        select\u67e5\u8be2\u5217\u8868\n        from\u8868\n        limit (page-1)*size,size;\n*/\n\n#\u4f8b1\uff1a\u67e5\u8be2\u524d5\u6761\u5458\u5de5\u7684\u4fe1\u606f\nSELECT  * FROM employees LIMIT 0,5;\n#\u5f53\u4ece\u7b2c\u4e00\u6761\u5f00\u59cb\u67e5\u8be2\u4e60\u53ef\u4ee5\u7701\u75650\uff0c\u5373\nSELECT  * FROM employees LIMIT 5;\n\n#\u4f8b2\uff1a\u67e5\u8be2\u573011\u6761---25\u6761\u5458\u5de5\u7684\u4fe1\u606f\nSELECT * FROM employees LIMIT 10,15;\n\n#\u4f8b3\uff1a\u67e5\u8be2\u6709\u5956\u91d1\u7684\u5458\u5de5\u4fe1\u606f\uff0c\u5e76\u4e14\u663e\u793a\u5de5\u8d44\u8f83\u9ad8\u7684\u524d10\u540d\u5458\u5de5\u4fe1\u606f\nSELECT\n    *\nFROM\n    employees\nWHERE\n    commission_pct IS NOT NULL\nORDER BY\n    salary DESC\nLIMIT   10;\n")),(0,E.kt)("h3",{id:"9-\u8054\u5408\u67e5\u8be2"},"9. \u8054\u5408\u67e5\u8be2"),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u8054\u5408\u67e5\u8be2\n/*\nunion  \uff1a\u5c06\u591a\u6761\u67e5\u8be2\u8bed\u53e5\u7684\u7ed3\u679c\u5408\u5e76\u6210\u4e00\u4e2a\u7ed3\u679c\n\n\n\u8bed\u6cd5:\n\u67e5\u8be2\u8bed\u53e51\nunion\n\u67e5\u8be2\u8bed\u53e52\nunion\n......\n\n\u5e94\u7528\u573a\u666f:\n\u8981\u67e5\u8be2\u7684\u7ed3\u679c\u6765\u81ea\u4e8e\u591a\u4e2a\u8868\uff0c\u4e14\u591a\u4e2a\u8868\u6ca1\u6709\u76f4\u63a5\u7684\u8fde\u63a5\u5173\u7cfb\uff0c\u4f46\u67e5\u8be2\u7684\u4fe1\u606f\u4e00\u81f4\n\n\u7279\u70b9:\n1\u3001\u8981\u6c42\u591a\u6761\u67e5\u8be2\u8bed\u53e5\u7684\u67e5\u8be2\u5217\u6570\u662f\u4e00\u81f4\u7684!\n2\u3001\u8981\u6c42\u591a\u6761\u67e5\u8be2\u8bed\u53e5\u7684\u67e5\u8be2\u7684\u6bcf\u4e00\u5217\u7684\u7c7b\u578b\u548c\u987a\u5e8f\u6700\u597d\u4e00\u81f4\n3\u3001union\u5173\u952e\u5b57\u9ed8\u8ba4\u53bb\u91cd\uff0c\u5982\u679c\u4f7f\u7528union all \u53ef\u4ee5\u5305\u542b\u91cd\u590d\u9879\n*/\n\n#\u4f8b\uff1a\u67e5\u8be2\u90e8\u95e8\u7f16\u53f7>90\u6216\u90ae\u7bb1\u5305\u542ba\u7684\u5458\u5de5\u4fe1\u606f\nSELECT\n    *\nFROM\n    employees\nWHERE\n    department_id>90 OR email LIKE '%a%';\n    \n#\u4f7f\u7528\u8054\u5408\u67e5\u8be2\nSELECT * FROM employees WHERE department_id>90\nUNION\nSELECT * FROM employees WHERE email LIKE '%a%';\n\n")),(0,E.kt)("h2",{id:"\u4e8cdml\u8bed\u8a00data-manipulation-language-\u6570\u636e\u64cd\u7eb5\u8bed\u8a00"},"\u4e8c\u3001DML\u8bed\u8a00\uff08Data Manipulation Language \uff09\u6570\u636e\u64cd\u7eb5\u8bed\u8a00"),(0,E.kt)("h3",{id:"1-\u63d2\u5165\u8bed\u53e5"},"1. \u63d2\u5165\u8bed\u53e5"),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#DML\u8bed\u8a00\n/*\u6570\u636e\u64cd\u4f5c\u8bed\u8a00:\n\u63d2\u5165: insert\n\u4fee\u6539: update\n\u5220\u9664: delete\n*/\n\n#\u63d2\u5165\u8bed\u8a00\n\n/*\n\u65b9\u5f0f\u4e00\uff1a\u7ecf\u5178\u63d2\u5165\n\u8bed\u6cd5\uff1a\ninsert into \u8868\u540d(\u5217\u540d,...)\nvalues(\u503c1,...);\n\n*/\n\n#1.\u63d2\u5165\u7684\u503c\u7684\u7c7b\u578b\u8981\u4e0e\u5217\u7684\u7c7b\u578b\u4e00\u81f4\u6216\u517c\u5bb9\nINSERT INTO beauty(id,NAME,sex,borndate,phone,photo,boyfriend_id)\nVALUES(13,'\u6c49\u5e93\u514b','\u5973','1999-1-01','15866668888',NULL,NULL);\n\nSELECT  *\nFROM    beauty;\n\n\n#2.\u4e0d\u80fd\u4e3anull\u7684\u5217\u5fc5\u987b\u63d2\u5165\u503c,\u53ef\u4ee5\u4e3anull\u7684\u5217\u5982\u4f55\u63d2\u5165\u503c?\n#\u65b9\u5f0f\u4e00\uff1a\u586b\u5165null\nINSERT INTO beauty(id,NAME,sex,borndate,phone,photo,boyfriend_id)\nVALUES(14,'\u5468\u51ac\u96e8','\u5973','1997-10-01','15877778888',NULL,NULL);\n\n#\u65b9\u5f0f\u4e8c\uff1a\u4e0d\u586b\u5217\u540d\uff0c\u4e0d\u586b\u503c\nINSERT INTO beauty(id,NAME,sex,borndate,phone)\nVALUES(15,'\u5218\u4ea6\u83f2','\u5973','1989-02-03','15966558899');\n\n#3.\u5217\u7684\u987a\u5e8f\u53ef\u4ee5\u8c03\u6362\nINSERT INTO beauty(NAME,id,sex,phone,borndate)\nVALUES('\u502a\u59ae',16,'\u5973','15666556677','1989-06-06');\n\n#4.\u5217\u6570\u548c\u503c\u7684\u4e2a\u6570\u5fc5\u987b\u4e00\u81f4\n\n#5.\u53ef\u4ee5\u7701\u7565\u5217\u540d\uff0c\u9ed8\u8ba4\u6240\u6709\u5217\uff0c\u800c\u4e14\u5217\u7684\u987a\u5e8f\u548c\u8868\u4e2d\u5217\u7684\u987a\u5e8f\u4e00\u81f4\nINSERT INTO beauty\nVALUES(17,'\u5f20\u96e8\u7eee','\u5973','1979-05-06','857857',NULL,NULL);\n\n\n\n/*\n\u65b9\u5f0f\u4e8c\n\u8bed\u6cd5\uff1a\ninsert into \u8868\u540d\nset \u5217\u540d=\u503c\uff0c\u5217\u540d=\u503c,...\n\n*/\n\n#\u4f8b\uff1a\nINSERT INTO beauty\nSET id=18,NAME='\u79c0\u79c0',phone='198198198';\n\n\n#\u4e24\u79cd\u63d2\u5165\u65b9\u5f0f\u7684\u533a\u522b\n#1.\u65b9\u5f0f\u4e00\u652f\u6301\u591a\u884c\u63d2\u5165,\u65b9\u5f0f\u4e8c\u4e0d\u652f\u6301\nINSERT INTO beauty\nVALUES(19,'\u5f20\u96e8\u7eee1','\u5973','1979-05-06','857857',NULL,NULL),\n(20,'\u5f20\u96e8\u7eee2','\u5973','1979-05-06','857857',NULL,NULL),\n(21,'\u5f20\u96e8\u7eee3','\u5973','1979-05-06','857857',NULL,NULL);\n\n#2.\u65b9\u5f0f\u4e00\u652f\u6301\u5b50\u67e5\u8be2\uff0c\u65b9\u5f0f\u4e8c\u4e0d\u652f\u6301\nINSERT  INTO    beauty(id,NAME,phone)\nSELECT  26,'baby','15555663322';\n")),(0,E.kt)("h3",{id:"2-\u4fee\u6539\u8bed\u53e5"},"2. \u4fee\u6539\u8bed\u53e5"),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u4fee\u6539\u8bed\u53e5\n/*\n1.\u4fee\u6539\u5355\u8868\u7684\u8bb0\u5f55\u2605\n\u8bed\u6cd5:\n    update \u8868\u540d\n    set\u5217=\u65b0\u503c\uff0c\u5217=\u65b0\u503c,...\n    where\u7b5b\u9009\u6761\u4ef6;\n    \n2.\u4fee\u6539\u591a\u8868\u7684\u8bb0\u5f55\u3010\u8865\u5145\u3011\n\n\u8bed\u6cd5:\nsql92\u8bed\u6cd5:\nupdate \u88681 \u522b\u540d\uff0c\u88682 \u522b\u540d\nset \u5217=\u503c,...\nwhere \u8fde\u63a5\u6761\u4ef6\nand \u7b5b\u9009\u6761\u4ef6;\n\nsql99\u8bed\u6cd5:\nupdate \u88681 \u522b\u540d\ninner|left|right join \u88682 \u522b\u540d\non \u8fde\u63a5\u6761\u4ef6\nset \u5217=\u503c,...\nwhere\u7b5b\u9009\u6761\u4ef6;\n\n*/\n\n#1.\u4fee\u6539\u5355\u8868\u7684\u8bb0\u5f55\n#\u4f8b1\uff1a\u4fee\u6539beauty\u8868\u4e2d\u59d3\u5468\u7684\u5973\u795e\u7684\u7535\u8bdd\u4e3a15666664444\nUPDATE beauty\nSET phone='15666664444'\nWHERE NAME LIKE '\u5468%';\n\nSELECT * FROM beauty;\n\n#\u4f8b2\uff1a\u4fee\u6539boys\u8868\u4e2did\u53f7\u4e3a2\u7684\u540d\u79f0\u4e3a\u5f20\u98de\uff0c\u9b45\u529b\u503c10\nUPDATE boys\nSET boyName='\u5f20\u98de',userCP=10\nWHERE id=2;\n\nSELECT * FROM boys;\n\n\n#2.\u4fee\u6539\u591a\u8868\u7684\u8bb0\u5f55\n#\u4f8b1\uff1a\u4fee\u6539\u5f20\u65e0\u5fcc\u7684\u5973\u670b\u53cb\u7684\u624b\u673a\u53f7\u4e3a114\nUPDATE beauty be\nINNER JOIN boys bo\nON be.`boyfriend_id`=bo.`id`\nSET be.`phone`='114'\nWHERE bo.boyName='\u5f20\u65e0\u5fcc';\n\nSELECT * FROM beauty;\n\n#\u4f8b2:\u4fee\u6539\u6ca1\u6709\u7537\u670b\u53cb\u7684\u5973\u795e\u7684\u7537\u670b\u53cb\u7f16\u53f7\u90fd\u4e3a2\u53f7\nUPDATE beauty be\nLEFT JOIN boys bo\nON be.`boyfriend_id`=bo.`id`\nSET be.`boyfriend_id`=2\nWHERE bo.`id` IS NULL ;\n\nSELECT * FROM beauty;\n")),(0,E.kt)("h3",{id:"3-\u5220\u9664\u8bed\u53e5"},"3. \u5220\u9664\u8bed\u53e5"),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u5220\u9664\u8bed\u53e5\n/*\n\u65b9\u5f0f\u4e00: delete\n\n\u8bed\u6cd5:\n1\u3001\u5355\u8868\u7684\u5220\u9664\u3010\u2605\u3011\n    delete from\u8868\u540dwhere\u7b5b\u9009\u6761\u4ef6\n    \n2\u3001\u591a\u8868\u7684\u5220\u9664\u3010\u8865\u5145\u3011\nsql92\u8bed\u6cd5:\ndelete \u5220\u9664\u8bb0\u5f55\u8868\u7684\u522b\u540d,...\nfrom \u88681 \u522b\u540d,\u88682 \u522b\u540d\nwhere \u8fde\u63a5\u6761\u4ef6\nand \u7b5b\u9009\u6761\u4ef6;\n\nsql99\u8bed\u6cd5:\ndelete \u5220\u9664\u8bb0\u5f55\u8868\u7684\u522b\u540d,...\nfrom \u88681 \u522b\u540d\ninner|left|right join \u88682 \u522b\u540d\non \u8fde\u63a5\u6761\u4ef6\nwhere \u7b5b\u9009\u6761\u4ef6;\n\n\u65b9\u5f0f\u4e8c: truncate  (\u6e05\u7a7a\u6570\u636e)\n\u8bed\u6cd5: truncate table \u8868\u540d;\n*/\n\n#\u65b9\u5f0f\u4e00: delete\n#1.\u5355\u8868\u7684\u5220\u9664\n#\u4f8b:\u5220\u9664\u59d3\u5f20\u7684\u5973\u795e\u4fe1\u606f\nDELETE FROM beauty WHERE NAME LIKE '\u5f20%';\n\nSELECT * FROM beauty;\n\n#2\u3001\u591a\u8868\u7684\u5220\u9664\n#\u4f8b1:\u5220\u9664\u5f20\u65e0\u5fcc\u7684\u5973\u670b\u53cb\u7684\u4fe1\u606f\nDELETE be\nFROM beauty be\nINNER JOIN boys bo\nON be.`boyfriend_id`=bo.`id`\nWHERE bo.`boyName`='\u5f20\u65e0\u5fcc';\n\n#\u4f8b2\uff1a\u5220\u9664\u9ec4\u6653\u660e\u7684\u4fe1\u606f\u4ee5\u53ca\u4ed6\u5973\u670b\u53cb\u7684\u4fe1\u606f\nDELETE be,bo\nFROM beauty be\nINNER JOIN boys bo\nON be.`boyfriend_id`=bo.`id`\nWHERE bo.`boyName`='\u9ec4\u6653\u660e';\n\nSELECT * FROM beauty;\nSELECT * FROM boys;\n\n\n#\u65b9\u5f0f\u4e8c: truncate  \n/*\u6e05\u7a7a\u6570\u636e\uff0c\u4e0d\u80fd\u52a0where\u8fde\u63a5\u6761\u4ef6*/\n\n\n#delete\u4e0etruncate\u7684\u533a\u522b(\u9762\u8bd5\u9898)\n/*\n    1.delete\u53ef\u4ee5\u52a0where\u6761\u4ef6\uff0ctruncate\u4e0d\u80fd\u52a0\n    2.truncate\u5220\u9664\uff0c\u6548\u7387\u9ad8\u4e00\u4e22\u4e22\n    3.\u5047\u5982\u8981\u5220\u9664\u7684\u8868\u4e2d\u6709\u81ea\u589e\u957f\u5217\uff0c\n        \u5982\u679c\u7528delete\u5220\u9664\u540e\uff0c\u518d\u63d2\u5165\u6570\u636e\uff0c\u81ea\u589e\u957f\u5217\u7684\u503c\u4ece\u65ad\u70b9\u5f00\u59cb\uff0c\n        \u800ctruncate\u5220\u9664\u540e\uff0c\u518d\u63d2\u5165\u6570\u636e\uff0c\u81ea\u589e\u957f\u5217\u7684\u503c\u4ece1\u5f00\u59cb\u3002\n    4.truncate\u5220\u9664\u6ca1\u6709\u8fd4\u56de\u503c\uff0cdelete\u5220\u9664\u6709\u8fd4\u56de\u503c\n    5.truncate\u518c\u5220\u9664\u4e0d\u80fd\u56de\u6eda\uff0cdelete\u5220\u9664\u53ef\u4ee5\u56de\u6eda\n*/\n")),(0,E.kt)("h2",{id:"\u4e09ddl\u8bed\u8a00data-define-language\u6570\u636e\u5b9a\u4e49\u8bed\u8a00"},"\u4e09\u3001DDL\u8bed\u8a00\uff08Data Define Language\uff09\u6570\u636e\u5b9a\u4e49\u8bed\u8a00"),(0,E.kt)("h3",{id:"1-\u5e93\u548c\u8868\u7684\u7ba1\u7406"},"1. \u5e93\u548c\u8868\u7684\u7ba1\u7406"),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#DDL\n/*\n\u6570\u636e\u5b9a\u4e49\u8bed\u8a00\n\n\u5e93\u548c\u8868\u7684\u7ba1\u7406\n\n\u4e00\u3001\u5e93\u7684\u7ba1\u7406\n\u521b\u5efa\u3001\u4fee\u6539\u3001\u5220\u9664\n\n\u4e8c\u3001\u8868\u7684\u7ba1\u7406\n\u521b\u5efa\u3001\u4fee\u6539\u3001\u5220\u9664\n\n\u521b\u5efa: create\n\u4fee\u6539: alter\n\u5220\u9664: drop\n*/\n\n#\u2014\u2014\u3001\u5e93\u7684\u7ba1\u7406\n#1\u3001\u5e93\u7684\u521b\u5efa\n/*\n\u8bed\u6cd5:\n    create database (if not exists) \u5e93\u540d;\n*/\n\n#\u4f8b\uff1a\u521b\u5efa\u5e93Books\nCREATE DATABASE IF NOT EXISTS Books;\n\n#2.\u5e93\u7684\u4fee\u6539\n/*\n\u4e00\u822c\u4e0d\u968f\u610f\u4fee\u6539\u6570\u636e\u5e93\uff0c\u8d38\u7136\u4fee\u6539\u4f1a\u5bfc\u81f4\u6570\u636e\u5e93\u6570\u636e\u4e22\u5931\n*/\n\n#\u4fee\u6539\u5e93\u540d\u7684\u8bed\u53e5\uff0c\u7531\u4e8e\u8be5\u8bed\u53e5\u4e0d\u591f\u5b89\u5168\u968f\u7740\u7248\u672c\u7684\u5347\u7ea7\u800c\u88ab\u5e9f\u5f03\n/*   rename database Books to \u65b0\u5e93\u540d;  */\n\n/*\n\u82e5\u5b9e\u5728\u9700\u8981\u4fee\u6539\u5e93\u540d\uff0c\u53ef\u4ee5\u627e\u5230\u76ee\u5f55C:\\ProgramData\\MySQL\\MySQL Server 5.5\\data\n\u5728\u8be5\u76ee\u5f55\u4e2d\u627e\u5230\u76f8\u5e94\u7684\u6587\u4ef6\u76f4\u63a5\u4fee\u6539\u6587\u4ef6\u540d\n\u8fd9\u79cd\u65b9\u5f0f\u4fee\u6539\u9700\u8981\u5148\u505c\u6b62MySql\uff0c\u6539\u5b8c\u540e\u518d\u542f\u52a8MySql\n*/\n\n\n#\u66f4\u6539\u5e93\u7684\u5b57\u7b26\u96c6\uff08\u5e93\u9ed8\u8ba4\u5b57\u7b26\u96c6utf8\uff09\nALTER DATABASE Books CHARACTER SET gbk;\n\n\n#3.\u5e93\u7684\u5220\u9664\nDROP DATABASE IF EXISTS Books;\n\n\n#\u4e8c\u3001\u8868\u7684\u7ba1\u7406\n#1.\u8868\u7684\u521b\u5efa\u2606\n/*\n\n\u8bed\u6cd5:\ncreate table\u8868\u540d(\n    \u5217\u540d \u5217\u7684\u7c7b\u578b\u3010(\u957f\u5ea6)\u7ea6\u675f\u3011,\n    \u5217\u540d \u5217\u7684\u7c7b\u578b\u3010(\u957f\u5ea6)\u7ea6\u675f\u3011,\n    \u5217\u540d \u5217\u7684\u7c7b\u578b\u3010(\u957f\u5ea6)\u7ea6\u675f\u3011,\n    ... \n    \u5217\u540d \u5217\u7684\u7c7b\u578b\u3010(\u957f\u5ea6)\u7ea6\u675f\u3011\n\n);\n\n\n*/\n\n#\u4f8b\uff1a\u521b\u5efa\u8868book\nCREATE TABLE book(\n    id INT, #\u4e66\u7f16\u53f7\n    bName VARCHAR(20), #\u4e66\u540d\n    price DOUBLE, # \u4ef7\u683c\n    author_id INT, #\u4f5c\u8005\n    publishDate DATETIME #\u51fa\u7248\u65e5\u671f\n    \n);\n\n\nDESC book;\n\n#\u4f8b\uff1a\u521b\u5efa\u8868author\nCREATE TABLE author(\n    id INT,\n    au_name VARCHAR(20),\n    nation VARCHAR(10)\n);\n\nDESC author;\n\n\n#2.\u8868\u7684\u4fee\u6539\n/*\n\u8bed\u6cd5\uff1a\nalter table \u8868\u540d add|drop|modify|change column \u5217\u540d \u3010\u5217\u7c7b\u578b \u7ea6\u675f\u3011;\n\n*/\n#\u2460\u4fee\u6539\u5217\u540d\nALTER TABLE book\nCHANGE COLUMN publishDate pubDate DATETIME;\n\nDESC Book;\n\n#\u2461\u4fee\u6539\u5217\u7684\u7c7b\u578b\u6216\u7ea6\u675f\nALTER TABLE book MODIFY COLUMN pubDate TIMESTAMP;\n\n#\u2462\u6dfb\u52a0\u65b0\u5217\nALTER TABLE author ADD COLUMN annual_salary DOUBLE;\n#\u2463\u5220\u9664\u5217\nALTER TABLE author DROP COLUMN annual_salary ;\n\n#\u2464\u4fee\u6539\u8868\u540d\nALTER TABLE author RENAME TO book_author;\n\n\n#3.\u8868\u7684\u5220\u9664\nDROP TABLE IF EXISTS book_author;\n\nSHOW TABLES;\n\n\n#\u521b\u5efa\u5e93\u548c\u8868\u7684\u901a\u7528\u5199\u6cd5:\nDROP DATABASE IF EXISTS \u65e7\u5e93\u540d;\nCREATE DATABASE \u65b0\u5e93\u540d;\nDROP TABLE IF EXISTS \u65e7\u8868\u540d;\nCREATE TABLE \u8868\u540d();\n\n#4.\u8868\u7684\u590d\u5236\nINSERT INTO author VALUES\n(1,'\u6751\u4e0a\u6625\u6811','\u65e5\u672c'),\n(2,'\u83ab\u8a00','\u4e2d\u56fd'),\n(3,'\u91d1\u5eb8','\u4e2d\u56fd'),\n(4,'\u6797\u6e05\u7384','\u4e2d\u56fd'),\n(5,'\u9c81\u8fc5','\u4e2d\u56fd');\n\nSELECT * FROM author;\n\n#\u2460.\u4ec5\u4ec5\u590d\u5236\u8868\u7684\u7ed3\u6784\nCREATE TABLE copy_author LIKE author;\nSELECT * FROM copy_author;\n\n#\u2461.\u590d\u5236\u8868\u7ed3\u6784+\u6570\u636e\nCREATE TABLE copy1_author \nSELECT * FROM author;\n\nSELECT * FROM copy1_author;\n\n#\u53ea\u590d\u5236\u90e8\u5206\u6570\u636e\nCREATE TABLE copy2_author \nSELECT au_name,nation\nFROM author\nWHERE nation='\u4e2d\u56fd';\n\nSELECT *FROM copy2_author;\n\n#\u4ec5\u4ec5\u590d\u5236\u67d0\u4e9b\u5b57\u6bb5\nCREATE TABLE copy3_author\nSELECT id,au_name\nFROM author\nWHERE 0;\n\nSELECT *FROM copy3_author;\n")),(0,E.kt)("h3",{id:"2-\u6570\u636e\u7c7b\u578b"},"2. \u6570\u636e\u7c7b\u578b"),(0,E.kt)("ul",null,(0,E.kt)("li",{parentName:"ul"},"\u5e38\u89c1\u7684\u6570\u636e\u7c7b\u578b",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u6570\u503c\u578b",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u6574\u578b"),(0,E.kt)("li",{parentName:"ul"},"\u5c0f\u6570:",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u5b9a\u70b9\u6570"),(0,E.kt)("li",{parentName:"ul"},"\u6d6e\u70b9\u6570"))))),(0,E.kt)("li",{parentName:"ul"},"\u5b57\u7b26\u578b",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u8f83\u77ed\u7684\u6587\u672c: char. varchar"),(0,E.kt)("li",{parentName:"ul"},"\u8f83\u957f\u7684\u6587\u672c: text\uff0cblob(\u8f83\u957f\u7684\u4e8c\u8fdb\u5236\u6570\u636e)"))),(0,E.kt)("li",{parentName:"ul"},"\u65e5\u671f\u578b")))),(0,E.kt)("ol",null,(0,E.kt)("li",{parentName:"ol"},(0,E.kt)("p",{parentName:"li"},"\u6574\u5f62"),(0,E.kt)("table",{parentName:"li"},(0,E.kt)("thead",{parentName:"table"},(0,E.kt)("tr",{parentName:"thead"},(0,E.kt)("th",{parentName:"tr",align:null},"\u6574\u6570\u7c7b\u578b"),(0,E.kt)("th",{parentName:"tr",align:null},"\u5b57\u8282"),(0,E.kt)("th",{parentName:"tr",align:null},"\u8303\u56f4"))),(0,E.kt)("tbody",{parentName:"table"},(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"Tinyint"),(0,E.kt)("td",{parentName:"tr",align:null},"1"),(0,E.kt)("td",{parentName:"tr",align:null},"\u6709\u7b26\u53f7: ",(0,E.kt)("inlineCode",{parentName:"td"},"-128~127"),"; \u65e0\u7b26\u53f7: ",(0,E.kt)("inlineCode",{parentName:"td"},"0~255"))),(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"Smallint"),(0,E.kt)("td",{parentName:"tr",align:null},"2"),(0,E.kt)("td",{parentName:"tr",align:null},"\u6709\u7b26\u53f7: ",(0,E.kt)("inlineCode",{parentName:"td"},"-32768~32767"),"; \u65e0\u7b26\u53f7: ",(0,E.kt)("inlineCode",{parentName:"td"},"0~65535"))),(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"Mediumint"),(0,E.kt)("td",{parentName:"tr",align:null},"3"),(0,E.kt)("td",{parentName:"tr",align:null},"\u6709\u7b26\u53f7: ",(0,E.kt)("inlineCode",{parentName:"td"},"-8388608~8388607"),"; \u65e0\u7b26\u53f7:",(0,E.kt)("inlineCode",{parentName:"td"},"0~1677215"),"(\u597d\u5427\uff0c\u53cd\u6b63\u5f88\u5927\uff0c\u4e0d\u7528\u8bb0\u4f4f)")),(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"Int\u3001 integer"),(0,E.kt)("td",{parentName:"tr",align:null},"4"),(0,E.kt)("td",{parentName:"tr",align:null},"\u6709\u7b26\u53f7: ",(0,E.kt)("inlineCode",{parentName:"td"},"-2147483648~2147483647"),"; \u65e0\u7b26\u53f7: ",(0,E.kt)("inlineCode",{parentName:"td"},"0~4294967295"),"(\u597d\u5427\uff0c\u53cd\u6b63\u5f88\u5927\uff0c\u4e0d\u7528\u8bb0\u4f4f)")),(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"Bigint"),(0,E.kt)("td",{parentName:"tr",align:null},"8"),(0,E.kt)("td",{parentName:"tr",align:null},"\u6709\u7b26\u53f7: ",(0,E.kt)("inlineCode",{parentName:"td"},"9223372036854775808~9223372036854775807"),";\u65e0\u7b26\u53f7: ",(0,E.kt)("inlineCode",{parentName:"td"},"0~9223372036854775807*2+1"),"(\u597d\u5427\uff0c\u53cd\u6b63\u5f88\u5927\uff0c\u4e0d\u7528\u8bb0\u4f4f)")))),(0,E.kt)("pre",{parentName:"li"},(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\n#\u4e00\u3001\u6574\u5f62\n/*\n\u5206\u7c7b:\ntinyint  smallint  mediumint  int/integer  bigint\n  1\u5b57\u8282      2\u5b57\u8282     3\u5b57\u8282   4\u5b57\u8282       8\u5b57\u8282\n  \n\u7279\u70b9:\n\u2460 \u5982\u679c\u4e0d\u8bbe\u7f6e\u65e0\u7b26\u53f7\u8fd8\u662f\u6709\u7b26\u53f7\uff0c\u9ed8\u8ba4\u662f\u6709\u7b26\u53f7\uff0c\n\u5982\u679c\u60f3\u8bbe\u7f6e\u65e0\u7b26\u53f7\uff0c\u9700\u8981\u6dfb\u52a0unsigned\u5173\u952e\u5b57\n\u2461 \u5982\u679c\u63d2\u5165\u7684\u6570\u503c\u8d85\u51fa\u4e86\u6574\u578b\u7684\u8303\u56f4,\u4f1a\u62a5out of range\u5f02\u5e38\uff0c\u5e76\u4e14\u63d2\u5165\u4e34\u754c\u503c\n\u2462 \u5982\u679c\u4e0d\u8bbe\u7f6e\u957f\u5ea6\uff0c\u4f1a\u6709\u9ed8\u8ba4\u7684\u957f\u5ea6\n  \u957f\u5ea6\u4ee3\u8868\u4e86\u663e\u793a\u7684\u6700\u5927\u5bbd\u5ea6\uff0c\u5982\u679c\u4e0d\u591f\u4f1a\u75280\u5728\u5de6\u8fb9\u586b\u5145\uff0c\u4f46\u5fc5\u987b\u642d\u914dzerofill\u4f7f\u7528\n  \u4f7f\u7528 zerofill\uff080\u586b\u5145\uff09\u540e\u5219\u4e3a\u5373\u4e3a\u65e0\u7b26\u53f7\u6574\u5f62\uff0c\u4e0d\u9700\u8981\u5728\u6dfb\u52a0unsigned\u5173\u952e\u5b57\n*/\n\n\nDROP TABLE IF EXISTS tab_int ;\nCREATE TABLE tab_int (\n    t1 INT(8) ,\n    t2 INT UNSIGNED,\n    t3 INT(8) ZEROFILL\n);\n\nINSERT INTO tab_int VALUES\n(-123456,123456,123456);\n\nSELECT * FROM tab_int;\n\n"))),(0,E.kt)("li",{parentName:"ol"},(0,E.kt)("p",{parentName:"li"},"\u5c0f\u6570"),(0,E.kt)("table",{parentName:"li"},(0,E.kt)("thead",{parentName:"table"},(0,E.kt)("tr",{parentName:"thead"},(0,E.kt)("th",{parentName:"tr",align:null},"\u6d6e\u70b9\u6570\u7c7b\u578b"),(0,E.kt)("th",{parentName:"tr",align:null},"\u5b57\u8282"),(0,E.kt)("th",{parentName:"tr",align:null},"\u8303\u56f4"))),(0,E.kt)("tbody",{parentName:"table"},(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"float"),(0,E.kt)("td",{parentName:"tr",align:null},"4"),(0,E.kt)("td",{parentName:"tr",align:null},(0,E.kt)("inlineCode",{parentName:"td"},"\xb11.75494351E-38 ~ \xb13.402823466E+38"),"(\u597d\u5427\uff0c\u53cd\u6b63\u5f88\u5927\uff0c\u4e0d\u7528\u8bb0\u4f4f)")),(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"double"),(0,E.kt)("td",{parentName:"tr",align:null},"8"),(0,E.kt)("td",{parentName:"tr",align:null},(0,E.kt)("inlineCode",{parentName:"td"},"\xb12.2250738585072014E-308 ~ \xb11.7976931348623157E+308"),"(\u597d\u5427\uff0c\u53cd\u6b63\u5f88\u5927\uff0c\u4e0d\u7528\u8bb0\u4f4f)")))),(0,E.kt)("table",{parentName:"li"},(0,E.kt)("thead",{parentName:"table"},(0,E.kt)("tr",{parentName:"thead"},(0,E.kt)("th",{parentName:"tr",align:null},"\u5b9a\u70b9\u6570\u7c7b\u578b"),(0,E.kt)("th",{parentName:"tr",align:null},"\u5b57\u8282"),(0,E.kt)("th",{parentName:"tr",align:null},"\u8303\u56f4"))),(0,E.kt)("tbody",{parentName:"table"},(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},(0,E.kt)("inlineCode",{parentName:"td"},"DEC (M, D)")," ",(0,E.kt)("inlineCode",{parentName:"td"},"DECIMAL(M, D)")),(0,E.kt)("td",{parentName:"tr",align:null},"M+2"),(0,E.kt)("td",{parentName:"tr",align:null},"\u6700\u5927\u53d6\u503c\u8303\u56f4\u4e0e double \u76f8\u540c\uff0c\u7ed9\u5b9a decimal \u7684\u6709\u6548\u53d6\u503c\u8303\u56f4\u7531 M \u548c D \u51b3\u5b9a")))),(0,E.kt)("pre",{parentName:"li"},(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u4e8c\u3001\u5c0f\u6570\n/*\n1.\u6d6e\u70b9\u578b\n    float (M,D)\n    double (M ,D)\n\n2.\u5b9a\u70b9\u578b\n    dec (M,D)\n    decimal (M,D)\n    \n\u7279\u70b9:\n\u2460   M:\u6574\u6570\u90e8\u4f4d+\u5c0f\u6570\u90e8\u4f4d\n    D:\u5c0f\u6570\u90e8\u4f4d\n    \u5982\u679c\u8d85\u8fc7\u8303\u56f4\uff0c\u5219\u63d2\u5165\u4e34\u754c\u503c\n\u2461\nM\u548cD\u90fd\u53ef\u4ee5\u7701\u7565\n\u5982\u679c\u662fdecimal\uff0c\u5219M\u9ed8\u8ba4\u4e3a10\uff0cD\u9ed8\u8ba4\u4e3a0\n\u5982\u679c\u662ffloat\u548cdouble\uff0c\u5219\u4f1a\u6839\u636e\u63d2\u5165\u7684\u6570\u503c\u7684\u7cbe\u5ea6\u6765\u51b3\u5b9a\u7cbe\u5ea6\n\n\u2462   \u5b9a\u70b9\u578b\u7684\u7cbe\u786e\u5ea6\u8f83\u9ad8\uff0c\u5982\u679c\u8981\u6c42\u63d2\u5165\u6570\u503c\u7684\u7cbe\u5ea6\u8f83\u9ad8\u5982\u8d27\u5e01\u8fd0\u7b97\u7b49\u5219\u8003\u8651\u4f7f\u7528\n\n\u7c7b\u578b\u9009\u62e9\u539f\u5219\uff1a\n    \u6240\u9009\u62e9\u7684\u7c7b\u578b\u8d8a\u7b80\u5355\u8d8a\u597d\uff0c\u80fd\u4fdd\u5b58\u6570\u503c\u7684\u7c7b\u578b\u8d8a\u5c0f\u8d8a\u597d\n*/\n\nDROP TABLE IF EXISTS tab_float;\n\nCREATE TABLE tab_float(\n    f1 FLOAT,\n    f2 FLOAT(5,2),\n    d1 DOUBLE,\n    d2 DOUBLE(5,3),\n    d3 DECIMAL,\n    d4 DECIMAL(5,2)\n);\n\nDESC tab_float;\n\nINSERT INTO tab_float\nVALUES(123.456,123.2,123.456,12.345,123456,123.45),\n       (12.34,123.45,12.34,12.34,12345,123.4);\n       \nSELECT * FROM tab_float;\n"))),(0,E.kt)("li",{parentName:"ol"},(0,E.kt)("p",{parentName:"li"},"\u5b57\u7b26\u578b"))),(0,E.kt)("ul",null,(0,E.kt)("li",{parentName:"ul"},(0,E.kt)("p",{parentName:"li"},(0,E.kt)("inlineCode",{parentName:"p"},"char")," \u548c ",(0,E.kt)("inlineCode",{parentName:"p"},"varchar")," \u7c7b\u578b: \u7528\u6765\u4fdd\u5b58 MySQL \u4e2d\u8f83\u77ed\u7684\u5b57\u7b26\u4e32")),(0,E.kt)("li",{parentName:"ul"},(0,E.kt)("p",{parentName:"li"},(0,E.kt)("inlineCode",{parentName:"p"},"binary")," \u548c ",(0,E.kt)("inlineCode",{parentName:"p"},"varbinary")," \u7c7b\u578b: \u7c7b\u4f3c\u4e8e ",(0,E.kt)("inlineCode",{parentName:"p"},"char")," \u548c ",(0,E.kt)("inlineCode",{parentName:"p"},"varchar"),"\uff0c\u4e0d\u540c\u7684\u662f\u5b83\u4eec\u5305\u542b\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32\u800c\u4e0d\u5305\u542b\u975e\u4e8c\u8fdb\u5236\u5b57\u7b26\u4e32")),(0,E.kt)("li",{parentName:"ul"},(0,E.kt)("p",{parentName:"li"},(0,E.kt)("inlineCode",{parentName:"p"},"Enum")," \u7c7b\u578b:"),(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u53c8\u79f0\u4e3a\u679a\u4e3e\u7c7b\u578b"),(0,E.kt)("li",{parentName:"ul"},"\u8981\u6c42\u63d2\u5165\u7684\u503c\u5fc5\u987b\u5c5e\u4e8e\u5217\u8868\u4e2d\u6307\u5b9a\u7684\u503c\u4e4b\u4e00\u3002",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u5982\u679c\u5217\u8868\u6210\u5458\u4e3a1~255\uff0c\u5219\u9700\u89811\u4e2a\u5b57\u8282\u5b58\u50a8"),(0,E.kt)("li",{parentName:"ul"},"\u5982\u679c\u5217\u8868\u6210\u5458\u4e3a255~65535\uff0c\u5219\u9700\u89812\u4e2a\u5b57\u8282\u5b58\u50a8"),(0,E.kt)("li",{parentName:"ul"},"\u6700\u591a\u9700\u898165535\u4e2a\u6210\u5458!"))))),(0,E.kt)("li",{parentName:"ul"},(0,E.kt)("p",{parentName:"li"},(0,E.kt)("inlineCode",{parentName:"p"},"Set")," \u7c7b\u578b:"),(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},(0,E.kt)("p",{parentName:"li"},"\u548c ",(0,E.kt)("inlineCode",{parentName:"p"},"Enum")," \u7c7b\u578b\u7c7b\u4f3c\uff0c\u91cc\u9762\u53ef\u4ee5\u4fdd\u5b580~64\u4e2a\u6210\u5458\u3002")),(0,E.kt)("li",{parentName:"ul"},(0,E.kt)("p",{parentName:"li"},"\u548c ",(0,E.kt)("inlineCode",{parentName:"p"},"Enum")," \u7c7b\u578b\u6700\u5927\u7684\u533a\u522b\u662f: ",(0,E.kt)("inlineCode",{parentName:"p"},"SET")," \u7c7b\u578b\u4e00\u6b21\u53ef\u4ee5\u9009\u53d6\u591a\u4e2a\u6210\u5458\uff0c\u800c ",(0,E.kt)("inlineCode",{parentName:"p"},"Enum")," \u53ea\u80fd\u9009\u4e00\u4e2a")),(0,E.kt)("li",{parentName:"ul"},(0,E.kt)("p",{parentName:"li"},"\u6839\u636e\u6210\u5458\u4e2a\u6570\u4e0d\u540c\uff0c\u5b58\u50a8\u6240\u5360\u7684\u5b57\u8282\u4e5f\u4e0d\u540c"),(0,E.kt)("table",{parentName:"li"},(0,E.kt)("thead",{parentName:"table"},(0,E.kt)("tr",{parentName:"thead"},(0,E.kt)("th",{parentName:"tr",align:null},"\u6210\u5458\u6570"),(0,E.kt)("th",{parentName:"tr",align:null},"\u5b57\u8282\u6570"))),(0,E.kt)("tbody",{parentName:"table"},(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"1~8"),(0,E.kt)("td",{parentName:"tr",align:null},"1")),(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"9~16"),(0,E.kt)("td",{parentName:"tr",align:null},"2")),(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"17~24"),(0,E.kt)("td",{parentName:"tr",align:null},"3")),(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"25~32"),(0,E.kt)("td",{parentName:"tr",align:null},"4")),(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"33~64"),(0,E.kt)("td",{parentName:"tr",align:null},"8")))))),(0,E.kt)("pre",{parentName:"li"},(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u4e09\u3001\u5b57\u7b26\u578b\n/*\n\u8f83\u77ed\u7684\u6587\u672c: \n    char  \u56fa\u5b9a\u957f\u5ea6\u5b57\u7b26\uff0c\u5f00\u8f9f\u56fa\u5b9a\u957f\u5ea6\u7684\u7a7a\u95f4\uff0c\u6bd4\u8f83\u8017\u8d39\u7a7a\u95f4\n    varchar  \u53ef\u53d8\u957f\u5ea6\u5b57\u7b26\uff0c\u5f00\u8f9f\u63d2\u5165\u5b57\u7b26\u7684\u5b57\u7b26\u6570\u7684\u7a7a\u95f4\n        \n\u5176\u4ed6:\n    binary\u548cvarbinary\u7528\u4e8e\u4fdd\u5b58\u8f83\u77ed\u7684\u4e8c\u8fdb\u5236\n    enum\u7528\u4e8e\u4fdd\u5b58\u679a\u4e3e\n    set\u7528\u4e8e\u4fdd\u5b58\u96c6\u5408   \n    \n\u8f83\u957f\u7684\u6587\u672c: \ntext\nblob(\u8f83\u957f\u7684\u4e8c\u8fdb\u5236\u6570\u636e)\n    \n\u7279\u70b9:\n              \u5199\u6cd5            M\u7684\u610f\u601d                    \u7279\u70b9          \u7a7a\u95f4\u8017\u8d39    \u6548\u7387\nchar        char(M)     \u6700\u5927\u7684\u5b57\u7b26\u6570\uff08\u53ef\u7701\u7565\uff0c\u9ed8\u8ba4\u4e3a1\uff09    \u56fa\u5b9a\u957f\u5ea6\u5b57\u7b26  \u6bd4\u8f83\u8017\u8d39     \u9ad8\nvarchar     varchar(M)  \u6700\u5927\u7684\u5b57\u7b26\u6570\uff08\u4e0d\u53ef\u7701\u7565\uff09            \u53ef\u53d8\u957f\u5ea6\u5b57\u7b26  \u6bd4\u8f83\u8282\u7701     \u4f4e\n*/\n\n#\u679a\u4e3e\u7c7b\u578b\uff0c\u8981\u6c42\u63d2\u5165\u7684\u503c\u5fc5\u987b\u5c5e\u4e8e\u5217\u8868\u4e2d\u6307\u5b9a\u7684\u503c\u4e4b\u4e00\u3002\nDROP TABLE IF EXISTS tab_char;\nCREATE TABLE tab_char(\n    e1 ENUM('a','b','c')\n);\n\nINSERT INTO tab_char\nVALUES('a'),('b'),('c'),('A'),('B'),('C');\n\nSELECT * FROM tab_char;\n\n#Set\u7c7b\u578b\nDROP TABLE IF EXISTS tab_set;\n\nCREATE TABLE tab_set(\n    s1 SET('a','b','c','d')\n);\n\nINSERT INTO tab_set VALUES\n('a'),('a,b'),('a,b,c'),('A,B');\n\nSELECT * FROM tab_set;\n")))),(0,E.kt)("ol",{start:4},(0,E.kt)("li",{parentName:"ol"},(0,E.kt)("p",{parentName:"li"},"\u65e5\u671f\u578b"),(0,E.kt)("table",{parentName:"li"},(0,E.kt)("thead",{parentName:"table"},(0,E.kt)("tr",{parentName:"thead"},(0,E.kt)("th",{parentName:"tr",align:null},"\u65e5\u671f\u548c\u65f6\u95f4\u7c7b\u578b"),(0,E.kt)("th",{parentName:"tr",align:null},"\u5b57\u8282"),(0,E.kt)("th",{parentName:"tr",align:null},"\u6700\u5c0f\u503c"),(0,E.kt)("th",{parentName:"tr",align:null},"\u6700\u5927\u503c"))),(0,E.kt)("tbody",{parentName:"table"},(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"date"),(0,E.kt)("td",{parentName:"tr",align:null},"4"),(0,E.kt)("td",{parentName:"tr",align:null},"1000-01-01"),(0,E.kt)("td",{parentName:"tr",align:null},"9999-12-31")),(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"datetime"),(0,E.kt)("td",{parentName:"tr",align:null},"8"),(0,E.kt)("td",{parentName:"tr",align:null},"1000-01-01 00:00:00"),(0,E.kt)("td",{parentName:"tr",align:null},"9999-12-31 23:59:59")),(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"timestamp"),(0,E.kt)("td",{parentName:"tr",align:null},"4"),(0,E.kt)("td",{parentName:"tr",align:null},"19700101080001"),(0,E.kt)("td",{parentName:"tr",align:null},"2038\u5e74\u7684\u67d0\u4e2a\u65f6\u523b")),(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"time"),(0,E.kt)("td",{parentName:"tr",align:null},"3"),(0,E.kt)("td",{parentName:"tr",align:null},"-838:59:59"),(0,E.kt)("td",{parentName:"tr",align:null},"838:59:59")),(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"year"),(0,E.kt)("td",{parentName:"tr",align:null},"1"),(0,E.kt)("td",{parentName:"tr",align:null},"1901"),(0,E.kt)("td",{parentName:"tr",align:null},"2155")))),(0,E.kt)("pre",{parentName:"li"},(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u56db\u3001\u65e5\u671f\u578b\n/*\n\u5206\u7c7b:\n    date\u53ea\u4fdd\u5b58\u65e5\u671f\n    time\u53ea\u4fdd\u5b58\u65f6\u95f4\n    year\u53ea\u4fdd\u5b58\u5e74\n    datetime\u4fdd\u5b58\u65e5\u671f+\u65f6\u95f4\n    timestamp\u4fdd\u5b58\u65e5\u671f+\u65f6\u95f4\n\ndatetime\u548ctimestamp\u7684\u533a\u522b\n    1\u3001Timestamp\u652f\u6301\u7684\u65f6\u95f4\u8303\u56f4\u8f83\u5c0f\uff0c\u53d6\u503c\u8303\u56f4\uff1a19700101080001\u2014\u20142038\u5e74\u7684\u67d0\u4e2a\u65f6\u95f4\n       Datetime\u7684\u53d6\u503c\u8303\u56f4\uff1a1000-1-1 \u2014\u20149999\u201412-31\n    2\u3001timestamp\u548c\u5b9e\u9645\u65f6\u533a\u6709\u5173\uff0c\u66f4\u80fd\u53cd\u6620\u5b9e\u9645\u7684\u65e5\u671f\uff0c\n       \u800cdatetime\u5219\u53ea\u80fd\u53cd\u6620\u51fa\u63d2\u5165\u65f6\u7684\u5f53\u5730\u65f6\u533a\n    3\u3001timestamp\u7684\u5c5e\u6027\u53d7Mysql\u7248\u672c\u548cSQLMode\u7684\u5f71\u54cd\u5f88\u5927\n*/\n\nCREATE TABLE tab_date(\n    t1 DATETIME,\n    t2 TIMESTAMP\n);\n\nINSERT INTO tab_date VALUES(NOW(),NOW());\n\nSELECT * FROM tab_date;\n\n#\u67e5\u770b\u65f6\u533a\nSHOW VARIABLES LIKE 'time_zone';\n\nSET time_zone='+9:00';\n")))),(0,E.kt)("h3",{id:"3-\u5e38\u89c1\u7ea6\u675f"},"3. \u5e38\u89c1\u7ea6\u675f"),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u5e38\u89c1\u7ea6\u675f \n/*\n\u542b\u4e49:\u4e00\u79cd\u9650\u5236\uff0c\u7528\u4e8e\u9650\u5236\u8868\u4e2d\u7684\u6570\u636e\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u8868\u4e2d\u7684\u6570\u636e\u7684\u51c6\u786e\u548c\u53ef\u9760\u6027\n\n\u5206\u7c7b:\u516d\u5927\u7ea6\u675f\n    NOT NULL:\u975e\u7a7a\uff0c\u7528\u4e8e\u4fdd\u8bc1\u8be5\u5b57\u6bb5\u7684\u503c\u4e0d\u80fd\u4e3a\u7a7a\n         \u6bd4\u5982\u59d3\u540d\u3001\u5b66\u53f7\u7b49\n    DEFAULT:\u9ed8\u8ba4\uff0c\u7528\u4e8e\u4fdd\u8bc1\u8be5\u5b57\u6bb5\u6709\u9ed8\u8ba4\u503c\n        \u6bd4\u5982\u6027\u522b\n    PRIMARY KEY:\u4e3b\u952e\uff0c\u7528\u4e8e\u4fdd\u8bc1\u8be5\u5b57\u6bb5\u7684\u503c\u5177\u6709\u552f\u4e00\u6027\uff0c\u5e76\u4e14\u975e\u7a7a\n        \u6bd4\u5982\u5b66\u53f7\u3001\u5458\u5de5\u7f16\u53f7\u7b49\n    UNIQUE:\u552f\u4e00\uff0c\u7528\u4e8e\u4fdd\u8bc1\u8be5\u5b57\u6bb5\u7684\u503c\u5177\u6709\u552f\u4e00\u6027\uff0c\u53ef\u4ee5\u4e3a\u7a7a\n           \u6bd4\u5982\u5ea7\u4f4d\u53f7\n    CHECK:\u68c0\u67e5\u7ea6\u675f\u3010mysql\u4e2d\u4e0d\u652f\u6301,\u8bed\u6cd5\u6ca1\u95ee\u9898\uff0c\u6ca1\u6709\u6548\u679c\u3011\n          \u6bd4\u5982\u5e74\u9f84\u3001\u6027\u522b\n    FOREIGN KEY:\u5916\u952e\uff0c\u7528\u4e8e\u9650\u5236\u4e24\u4e2a\u8868\u7684\u5173\u7cfb\uff0c\u7528\u4e8e\u4fdd\u8bc1\u8be5\u5b57\u6bb5\u7684\u503c\u5fc5\u987b\u6765\u81ea\u4e8e\u4e3b\u8868\u7684\u5173\u8054\u5217\u7684\u503c\n            \u5728\u4ece\u8868\u6dfb\u52a0\u5916\u952e\u7ea6\u675f\uff0c\u7528\u4e8e\u5f15\u7528\u4e3b\u8868\u4e2d\u67d0\u5217\u7684\u503c\n            \u6bd4\u5982\u5b66\u4e0a\u8868\u7684\u4e13\u4e1a\u7f16\u53f7\uff0c\u5458\u5de5\u8868\u7684\u90e8\u95e8\u7f16\u53f7\uff0c\u5458\u5de5\u8868\u7684\u5de5\u79cd\u7f16\u53f7\n\n\u6dfb\u52a0\u7ea6\u675f\u7684\u65f6\u673a:\n    1.\u521b\u5efa\u8868\u65f6\n    2.\u4fee\u6539\u8868\u65f6\n    \n\u7ea6\u675f\u7684\u6dfb\u52a0\u5206\u7c7b:\n    \u5217\u7ea7\u7ea6\u675f:\n        \u516d\u5927\u7ea6\u675f\u8bed\u6cd5\u4e0a\u90fd\u652f\u6301,\u4f46\u5916\u952e\u7ea6\u675f\u6ca1\u6709\u6548\u679c\n    \u8868\u7ea7\u7ea6\u675f:\n        \u9664\u4e86\u975e\u7a7a\u3001\u9ed8\u8ba4\uff0c\u5176\u4ed6\u7684\u90fd\u652f\u6301\n\n        \u4f4d\u7f6e          \u652f\u6301\u7684\u7ea6\u675f\u7c7b\u578b             \u662f\u5426\u53ef\u4ee5\u8d77\u7ea6\u675f\u540d\n\u5217\u7ea7\u7ea6\u675f:   \u5217\u7684\u540e\u9762        \u8bed\u6cd5\u90fd\u652f\u6301\uff0c\u4f46\u5916\u952e\u6ca1\u6709\u6548\u679c   \u4e0d\u53ef\u4ee5\n\u8868\u7ea7\u7ea6\u675f:   \u6240\u6709\u5217\u7684\u4e0b\u9762  \u9ed8\u8ba4\u548c\u975e\u7a7a\u4e0d\u652f\u6301\uff0c\u5176\u4ed6\u652f\u6301   \u53ef\u4ee5(\u4e3b\u952e\u6ca1\u6709\u6548\u679c)\n\n\u8bed\u6cd5\uff1a\nCREATE TABLE \u8868\u540d(\n    \u5b57\u6bb5\u540d \u5b57\u6bb5\u7c7b\u578b \u5217\u7ea7\u7ea6\u675f,\n    \u5b57\u6bb5\u540d \u5b57\u6bb5\u7c7b\u578b,\n    ...,\n    \u8868\u7ea7\u7ea6\u675f\n);\n\n\u4e3b\u952e\u548c\u552f\u4e00\u7684\u533a\u522b\uff08\u9762\u8bd5\u9898\uff09:\n        \u4fdd\u8bc1\u552f\u4e00\u6027       \u662f\u5426\u5141\u8bb8\u4e3a\u7a7a      \u4e00\u4e2a\u8868\u4e2d\u53ef\u4ee5\u6709\u591a\u5c11\u4e2a  \u662f\u5426\u5141\u8bb8\u7ec4\u5408\n\u4e3b\u952e         \u221a                \xd7                \u81f3\u591a\u67091\u4e2a      \u221a\uff0c\u4f46\u4e0d\u63a8\u8350\n\u552f\u2014\u2014    \u221a                \u221a                \u53ef\u4ee5\u6709\u591a\u4e2a      \u221a\uff0c\u4f46\u4e0d\u63a8\u8350\n\n\u5916\u952e\u7684\u7279\u70b9\n    1\u3001\u8981\u6c42\u5728\u4ece\u8868\u8bbe\u7f6e\u5916\u952e\u5173\u7cfb\n    2\u3001\u4ece\u8868\u7684\u5916\u952e\u5217\u7684\u7c7b\u578b\u548c\u4e3b\u8868\u7684\u5173\u8054\u5217\u7684\u7c7b\u578b\u8981\u6c42\u4e00\u81f4\u6216\u517c\u5bb9\uff0c\u540d\u79f0\u65e0\u8981\u6c42\n    3\u3001\u4e3b\u8868\u7684\u5173\u8054\u5217\u5fc5\u987b\u662f\u4e00\u4e2akey (\u4e00\u822c\u662f\u4e3b\u952e\u6216\u552f\u4e00)\n    4\u3001\u63d2\u5165\u6570\u636e\u65f6\uff0c\u5148\u63d2\u5165\u4e3b\u8868,\u518d\u63d2\u5165\u4ece\u8868\n       \u5220\u9664\u6570\u636e\u65f6,\u5148\u5220\u9664\u4ece\u8868,\u518d\u5220\u9664\u4e3b\u8868\n\n\u53ef\u4ee5\u901a\u8fc7\u7ea7\u8054\u5220\u9664\u548c\u7ea7\u8054\u7f6e\u7a7a\u5220\u9664\u6709\u5916\u952e\u7ea6\u675f\u7684\u8868\u7684\u6570\u636e\n*/\n\n#\u4e00\u3001\u521b\u5efa\u8868\u65f6\u6dfb\u52a0\u7ea6\u675f\n#1.\u6dfb\u52a0\u5217\u7ea7\u7ea6\u675f\nCREATE DATABASE students;\n\nUSE students;\n\nCREATE TABLE stu_info(\n    id INT PRIMARY KEY,     #\u4e3b\u952e\n    stu_name VARCHAR(10) NOT NULL,    #\u975e\u7a7a\n    gender CHAR(1) CHECK(gender='\u7537' OR gender='\u5973'), #\u68c0\u67e5\n    seat_id INT UNIQUE,    #\u552f\u4e00\n    age INT DEFAULT 18,    #\u9ed8\u8ba4\u7ea6\u675f\n    major_id INT REFERENCES major(id)  #\u5916\u952e\n);\n\nCREATE TABLE major(\n    id INT PRIMARY KEY,\n    major_name VARCHAR(20)\n);\n\nDESC stu_info;\nSHOW INDEX FROM stu_info;\nDESC major;\n\n#2.\u6dfb\u52a0\u8868\u7ea7\u7ea6\u675f\n/*\n\u8bed\u6cd5\uff1a\n    \u3010constraint \u7ea6\u675f\u540d\u3011 \u7ea6\u675f\u7c7b\u578b(\u5b57\u6bb5\u540d)\n*/\n\nDROP TABLE IF EXISTS stu_info;\nCREATE TABLE stu_info(\n    id INT ,     \n    stu_name VARCHAR(10) ,    \n    gender CHAR(1) , \n    seat_id INT,    \n    age INT ,   \n    major_id INT,\n    PRIMARY KEY(id),#\u4e3b\u952e\n    UNIQUE(seat_id),\n    CONSTRAINT ck CHECK(gender='\u7537' OR gender='\u5973'),#\u68c0\u67e5\n    CONSTRAINT fk_stu_info_major FOREIGN KEY(major_id) REFERENCES major(id) #\u5916\u952e\n);\n\nSHOW INDEX FROM stu_info;\n\n#\u901a\u7528\u5199\u6cd5\nCREATE TABLE IF NOT EXISTS stu_info(\n    id INT PRIMARY KEY,     \n    stu_name VARCHAR(10) NOT NULL,    \n    gender CHAR(1) , \n    seat_id INT UNIQUE,    \n    age INT DEFAULT 18 ,   \n    major_id INT,\n    CONSTRAINT fk_stu_info_major FOREIGN KEY(major_id) REFERENCES major(id) #\u5916\u952e\n);\n\n#\u4e8c\u3001\u4fee\u6539\u8868\u65f6\u6dfb\u52a0\u7ea6\u675f\n/*\n1\u3001\u6dfb\u52a0\u5217\u7ea7\u7ea6\u675f\nalter table\u8868\u540d modify column \u5b57\u6bb5\u540d \u5b57\u6bb5\u7c7b\u578b \u65b0\u7ea6\u675f;\n2\u3001\u6dfb\u52a0\u8868\u7ea7\u7ea6\u675f\nalter table \u8868\u540d add \u3010constraint \u7ea6\u675f\u540d\u3011 \u7ea6\u675f\u7c7b\u578b(\u5b57\u6bb5\u540d) \u3010\u5916\u952e\u7684\u5f15\u7528\u3011;\n*/\nDROP TABLE IF EXISTS stu_info;\nCREATE TABLE stu_info(\n    id INT ,     \n    stu_name VARCHAR(10) ,    \n    gender CHAR(1) , \n    seat_id INT,    \n    age INT ,   \n    major_id INT);\n\nDESC stu_info;  \n\n#1.\u6dfb\u52a0\u975e\u7a7a\u7ea6\u675f   \nALTER TABLE stu_info MODIFY COLUMN stu_name VARCHAR(10) NOT NULL;\n\n#2.\u6dfb\u52a0\u9ed8\u8ba4\u7ea6\u675f\nALTER TABLE stu_info MODIFY COLUMN age INT DEFAULT 18;\n\n#3.\u6dfb\u52a0\u4e3b\u952e\n#\u2460\u5217\u7ea7\u7ea6\u675f\nALTER TABLE stu_info MODIFY COLUMN id INT PRIMARY KEY;\n#\u2461\u8868\u7ea7\u7ea6\u675f\nALTER TABLE stu_info ADD PRIMARY KEY(id);\n\n#4.\u6dfb\u52a0\u552f\u4e00\u7ea6\u675f\n#\u2460\u5217\u7ea7\u7ea6\u675f\nALTER TABLE stu_info MODIFY COLUMN seat_id INT UNIQUE;\n#\u2461\u8868\u7ea7\u7ea6\u675f\nALTER TABLE students ADD UNIQUE(seat_id);\n\n#5.\u6dfb\u52a0\u5916\u952e\nALTER TABLE stu_info ADD CONSTRAINT fk_stu_major FOREIGN KEY(major_id) REFERENCES major(id);\n\n#\u4e09\u3001\u4fee\u6539\u8868\u65f6\u5220\u9664\u7ea6\u675f\n#1.\u5220\u9664\u975e\u7a7a\u7ea6\u675f\nALTER TABLE stu_info MODIFY COLUMN stu_name VARCHAR(10) NULL;\n\n#2.\u5220\u9664\u9ed8\u8ba4\u7ea6\u675f\nALTER TABLE stu_info MODIFY COLUMN age  INT;\n\n#3.\u5220\u9664\u4e3b\u952e\nALTER TABLE stu_info DROP PRIMARY KEY;\n\n#4.\u5220\u9664\u552f\u4e00\u7ea6\u675f\nALTER TABLE stu_info DROP INDEX seat_id;\n\n#5.\u5220\u9664\u5916\u952e\nALTER TABLE stu_info DROP FOREIGN KEY fk_stu_major;\n\nSHOW INDEX FROM stu_info;\n\n#\u56db\u3001\u5220\u9664\u6709\u5916\u952e\u7ea6\u675f\u7684\u6570\u636e\nSHOW INDEX FROM stu_info;\nSHOW INDEX FROM major;\nALTER TABLE stu_info DROP FOREIGN KEY fk_stu_major;\n\nALTER TABLE stu_info ADD CONSTRAINT fk_stu_major FOREIGN KEY(major_id) REFERENCES major(id);\n\nTRUNCATE major ;\n\nTRUNCATE stu_info;\n\nSELECT * FROM major;\nINSERT INTO major VALUES\n(1,'java'),(2,'html5'),(3,'\u5927\u6570\u636e');\n\nINSERT INTO stu_info VALUES\n(1,'mt1','m',NULL,NULL,1),\n(2,'mt2','m',NULL,NULL,1),\n(3,'mt3','m',NULL,NULL,2),\n(4,'mt4','m',NULL,NULL,1),\n(5,'mt5','m',NULL,NULL,2),\n(6,'mt6','m',NULL,NULL,1),\n(7,'mt7','m',NULL,NULL,3),\n(8,'mt8','m',NULL,NULL,3) ;\n\nSELECT * FROM stu_info;\n\n#1.\u6309\u4f20\u7edf\u6dfb\u52a0\u5916\u952e\u7ea6\u675f\u7684\u65b9\u5f0f\u6dfb\u52a0\u5916\u952e\u7ea6\u675f\u540e\u5220\u9664\u6570\u636e\u9700\u8981\u5148\u5220\u9664\u4ece\u8868\u7684\u6570\u636e\uff0c\u518d\u5220\u5904\u4e3b\u8868\u7684\u6570\u636e\n#\u5220\u9664\u4e13\u4e1a\u8868\u76843\u53f7\u4e13\u4e1a\uff08\u4e0d\u80fd\u76f4\u63a5\u5220\u9664\u4e3b\u8868\u7684\u6570\u636e\uff09\n/*\nCannot delete or update a parent row: \na foreign key constraint fails (`students`.`stu_info`, CONSTRAINT `fk_stu_major` FOREIGN KEY (`major_id`) REFERENCES `major` (`id`))\n*/\nDELETE FROM major WHERE id=3;\n\n#2.\u7ea7\u8054\u5220\u9664\uff08\u4f1a\u5c06\u4e3b\u8868\u548c\u4ece\u8868\u4e2d\u6ee1\u8db3\u6761\u4ef6\u7684\u6570\u636e\u90fd\u5220\u9664\uff09\nALTER TABLE stu_info DROP FOREIGN KEY fk_stu_major;\n\nALTER TABLE stu_info ADD CONSTRAINT fk_stu_major FOREIGN KEY(major_id) REFERENCES major(id) ON DELETE CASCADE;\n#\u5220\u9664\u4e13\u4e1a\u8868\u76843\u53f7\u4e13\u4e1a\nDELETE FROM major WHERE id=3;\n\nSELECT * FROM major;\nSELECT * FROM stu_info;\n\n#3.\u7ea7\u8054\u7f6e\u7a7a(\u5c06\u6ee1\u8db3\u6761\u4ef6\u7684\u4e3b\u8868\u6570\u636e\u5220\u9664\uff0c\u4ece\u8868\u6ee1\u8db3\u6761\u4ef6\u7684\u5916\u952e\u5217\u7f6e\u4e3a\u7a7a)\nALTER TABLE stu_info DROP FOREIGN KEY fk_stu_major;\nALTER TABLE stu_info DROP INDEX  fk_stu_major;\n\nALTER TABLE stu_info ADD CONSTRAINT fk_stu_major FOREIGN KEY(major_id) REFERENCES major(id) ON DELETE SET NULL;\n#\u5220\u9664\u4e13\u4e1a\u8868\u76842\u53f7\u4e13\u4e1a\nDELETE FROM major WHERE id=2;\n\nSELECT * FROM major;\nSELECT * FROM stu_info;\n")),(0,E.kt)("h3",{id:"4-\u6807\u8bc6\u5217\u81ea\u589e\u957f\u5217"},"4. \u6807\u8bc6\u5217(\u81ea\u589e\u957f\u5217)"),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u6807\u8bc6\u5217\n/*\n\u53c8\u79f0\u4e3a\u81ea\u589e\u957f\u5217\n\u542b\u4e49:\u53ef\u4ee5\u4e0d\u7528\u624b\u52a8\u7684\u63d2\u5165\u503c\uff0c\u7cfb\u7edf\u63d0\u4f9b\u9ed8\u8ba4\u7684\u5e8f\u5217\u503c\n\n\u7279\u70b9:\n1\u3001\u6807\u8bc6\u5217\u5fc5\u987b\u548c\u4e3b\u952e\u642d\u914d\u5417?\n    \u4e0d\u4e00\u5b9a\uff0c\u4f46\u8981\u6c42\u662f\u4e00\u4e2akey\n2\u3001\u2014\u4e2a\u8868\u53ef\u4ee5\u6709\u51e0\u4e2a\u6807\u8bc6\u5217?\n    \u81f3\u591a\u2014\u4e2a!\n3\u3001\u6807\u8bc6\u5217\u7684\u7c7b\u578b\u53ea\u80fd\u662f\u6570\u503c\u578b\n4\u3001\u6807\u8bc6\u5217\u53ef\u4ee5\u901a\u8fc7SET auto_increment_increment=3 \u8bbe\u7f6e\u6b65\u957f\n   \u53ef\u4ee5\u901a\u8fc7\u624b\u52a8\u63d2\u5165\u503c,\u8bbe\u7f6e\u8d77\u59cb\u503c\n*/\n\n#\u4e00\u3001\u521b\u5efa\u8868\u65f6\u8bbe\u7f6e\u6807\u8bc6\u5217\nDROP TABLE IF EXISTS tab_identity;\nCREATE TABLE tab_identity(\n    id INT PRIMARY KEY AUTO_INCREMENT ,\n    NAME VARCHAR(10)\n);\n\n#\u6e05\u7a7a\u8868\nTRUNCATE  TABLE tab_identity;\nINSERT INTO tab_identity VALUES(NULL,'TheMutents');\nINSERT INTO tab_identity(NAME) VALUES('lhk');\nSELECT * FROM tab_identity;\n\n/*\n\u76f8\u5173\u53d8\u91cf\uff1a\nauto_increment_increment:\u81ea\u589e\u957f\u7684\u6b65\u957f\nauto_increment_offset\uff1a\u81ea\u589e\u957f\u7684\u504f\u79fb\u91cf\uff08\u521d\u59cb\u503c\uff09\n\u901a\u8fc7\u8bbe\u7f6e\u8fd9\u4e9b\u53d8\u91cf\u6765\u8bbe\u7f6e\u81ea\u589e\u957f\u7684\u6b65\u957f\u548c\u521d\u59cb\u503c\n\u4f46\u5728mysql\u4e2d\u53ef\u4ee5\u8bbe\u7f6e\u81ea\u589e\u957f\u6b65\u957f\u53d8\u91cf\uff0c\u4e0d\u652f\u6301\u8bbe\u7f6e\u521d\u59cb\u503c\u53d8\u91cf\uff0c\u8bbe\u7f6e\u4e86\u4e5f\u6ca1\u6709\u6548\u679c\n*/\nSHOW VARIABLES LIKE '%AUTO_INCREMENT%';\n\n#\u8bbe\u7f6e\u6b65\u957f\nSET auto_increment_increment =3;\n\n#\u8bbe\u7f6e\u81ea\u589e\u957f\u5217\u521d\u59cb\u503c\nTRUNCATE  TABLE tab_identity;\n#\u2460\u5728\u63d2\u5165\u503c\u65f6\u5c06\u6807\u8bc6\u5217\u7684\u503c\u5b9a\u4e49\u4e3a\u9700\u8981\u4fee\u6539\u7684\u521d\u59cb\u503c\nINSERT INTO tab_identity VALUES(10,'TheMutents');\n#\u2461\u4e4b\u540e\u63d2\u5165\u503c\u65f6\u5c06\u6807\u8bc6\u5217\u5b9a\u4e49\u4e3anull\u5373\u53ef\nINSERT INTO tab_identity VALUES(NULL,'TheMutents');\n\nSELECT * FROM tab_identity;\n\n#\u4e8c\u3001\u4fee\u6539\u8868\u65f6\u8bbe\u7f6e\u6807\u8bc6\u5217\nDROP TABLE IF EXISTS tab_identity;\nCREATE TABLE tab_identity(\n    id INT PRIMARY KEY ,\n    NAME VARCHAR(10)\n);\nALTER TABLE tab_identity MODIFY COLUMN id INT  AUTO_INCREMENT;\n\n#\u4e09\u3001\u4fee\u6539\u8868\u65f6\u5220\u9664\u6807\u8bc6\u5217\nALTER TABLE tab_identity MODIFY COLUMN id INT ;\n")),(0,E.kt)("h2",{id:"\u56dbtcl\u8bed\u8a00\u7684\u5b66\u4e60transaction-control-language\u4e8b\u52a1\u63a7\u5236\u8bed\u8a00"},"\u56db\u3001TCL\u8bed\u8a00\u7684\u5b66\u4e60\uff08Transaction Control Language\uff09\u4e8b\u52a1\u63a7\u5236\u8bed\u8a00"),(0,E.kt)("ul",null,(0,E.kt)("li",{parentName:"ul"},(0,E.kt)("p",{parentName:"li"},"\u4e8b\u52a1:"),(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u4e8b\u52a1\u7531\u5355\u72ec\u5355\u5143\u7684\u4e00\u4e2a\u6216\u591a\u4e2a SQL \u8bed\u53e5\u7ec4\u6210\uff0c\u5728\u8fd9\u4e2a\u5355\u5143\u4e2d\uff0c\u6bcf\u4e2a MySQL \u8bed\u53e5\u662f\u76f8\u4e92\u4f9d\u8d56\u7684\u3002\u800c\u6574\u4e2a\u5355\u72ec\u5355\u5143\u4f5c\u4e3a\u4e00\u4e2a\u4e0d\u53ef\u5206\u5272\u7684\u6574\u4f53",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u5982\u679c\u5355\u5143\u4e2d\u67d0\u6761 SQL \u8bed\u53e5\u4e00\u65e6\u6267\u884c\u5931\u8d25\u6216\u4ea7\u751f\u9519\u8bef\uff0c\u6574\u4e2a\u5355\u5143\u5c06\u4f1a\u56de\u6eda\uff0c\u6240\u6709\u53d7\u5230\u5f71\u54cd\u7684\u6570\u636e\u5c06\u8fd4\u56de\u5230\u4e8b\u7269\u5f00\u59cb\u4ee5\u524d\u7684\u72b6\u6001"),(0,E.kt)("li",{parentName:"ul"},"\u5982\u679c\u5355\u5143\u4e2d\u7684\u6240\u6709 SQL \u8bed\u53e5\u5747\u6267\u884c\u6210\u529f\uff0c\u5219\u4e8b\u7269\u88ab\u987a\u5229\u6267\u884c"))))),(0,E.kt)("li",{parentName:"ul"},(0,E.kt)("p",{parentName:"li"},"\u4e8b\u52a1\u7684 ACID \u5c5e\u6027"),(0,E.kt)("ol",{parentName:"li"},(0,E.kt)("li",{parentName:"ol"},"\u539f\u5b50\u6027(Atomicity)",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u539f\u5b50\u6027\u662f\u6307\u4e8b\u52a1\u662f\u4e00\u4e2a\u4e0d\u53ef\u5206\u5272\u7684\u5de5\u4f5c\u5355\u4f4d\uff0c\u4e8b\u52a1\u4e2d\u7684\u64cd\u4f5c\u8981\u4e48\u90fd\u53d1\u751f\uff0c\u8981\u4e48\u90fd\u4e0d\u53d1\u751f\u3002"))),(0,E.kt)("li",{parentName:"ol"},"\u4e00\u81f4\u6027(Consistency)",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u4e8b\u52a1\u5fc5\u987b\u4f7f\u6570\u636e\u5e93\u4ece\u4e00\u4e2a\u4e00\u81f4\u6027\u72b6\u6001\u53d8\u6362\u5230\u53e6\u5916\u4e00\u4e2a\u4e00\u81f4\u6027\u72b6\u6001"))),(0,E.kt)("li",{parentName:"ol"},"\u9694\u79bb\u6027(Isolation)",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u4e8b\u52a1\u7684\u9694\u79bb\u6027\u662f\u6307\u4e00\u4e2a\u4e8b\u52a1\u7684\u6267\u884c\u4e0d\u80fd\u88ab\u5176\u4ed6\u4e8b\u52a1\u5e72\u6270\uff0c\u5373\u4e00\u4e2a\u4e8b\u52a1\u5185\u90e8\u7684\u64cd\u4f5c\u53ca\u4f7f\u7528\u7684\u6570\u636e\u5bf9\u5e76\u53d1\u7684\u5176\u4ed6\u4e8b\u52a1\u662f\u9694\u79bb\u7684\uff0c\u5e76\u53d1\u6267\u884c\u7684\u5404\u4e2a\u4e8b\u52a1\u4e4b\u95f4\u4e0d\u80fd\u4e92\u76f8\u5e72\u6270\u3002"))),(0,E.kt)("li",{parentName:"ol"},"\u6301\u4e45\u6027(Durability)",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u6301\u4e45\u6027\u662f\u6307\u4e00\u4e2a\u4e8b\u52a1\u4e00\u65e6\u88ab\u63d0\u4ea4\uff0c\u5b83\u5bf9\u6570\u636e\u5e93\u4e2d\u6570\u636e\u7684\u6539\u53d8\u5c31\u662f\u6c38\u4e45\u6027\u7684\uff0c\u63a5\u4e0b\u6765\u7684\u5176\u4ed6\u64cd\u4f5c\u548c\u6570\u636e\u5e93\u6545\u969c\u4e0d\u5e94\u8be5\u5bf9\u5176\u6709\u4efb\u4f55\u5f71\u54cd"))))),(0,E.kt)("li",{parentName:"ul"},(0,E.kt)("p",{parentName:"li"},"\u4e8b\u52a1\u7684\u5e76\u53d1\u95ee\u9898"),(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u5bf9\u4e8e\u540c\u65f6\u8fd0\u884c\u7684\u591a\u4e2a\u4e8b\u52a1,\u5f53\u8fd9\u4e9b\u4e8b\u52a1\u8bbf\u95ee\u6570\u636e\u5e93\u4e2d\u76f8\u540c\u7684\u6570\u636e\u65f6,\u5982\u679c\u6ca1\u6709\u91c7\u53d6\u5fc5\u8981\u7684\u9694\u79bb\u673a\u5236,\u5c31\u4f1a\u5bfc\u81f4\u5404\u79cd\u5e76\u53d1\u95ee\u9898:",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u810f\u8bfb: \u5bf9\u4e8e\u4e24\u4e2a\u4e8b\u52a1 T1,T2, T1 \u8bfb\u53d6\u4e86\u5df2\u7ecf\u88ab T2 \u66f4\u65b0\u4f46\u8fd8\u6ca1\u6709\u88ab\u63d0\u4ea4\u7684\u5b57\u6bb5\u4e4b\u540e,\u82e5 T2 \u56de\u6eda,T1\u8bfb\u53d6\u7684\u5185\u5bb9\u5c31\u662f\u4e34\u65f6\u4e14\u65e0\u6548\u7684"),(0,E.kt)("li",{parentName:"ul"},"\u4e0d\u53ef\u91cd\u590d\u8bfb: \u5bf9\u4e8e\u4e24\u4e2a\u4e8b\u52a1 T1,T2, T1 \u8bfb\u53d6\u4e86\u4e00\u4e2a\u5b57\u6bb5,\u7136\u540e T2 \u66f4\u65b0\u4e86\u8be5\u5b57\u6bb5\u4e4b\u540e,T1\u518d\u6b21\u8bfb\u53d6\u540c\u4e00\u4e2a\u5b57\u6bb5,\u503c\u5c31\u4e0d\u540c\u4e86"),(0,E.kt)("li",{parentName:"ul"},"\u5e7b\u8bfb: \u5bf9\u4e8e\u4e24\u4e2a\u4e8b\u52a1 T1,T2, T1 \u4ece\u4e00\u4e2a\u8868\u4e2d\u8bfb\u53d6\u4e86\u4e00\u4e2a\u5b57\u6bb5,\u7136\u540e T2 \u5728\u8be5\u8868\u4e2d\u63d2\u5165\u4e86\u4e00\u4e9b\u65b0\u7684\u884c.\u4e4b\u540e,\u5982\u679c T1 \u518d\u6b21\u8bfb\u53d6\u540c\u4e00\u4e2a\u8868,\u5c31\u4f1a\u591a\u51fa\u51e0\u884c"))))),(0,E.kt)("li",{parentName:"ul"},(0,E.kt)("p",{parentName:"li"},"\u6570\u636e\u5e93\u4e8b\u52a1\u7684\u9694\u79bb\u6027: \u6570\u636e\u5e93\u7cfb\u7edf\u5fc5\u987b\u5177\u6709\u9694\u79bb\u5e76\u53d1\u8fd0\u884c\u5404\u4e2a\u4e8b\u52a1\u7684\u80fd\u529b,\u4f7f\u5b83\u4eec\u4e0d\u4f1a\u76f8\u4e92\u5f71\u54cd,\u907f\u514d\u5404\u79cd\u5e76\u53d1\u95ee\u9898"),(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u4e00\u4e2a\u4e8b\u52a1\u4e0e\u5176\u4ed6\u4e8b\u52a1\u9694\u79bb\u7684\u7a0b\u5ea6\u79f0\u4e3a",(0,E.kt)("strong",{parentName:"li"},"\u9694\u79bb\u7ea7\u522b"),".\u6570\u636e\u5e93\u89c4\u5b9a\u4e86\u591a\u79cd\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b,\u4e0d\u540c\u9694\u79bb\u7ea7\u522b\u5bf9\u5e94\u4e0d\u540c\u7684\u5e72\u6270\u7a0b\u5ea6,\u9694\u79bb\u7ea7\u522b\u8d8a\u9ad8,\u6570\u636e\u4e00\u81f4\u6027\u5c31\u8d8a\u597d,\u4f46\u5e76\u53d1\u6027\u8d8a\u5f31"))),(0,E.kt)("li",{parentName:"ul"},(0,E.kt)("p",{parentName:"li"},"\u6570\u636e\u5e93\u63d0\u4f9b\u76844\u79cd\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b:"),(0,E.kt)("table",{parentName:"li"},(0,E.kt)("thead",{parentName:"table"},(0,E.kt)("tr",{parentName:"thead"},(0,E.kt)("th",{parentName:"tr",align:null},"\u9694\u79bb\u7ea7\u522b"),(0,E.kt)("th",{parentName:"tr",align:null},"\u63cf\u8ff0"))),(0,E.kt)("tbody",{parentName:"table"},(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"READ UNCOMMITTED(\u8bfb\u672a\u63d0\u4ea4\u6570\u636e)"),(0,E.kt)("td",{parentName:"tr",align:null},"\u5141\u8bb8\u4e8b\u52a1\u8bfb\u53d6\u672a\u88ab\u5176\u4ed6\u4e8b\u7269\u63d0\u4ea4\u7684\u53d8\u66f4,\u810f\u8bfb,\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u7684\u95ee\u9898\u90fd\u4f1a\u51fa\u73b0")),(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"READ COMMITTED(\u8bfb\u5df2\u63d0\u4ea4\u6570\u636e)"),(0,E.kt)("td",{parentName:"tr",align:null},"\u53ea\u5141\u8bb8\u4e8b\u52a1\u8bfb\u53d6\u5df2\u7ecf\u88ab\u5176\u5b83\u4e8b\u52a1\u63d0\u4ea4\u7684\u53d8\u66f4,\u53ef\u4ee5\u907f\u514d\u810f\u8bfb,\u4f46\u4e0d\u53ef\u91cd\u590d\u8bfb\u548c\u5e7b\u8bfb\u95ee\u9898\u4ecd\u7136\u53ef\u80fd\u51fa\u73b0")),(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"REPEATABLE READ(\u53ef\u91cd\u590d\u8bfb)"),(0,E.kt)("td",{parentName:"tr",align:null},"\u786e\u4fdd\u4e8b\u52a1\u53ef\u4ee5\u591a\u6b21\u4ece\u4e00\u4e2a\u5b57\u6bb5\u4e2d\u8bfb\u53d6\u76f8\u540c\u7684\u503c,\u5728\u8fd9\u4e2a\u4e8b\u52a1\u6301\u7eed\u671f\u95f4,\u7981\u6b62\u5176\u4ed6\u4e8b\u7269\u5bf9\u8fd9\u4e2a\u5b57\u6bb5\u8fdb\u884c\u66f4\u65b0\uff0c\u53ef\u4ee5\u907f\u514d\u810f\u8bfb\u548c\u4e0d\u53ef\u91cd\u590d\u8bfb,\u4f46\u5e7b\u8bfb\u7684\u95ee\u9898\u4ecd\u7136\u5b58\u5728")),(0,E.kt)("tr",{parentName:"tbody"},(0,E.kt)("td",{parentName:"tr",align:null},"SERIALIZABLE(\u4e32\u884c\u5316)"),(0,E.kt)("td",{parentName:"tr",align:null},"\u786e\u4fdd\u4e8b\u52a1\u53ef\u4ee5\u4ece\u4e00\u4e2a\u8868\u4e2d\u8bfb\u53d6\u76f8\u540c\u7684\u884c,\u5728\u8fd9\u4e2a\u4e8b\u52a1\u6301\u7eed\u671f\u95f4,\u7981\u6b62\u5176\u4ed6\u4e8b\u52a1\u5bf9\u8be5\u8868\u6267\u884c\u63d2\u5165,\u66f4\u65b0\u548c\u5220\u9664\u64cd\u4f5c,\u6240\u6709\u5e76\u53d1\u95ee\u9898\u90fd\u53ef\u4ee5\u907f\u514d,\u4f46\u6027\u80fd\u5341\u5206\u4f4e\u4e0b"))))),(0,E.kt)("li",{parentName:"ul"},(0,E.kt)("p",{parentName:"li"},"Oracle \u652f\u6301\u76842\u79cd\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b: ",(0,E.kt)("inlineCode",{parentName:"p"},"READ COMMITTED")," \u548c ",(0,E.kt)("inlineCode",{parentName:"p"},"SERIALIZABLE"),"\u3002"),(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"Oracle\u9ed8\u8ba4\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u4e3a: ",(0,E.kt)("inlineCode",{parentName:"li"},"READ COMMITTED")))),(0,E.kt)("li",{parentName:"ul"},(0,E.kt)("p",{parentName:"li"},"Mysql \u652f\u63014\u79cd\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b"),(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"Mysql \u9ed8\u8ba4\u7684\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\u4e3a: ",(0,E.kt)("inlineCode",{parentName:"li"},"REPEATABLE READ"))))),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#Tcl\u8bed\u8a00\n/*\nTransaction control Language\u4e8b\u52a1\u63a7\u5236\u8bed\u8a00\n\u4e8b\u52a1:\n\u4e00\u4e2a\u6216\u4e00\u7ec4sql\u8bed\u53e5\u7ec4\u6210\u4e00\u4e2a\u6267\u884c\u5355\u5143\uff0c\u8fd9\u4e2a\u6267\u884c\u5355\u5143\u8981\u4e48\u5168\u90e8\u6267\u884c\uff0c\u8981\u4e48\u5168\u90e8\u4e0d\u6267\u884c\u3002\n\n\u4e8b\u52a1\u7684\u7279\u6027:ACID\n\u539f\u5b50\u6027:\u4e00\u4e2a\u4e8b\u52a1\u4e0d\u53ef\u518d\u5206\u5272\uff0c\u8981\u4e48\u90fd\u6267\u884c\u8981\u4e48\u90fd\u4e0d\u6267\u884c\n\u4e00\u81f4\u6027:\u4e00\u4e2a\u4e8b\u52a1\u6267\u884c\u4f1a\u4f7f\u6570\u636e\u4ece\u4e00\u4e2a\u4e00\u81f4\u72b6\u6001\u5207\u6362\u5230\u53e6\u5916\u4e00\u4e2a\u4e00\u81f4\u72b6\u6001\n\u9694\u79bb\u6027:\u4e00\u4e2a\u4e8b\u52a1\u7684\u6267\u884c\u4e0d\u53d7\u5176\u4ed6\u4e8b\u52a1\u7684\u5343\u6270\n\u6301\u4e45\u6027:\u4e00\u4e2a\u4e8b\u52a1\u4e00\u65e6\u63d0\u4ea4\uff0c\u5219\u4f1a\u6c38\u4e45\u7684\u6539\u53d8\u6570\u636e\u5e93\u7684\u6570\u636e.\n\n\u4e8b\u52a1\u7684\u521b\u5efa\n    \u9690\u5f0f\u4e8b\u52a1:\u4e8b\u52a1\u6ca1\u6709\u660e\u663e\u7684\u5f00\u542f\u548c\u7ed3\u675f\u7684\u6807\u8bb0\n    \u6bd4\u5982insert\u3001 update\u3001 delete\u8bed\u53e5\n\n    \u663e\u5f0f\u4e8b\u52a1:\u4e8b\u52a1\u5177\u6709\u660e\u663e\u7684\u5f00\u542f\u548c\u7ed3\u675f\u7684\u6807\u8bb0\n    \u524d\u63d0\uff1a\u5fc5\u987b\u5148\u8bbe\u7f6e\u81ea\u52a8\u63d0\u4ea4\u529f\u80fd\u4e3a\u7981\u7528\n    set autocommit=0;\n\n    \u6b65\u9aa41:\u5f00\u542f\u4e8b\u52a1\n    set autocommit=0;\n    start transaction; \u53ef\u9009\u7684\n    \n    \u6b65\u9aa42:\u7f16\u5199\u4e8b\u52a1\u4e2d\u7684sql\u8bed\u53e5(select insert update delete)\n    \u8bed\u53e51;\n    \u8bed\u53e52;\n    ...\n    \n    \u6b65\u9aa43:\u7ed3\u675f\u4e8b\u52a1\n    commit;\u63d0\u4ea4\u4e8b\u52a1\n    rollback;\u56de\u6eda\u4e8b\u52a1\n*/\n#\u67e5\u770bmysql\u652f\u6301\u7684\u5b58\u50a8\u5f15\u64ce\nshow engines;\n\nshow  variables like 'autocommit';\n\n#1.\u6f14\u793a\u4e8b\u52a1\u7684\u4f7f\u7528\u6b65\u9aa4\nDROP TABLE IF EXISTs account;\ncreate  TABLE  account (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    username VARCHAR (20),\n    balance DOUBLE\n);\niNSERT iNTO account (username , balance)\nVALUES('\u5f20\u65e0\u5fcc',1000),('\u8d75\u654f',1000);\nselect * from account;\n\n#\u5f00\u542f\u4e8b\u52a1\nset autocommit=0;\nstart transaction; \n#\u7f16\u5199\u4e00\u7ec4\u4e8b\u52a1\u7684\u8bed\u53e5\nupdate account set balance=500 where username='\u5f20\u65e0\u5fcc';\nupdate account set balance=1500 where username='\u8d75\u654f';\n#\u7ed3\u675f\u4e8b\u52a1\ncommit;\n#rollback;\n\n/*\n2.\u4e8b\u52a1\u7684\u9694\u79bb\u7ea7\u522b:\n                    \u810f\u8bfb  \u4e0d\u53ef\u91cd\u590d\u8bfb   \u5e7b\u8bfb\nread uncommitted:    \u221a      \u221a         \u221a\nread committed:      \xd7      \u221a         \u221a\nrepeatable read:     \xd7      \xd7         \u221a\nserializable:        \xd7      \xd7         \xd7\nmysql\u4e2d\u9ed8\u8ba4\u9694\u79bb\u7ea7\u522brepeatable read\noracle\u4e2d\u9ed8\u8ba4\u9694\u79bb\u7ea7\u522bread committed\n*/\n#\u67e5\u770b\u5f53\u524d\u7684\u9694\u79bb\u7ea7\u522b:\nSELECT @@tx_isolation;\n\n#\u8bbe\u7f6e\u5f53\u524d mySQL \u8fde\u63a5\u7684\u9694\u79bb\u7ea7\u522b: \nset transaction isolation level read committed; \n\n#\u8bbe\u7f6e\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u5168\u5c40\u7684\u9694\u79bb\u7ea7\u522b: \nset global transaction isolation level read committed;\n\n#3.\u8bbe\u7f6e\u4fdd\u5b58\u70b9\n/*\n    savepoint \u81ea\u5b9a\u4e49\u8282\u70b9\u540d; \n*/\nselect * from account;\n\nset autocommit=0;\nstart transaction;\ndelete from account where id=1;\nsavepoint a;#\u8bbe\u7f6e\u4fdd\u5b58\u70b9\ndelete from account where id=2;\nrollback to a;#\u56de\u6eda\u5230\u4fdd\u5b58\u70b9\u5904\n")),(0,E.kt)("h2",{id:"\u4e94\u89c6\u56fe"},"\u4e94\u3001\u89c6\u56fe"),(0,E.kt)("ul",null,(0,E.kt)("li",{parentName:"ul"},"\u89c6\u56fe:",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"MySQL \u4ece 5.0.1 \u7248\u672c\u5f00\u59cb\u63d0\u4f9b\u89c6\u56fe\u529f\u80fd\u3002"),(0,E.kt)("li",{parentName:"ul"},"\u4e00\u79cd\u865a\u62df\u5b58\u5728\u7684\u8868\uff0c\u884c\u548c\u5217\u7684\u6570\u636e\u6765\u81ea\u5b9a\u4e49\u89c6\u56fe\u7684\u67e5\u8be2\u4e2d\u4f7f\u7528\u7684\u8868\uff0c\u5e76\u4e14\u662f\u5728\u4f7f\u7528\u89c6\u56fe\u65f6\u52a8\u6001\u751f\u6210\u7684\uff0c\u53ea\u4fdd\u5b58\u4e86 sql \u903b\u8f91\uff0c\u4e0d\u4fdd\u5b58\u67e5\u8be2\u7ed3\u679c"),(0,E.kt)("li",{parentName:"ul"},"\u5e94\u7528\u573a\u666f:",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u591a\u4e2a\u5730\u65b9\u7528\u5230\u540c\u6837\u7684\u67e5\u8be2\u7ed3\u679c"),(0,E.kt)("li",{parentName:"ul"},"\u8be5\u67e5\u8be2\u7ed3\u679c\u4f7f\u7528\u7684 sql \u8bed\u53e5\u8f83\u590d\u6742")))))),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u89c6\u56fe\n/*\n\u542b\u4e49:\u865a\u62df\u8868,\u548c\u666e\u901a\u8868\u4e00\u6837\u4f7f\u7528\nmysql 5.0.1 \u7248\u672c\u51fa\u73b0\u7684\u65b0\u7279\u6027\uff0c\u662f\u901a\u8fc7\u8868\u52a8\u6001\u751f\u6210\u7684\u6570\u636e\n\n\u89c6\u56fe\u7684\u597d\u5904\uff1a\n\u2022 \u91cd\u7528sql\u8bed\u53e5\n\u2022 \u7b80\u5316\u590d\u6742\u7684sql\u64cd\u4f5c\uff0c\u4e0d\u5fc5\u77e5\u9053\u5b83\u7684\u67e5\u8be2\u7ec6\u8282\n\u2022 \u4fdd\u62a4\u6570\u636e\uff0c\u63d0\u9ad8\u5b89\u5168\u6027\n\n\u89c6\u56fe\u4e0e\u8868\u7684\u533a\u522b \n    \u521b\u5efa\u8bed\u6cd5\u7684\u5173\u952e\u5b57    \u662f\u5426\u5b9e\u9645\u5360\u7528\u7269\u7406\u7a7a\u95f4      \u4f7f\u7528\n\u89c6\u56fe  create view     \u53ea\u662f\u4fdd\u5b58\u4e86sql\u903b\u8f91      \u589e\u5220\u6539\u67e5\uff0c\u4e00\u822c\u4e0d\u80fd\u589e\u5220\u6539\n\u8868   create table    \u4fdd\u5b58\u4e86\u6570\u636e           \u589e\u5220\u6539\u67e5\n*/\n\n#\u4f8b\uff1a\u67e5\u8be2\u59d3\u5f20\u7684\u5b66\u751f\u540d\u548c\u4e13\u4e1a\u540d\n#\u6ca1\u6709\u4f7f\u7528\u89c6\u56fe\u67e5\u8be2\nUSE students;\nSELECT stu_name,major_name\nFROM stu_info s\nINNER JOIN major m\nON s.`major_id`=m.`id`\nWHERE stu_name LIKE '\u5f20%';\n\n#\u4f7f\u7528\u89c6\u56fe\nCREATE VIEW v1\nAS\nSELECT stu_name,major_name\nFROM stu_info s\nINNER JOIN major m\nON s.`major_id`=m.`id`;\n\nSELECT * \nFROM v1\nWHERE stu_name LIKE '\u5f20%';\n\n#\u4e00\u3001\u521b\u5efa\u89c6\u56fe\n/*\n\u8bed\u6cd5\uff1a\n    create view \u81ea\u5b9a\u4e49\u89c6\u56fe\u540d\n    as\n    \u67e5\u8be2\u8bed\u53e5;\n*/\nUSE myemployees;\n\n#1.\u67e5\u8be2\u59d3\u540d\u4e2d\u5305\u542ba\u5b57\u7b26\u7684\u5458\u5de5\u540d\u3001\u90e8\u95e8\u540d\u548c\u5de5\u79cd\u4fe1\u606f\n#\u2460\u521b\u5efa\u89c6\u56fe\nCREATE VIEW myv1\nAS\nSELECT Last_name,department_name,job_title\nFROM employees e\nJOIN departments  d ON e.department_id=d.department_id\nJOIN jobs j ON e.job_id=j.job_id;\n\n#\u2461\u4f7f\u7528\u89c6\u56fe\u67e5\u8be2\nSELECT * FROM myv1 WHERE Last_name LIKE '%a%';\n\n#2.\u67e5\u8be2\u5404\u90e8\u95e8\u7684\u5e73\u5747\u5de5\u8d44\u7ea7\u522b\n#\u2460\u521b\u5efa\u89c6\u56fe\uff1a\u67e5\u770b\u6bcf\u4e2a\u90e8\u95e8\u7684\u5e73\u5747\u5de5\u8d44\nCREATE VIEW myv2\nAS\nSELECT AVG(Salary) ag,department_id\nFROM employees\nGROUP BY department_id;\n\n#\u4f7f\u7528\u89c6\u56fe\u67e5\u8be2\nSELECT department_id,ag,grade_level\nFROM myv2\nJOIN job_grades ON myv2.`ag` \nBETWEEN job_grades.`lowest_sal` AND job_grades.`highest_sal`;\n\n#3.\u67e5\u8be2\u5e73\u5747\u5de5\u8d44\u6700\u4f4e\u7684\u90e8\u95e8\u4fe1\u606f\nSELECT * \nFROM departments d\nWHERE department_id=(\n    SELECT department_id\n    FROM myv2\n    ORDER BY ag \n    LIMIT 1\n);\n\n#4.\u67e5\u8be2\u5e73\u5747\u5de5\u8d44\u6700\u4f4e\u7684\u90e8\u95e8\u540d\u548c\u5de5\u8d44\nCREATE VIEW myv3\nAS\nSELECT * FROM myv2 GROUP BY ag LIMIT 1;\n\nSELECT d.department_name ,ag\nFROM departments d\nJOIN myv3\nON d.`department_id`=myv3.`department_id`;\n\n#\u4e8c\u3001\u89c6\u56fe\u7684\u4fee\u6539\n#\u65b9\u5f0f\u4e00\n/*\n    create or replace view \u89c6\u56fe\u540d\n    as\n    \u67e5\u8be2\u8bed\u53e5\n*/\n\nCREATE OR REPLACE VIEW myv3\nAS\nSELECT AVG(Salary),job_id\nFROM employees\nGROUP BY job_id;\n\n#\u65b9\u5f0f\u4e8c\n/*\n    alter view \u89c6\u56fe\u540d\n    as\n    \u67e5\u8be2\u8bed\u53e5\n*/\nALTER VIEW myv3\nAS\nSELECT * FROM employees;\n\n#\u4e09\u3001\u5220\u9664\u89c6\u56fe\n/*\n    drop view \u89c6\u56fe\u540d,\u89c6\u56fe\u540d,.....;\n*/\nDROP VIEW myv1,myv2,myv3;\n\n#\u56db\u3001\u67e5\u770b\u89c6\u56fe\nDESC myv3;\nSHOW CREATE VIEW myv3;\n\n#\u4e94\u3001\u4f8b\u9898\n#1\u3001\u521b\u5efa\u89c6\u56feemp_v1,\u8981\u6c42\u67e5\u8be2\u7535\u8bdd\u53f7\u7801\u4ee5'011'\u5f00\u5934\u7684\u5458\u5de5\u59d3\u540d\u548c\u5de5\u8d44\u3001\u90ae\u7bb1\nCREATE OR REPLACE VIEW emp_v1\nAS\nSELECT Last_name,Salary,email\nFROM employees;\nWHERE phone_number LIKE '011%';\n\n#2\u3001\u521b\u5efa\u89c6\u56feemp_v2\uff0c\u8981\u6c42\u67e5\u8be2\u90e8\u95e8\u7684\u6700\u9ad8\u5de5\u8d44\u9ad8\u4e8e12000\u7684\u90e8\u95e8\u4fe1\u606f\nCREATE OR REPLACE VIEW emp_v2\nAS\nSELECT *\nFROM departments\nWHERE department_id IN (\n    SELECT department_id\n    FROM employees\n    GROUP BY department_id\n    HAVING MAX(Salary)>12000\n);\n\nSELECT * FROM emp_v2;\n\n#\u516d\u3001\u89c6\u56fe\u7684\u66f4\u65b0\nDROP VIEW IF EXISTS emp_v2,myv1,myv2,myv3;\n\nCREATE OR REPLACE VIEW myv1\nAS\nSELECT Last_name,email\nFROM employees; \n\nSELECT * FROM myv1;\nSELECT * FROM employees;\n#1.\u63d2\u5165\nINSERT INTO myv1 VALUES('themutents','123123@qq.com');\n#2.\u4fee\u6539\nUPDATE myv1 SET Last_name='TheMutents' WHERE Last_name='themutents';\n#3.\u5220\u9664\nDELETE FROM myv1 WHERE Last_name='TheMutents';\n\n#4.\u4ee5\u4e0b\u60c5\u51b5\u4e0d\u80fd\u66f4\u65b0\u7684\u89c6\u56fe\n#\u2460\u5305\u542b\u4ee5\u4e0b\u5173\u952e\u5b57\u7684sql\u8bed\u53e5\uff1a\u5206\u7ec4\u51fd\u6570\u3001distinct\u3001group by having\u3001union\u6216\u8005union all\nDROP VIEW IF EXISTS myv1;\n\n#\u521b\u5efa\u89c6\u56fe\nCREATE OR REPLACE VIEW myv1\nAS\nSELECT MAX(Salary) m,department_id\nFROM employees\nGROUP BY department_id;\n\n#\u4e0d\u5141\u8bb8\u66f4\u65b0\n/*\n    The target table myv3 of the UPDATE is not updatable\n*/\nUPDATE myv1 SET m=9000 WHERE department_id=10;\n\n#\u2461\u5e38\u91cf\u89c6\u56fe\n#\u521b\u5efa\u5e38\u91cf\u89c6\u56fe\nDROP VIEW IF EXISTS myv2;\nCREATE OR REPLACE VIEW myv2\nAS\nSELECT 'jhon' AS NAME;\n\nSELECT * FROM myv2;\n\n#\u4e0d\u5141\u8bb8\u66f4\u65b0\n/*\n    The target table myv3 of the UPDATE is not updatable\n*/\nUPDATE myv2 SET NAME='themutents';\n\n#\u2462Select\u4e2d\u5305\u542b\u5b50\u67e5\u8be2\nDROP VIEW IF EXISTS myv3;\n#\u521b\u5efa\u89c6\u56fe\nCREATE OR REPLACE VIEW myv3\nAS\nSELECT(SELECT MAX(Salary) AS m FROM employees) AS \u6700\u9ad8\u5de5\u8d44;\n\nSELECT * FROM myv3;\n\n#\u4e0d\u5141\u8bb8\u66f4\u65b0\n/*\n    The target table myv3 of the UPDATE is not updatable\n*/\nUPDATE myv3 SET \u6700\u9ad8\u5de5\u8d44=20000;\n\n#\u2463join\nDROP VIEW IF EXISTS myv4;\n#\u521b\u5efa\u89c6\u56fe\nCREATE OR REPLACE VIEW myv4\nAS\nSELECT Last_name,department_name\nFROM employees e\nJOIN departments d\nON e.department_id=d.department_id;\n\nSELECT * FROM myv4;\n\n#\u4e0d\u5141\u8bb8\u66f4\u65b0\n#\u53ef\u4ee5\u8fdb\u884c\u4fee\u6539\nUPDATE myv4 SET Last_name='themutents' WHERE Last_name='whalen' ;\n\n#\u4e0d\u53ef\u4ee5\u8fdb\u884c\u63d2\u5165\n/*\n    Can not insert into join view 'myemployees.myv4' without fields list\n*/\nINSERT INTO myv4 VALUES('lhk','mar');\n\n#\u2464from\u4e00\u4e2a\u4e0d\u80fd\u66f4\u65b0\u7684\u89c6\u56fe\nDROP VIEW IF EXISTS myv5;\n#\u521b\u5efa\u89c6\u56fe\nCREATE OR REPLACE VIEW myv5\nAS\nSELECT * FROM myv3;\n\nSELECT * FROM myv5;\n\n#\u4e0d\u5141\u8bb8\u66f4\u65b0\n/*\n    The target table myv5 of the UPDATE is not updatable\n*/\nUPDATE myv5 SET \u6700\u9ad8\u5de5\u8d44=20000;\n\n#\u2465where\u5b50\u53e5\u7684\u5b50\u67e5\u8be2\u5f15\u7528\u4e86from\u5b50\u53e5\u4e2d\u7684\u8868\nDROP VIEW IF EXISTS myv6;\n#\u521b\u5efa\u89c6\u56fe\nCREATE OR REPLACE VIEW myv6\nAS\nSELECT Last_name ,email,Salary\nFROM employees\nWHERE employee_id IN (\n    SELECT manager_id\n    FROM employees\n    WHERE manager_id IS NOT NULL\n);\n\nSELECT * FROM myv6;\n\n#\u4e0d\u5141\u8bb8\u66f4\u65b0\n/*\n    The target table myv6 of the UPDATE is not updatable\n*/\nUPDATE myv6 SET Salary=20000 WHERE Last_name='k_ing';\n")),(0,E.kt)("h2",{id:"\u516d\u53d8\u91cf"},"\u516d\u3001\u53d8\u91cf"),(0,E.kt)("pre",null,(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"#\u53d8\u91cf\n/*\n\u7cfb\u7edf\u53d8\u91cf\uff1a\n    \u5168\u5c40\u53d8\u91cf\n    \u4f1a\u8bdd\u53d8\u91cf\n\n\u81ea\u5b9a\u4e49\u53d8\u91cf\uff1a\n    \u7528\u6237\u53d8\u91cf\n    \u5c40\u90e8\u53d8\u91cf\n*/\n\n#\u4e00\u3001\u7cfb\u7edf\u53d8\u91cf\n/*\n\u8bf4\u660e:\u53d8\u91cf\u7531\u7cfb\u7edf\u63d0\u4f9b\uff0c\u4e0d\u662f\u7528\u6237\u5b9a\u4e49\uff0c\u5c5e\u4e8e\u670d\u52a1\u5668\u5c42\u9762\n\n\u6ce8\u610f:\n\u5982\u679c\u662f\u5168\u5c40\u7ea7\u522b\uff0c\u5219\u9700\u8981\u52a0GLOBAL\uff0c\u5982\u679c\u662f\u4f1a\u8bdd\u7ea7\u522b\uff0c\u5219\u9700\u8981\u52a0SESSION\uff0c\u5982\u679c\u4e0d\u5199\u5219\u9ed8\u8ba4SESSION\n\n\u4f7f\u7528\uff1a\n1.\u67e5\u770b\u6240\u6709\u7684\u7cfb\u7edf\u53d8\u91cf\nshow global |[session] variables;\n\n2.\u67e5\u770b\u6ee1\u8db3\u6761\u4ef6\u7684\u90e8\u5206\u7cfb\u7edf\u53d8\u91cf\nshow global |[session] variables like '%char%';\n\n3.\u67e5\u770b\u6307\u5b9a\u7684\u67d0\u4e2a\u7cfb\u7edf\u53d8\u91cf\u7684\u503c\nselect @@global.\u7cfb\u7edf\u53d8\u91cf\u540d\nselect @@session.\u7cfb\u7edf\u53d8\u91cf\u540d\n\n4.\u4e3a\u67d0\u4e2a\u7cfb\u7edf\u53d8\u91cf\u8d4b\u503c\n    \u65b9\u5f0f\u4e00\uff1a\n    set global \u7cfb\u7edf\u53d8\u91cf=\u503c;\n    set \u3010session\u3011 \u7cfb\u7edf\u53d8\u91cf=\u503c;\n    \u65b9\u5f0f\u4e8c\uff1a\n    set @@global.\u7cfb\u7edf\u53d8\u91cf\u540d\n    set @@session.\u7cfb\u7edf\u53d8\u91cf\u540d\n*/\n\n#1.\u5168\u5c40\u53d8\u91cf\n/*\n\u4f5c\u7528\u57df\uff1a\u670d\u52a1\u5668\u6bcf\u6b21\u542f\u52a8\u5c06\u4e3a\u6240\u6709\u7684\u5168\u5c40\u53d8\u91cf\u8d4b\u521d\u59cb\u503c\uff0c\u9488\u5bf9\u6240\u6709\u4f1a\u8bdd\uff08\u8fde\u63a5\uff09\u6709\u6548\uff0c\u4f46\u4e0d\u80fd\u8de8\u91cd\u542f\n\u82e5\u9700\u8981\u4fdd\u6301\u91cd\u542f\u540e\u5168\u5c40\u53d8\u91cf\u4ecd\u4e3a\u4fee\u6539\u540e\u7684\u53d8\u91cf\uff0c\u5219\u9700\u8981\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\n*/\n\n#\u2460.\u67e5\u770b\u6240\u6709\u7684\u5168\u5c40\u53d8\u91cf\nSHOW GLOBAL VARIABLES;\n\n#\u2461.\u67e5\u770b\u90e8\u5206\u5168\u5c40\u53d8\u91cf\nSHOW GLOBAL VARIABLES LIKE '%char%';\n\n#\u2462.\u67e5\u770b\u6307\u5b9a\u7684\u5168\u5c40\u53d8\u91cf\u7684\u503c\nSELECT @@global.autocommit;\nSELECT @@tx_isolation;\n\n#\u2463.\u4e3a\u67d0\u4e2a\u6307\u5b9a\u7684\u5168\u5c40\u53d8\u91cf\u8d4b\u503c\nSET @@global.autocommit=0;\n\n#2.\u4f1a\u8bdd\u53d8\u91cf\n/*\n\u4f5c\u7528\u57df\uff1a\u4ec5\u4ec5\u9488\u5bf9\u4e8e\u5f53\u524d\u4f1a\u8bdd\uff08\u8fde\u63a5\uff09\u6709\u6548\n*/\n\n#\u2460.\u67e5\u770b\u6240\u6709\u7684\u4f1a\u8bdd\u53d8\u91cf\nSHOW SESSION VARIABLES ;\nSHOW VARIABLES;\n\n#\u2461.\u67e5\u770b\u90e8\u5206\u4f1a\u8bdd\u53d8\u91cf\nSHOW SESSION VARIABLES LIKE '%char%';\nSHOW VARIABLES LIKE '%char%';\n\n#\u2462.\u67e5\u770b\u6307\u5b9a\u7684\u67d0\u4e2a\u4f1a\u8bdd\u53d8\u91cf\nSELECT @@session.tx_isolation;\nSELECT @@tx_isolation;\n\n#\u2463.\u4e3a\u67d0\u4e2a\u4f1a\u8bdd\u53d8\u91cf\u8d4b\u503c\n#\u65b9\u5f0f\u4e00\nSET @@session.tx_isolation ='read-uncommitted';\n\n#\u65b9\u5f0f\u4e8c\nSET SESSION tx_isolation ='read-committed';\n\n#\u4e8c\u3001\u81ea\u5b9a\u4e49\u53d8\u91cf\n/*\n\u8bf4\u660e\uff1a\u53d8\u91cf\u662f\u7531\u7528\u6237\u81ea\u5b9a\u4e49\u7684\n\n\u4f7f\u7528\u6b65\u9aa4\uff1a\n    \u58f0\u660e\n    \u8d4b\u503c\n    \u4f7f\u7528\uff08\u67e5\u770b\u3001\u6bd4\u8f83\u3001\u8fd0\u7b97\u7b49\uff09\n*/\n\n#1.\u7528\u6237\u53d8\u91cf\uff08\u58f0\u660e\u65f6\u5fc5\u987b\u521d\u59cb\u5316\uff09\n/*\n\u4f5c\u7528\u57df\uff1a\u9488\u5bf9\u4e8e\u5f53\u524d\u4f1a\u8bdd\uff08\u8fde\u63a5\uff09\u6709\u6548\uff0c\u540c\u4e8e\u4f1a\u8bdd\u53d8\u91cf\u7684\u4f5c\u7528\u57df\n\n\u5e94\u7528\u5728\u4efb\u4f55\u5730\u65b9\uff0c\u4e5f\u5c31\u662fbegin end\u7684\u91cc\u9762 \u6216 begin end \u7684\u5916\u9762\n*/\n\n#\u2460.\u58f0\u660e\u5e76\u521d\u59cb\u5316\n/*\n    \u8d4b\u503c\u64cd\u4f5c\u7b26\uff1a=   :=\n*/\nSET @\u7528\u6237\u53d8\u91cf\u540d=\u503c;\nSET @\u7528\u6237\u53d8\u91cf\u540d:=\u503c;\nSELECT \u7528\u6237\u53d8\u91cf\u540d:=\u503c;\n\n#\u2461.\u8d4b\u503c\uff08\u66f4\u65b0\u53d8\u91cf\u7684\u503c\uff09\n#\u65b9\u5f0f\u4e00\uff1aset \u6216 select\nSET @\u7528\u6237\u53d8\u91cf\u540d=\u503c;\nSET @\u7528\u6237\u53d8\u91cf\u540d:=\u503c;\nSELECT @\u7528\u6237\u53d8\u91cf\u540d:=\u503c;\n\n#\u65b9\u5f0f\u4e8c\uff1a\u901a\u8fc7select into\nSELECT \u5b57\u6bb5 INTO @\u53d8\u91cf\u540d FROM \u8868;\n\n#\u2462.\u4f7f\u7528\uff08\u67e5\u770b\u7528\u6237\u53d8\u91cf\u7684\u503c\uff09\nSELECT @\u7528\u6237\u53d8\u91cf\u540d\n\n#\u4f8b\nSET @name = 'lhk';\nSET @name := 100;\n\nSELECT @name;\n\nSELECT COUNT(*) INTO @count FROM stu_info;\n\nSELECT @count;\n\n#2.\u5c40\u90e8\u53d8\u91cf\n/*\n\u4f5c\u7528\u57df\uff1a\u4ec5\u4ec5\u5728\u5b9a\u4e49\u5b83\u7684begin end \u4e2d\u6709\u6548\n\u5e94\u7528\u5728 begin end\u4e2d\u7684\u7b2c\u4e00\u53e5\u8bdd\n*/\n\n#\u2460.\u58f0\u660e\nDECLARE \u53d8\u91cf\u540d \u7c7b\u578b;\nDECLARE \u53d8\u91cf\u540d \u7c7b\u578b DEFAULT \u503c;\n\n#\u2461.\u8d4b\u503c\uff08\u66f4\u65b0\u53d8\u91cf\u7684\u503c\uff09\n    #\u65b9\u5f0f\u4e00\uff1aset \u6216 select\n    SET \u5c40\u90e8\u53d8\u91cf\u540d=\u503c;\n    SET \u5c40\u90e8\u53d8\u91cf\u540d:=\u503c;\n    SELECT @\u5c40\u90e8\u53d8\u91cf\u540d:=\u503c;\n\n    #\u65b9\u5f0f\u4e8c\uff1a\u901a\u8fc7select into\n    SELECT \u5b57\u6bb5 INTO \u5c40\u90e8\u53d8\u91cf\u540d FROM \u8868;\n\n#\u2462.\u4f7f\u7528\nSELECT \u5c40\u90e8\u53d8\u91cf\u540d;\n\n#3.\u5bf9\u6bd4\u7528\u6237\u53d8\u91cf\u548c\u5c40\u90e8\u53d8\u91cf\n/*\n        \u4f5c\u7528\u57df         \u5b9a\u4e49\u548c\u4f7f\u7528\u7684\u4f4d\u7f6e                    \u8bed\u6cd5\n\u7528\u6237\u53d8\u91cf    \u5f53\u524d\u4f1a\u8bdd            \u4f1a\u8bdd\u4e2d\u7684\u4efb\u4f55\u5730\u65b9                    \u5fc5\u987b\u529b\u52a0@\u7b26\u53f7\uff0c\u4e0d\u7528\u9650\u5b9a\u7c7b\u578b\n\u5c40\u90e8\u53d8\u91cf    BEGIN END \u4e2d \u53ea\u80fd\u5728 BEGIN END \u4e2d\uff0c\u4e14\u4e3a\u7b2c\u4e00\u53e5\u8bdd  \u2014\u822c\u4e0d\u7528\u52a0@\u7b26\u53f7\uff0c\u9700\u8981\u9650\u5b9a\u7c7b\u578b\n*/\n\n#\u4f8b\uff1a\u58f0\u660e\u4e24\u4e2a\u53d8\u91cf\u5e76\u8d4b\u521d\u59cb\u503c,\u6c42\u548c\uff0c\u5e76\u6253\u5370\n#\u2460.\u7528\u6237\u53d8\u91cf\nSET @a=1;\nSET @b=11;\nSELECT @a+@b AS SUM;\n\n#\u2461.\u5c40\u90e8\u53d8\u91cf(\u9700\u8981\u5728begin end\u4e2d\u624d\u884c)\nDECLARE m INT DEFAULT 15;\nDECLARE n INT DEFAULT 20;\nDECLARE SUM INT;\nSET SUM=m+n;\nSELECT SUM;\n")),(0,E.kt)("h2",{id:"\u4e03\u5b58\u50a8\u8fc7\u7a0b\u548c\u51fd\u6570"},"\u4e03\u3001\u5b58\u50a8\u8fc7\u7a0b\u548c\u51fd\u6570"),(0,E.kt)("ul",null,(0,E.kt)("li",{parentName:"ul"},"\u5b58\u50a8\u8fc7\u7a0b\u548c\u51fd\u6570:\u7c7b\u4f3c\u4e8e java \u4e2d\u7684\u65b9\u6cd5",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u597d\u5904:",(0,E.kt)("ol",{parentName:"li"},(0,E.kt)("li",{parentName:"ol"},"\u63d0\u9ad8\u4ee3\u7801\u7684\u91cd\u7528\u6027"),(0,E.kt)("li",{parentName:"ol"},"\u7b80\u5316\u64cd\u4f5c")))))),(0,E.kt)("ol",null,(0,E.kt)("li",{parentName:"ol"},(0,E.kt)("p",{parentName:"li"},"\u5b58\u50a8\u8fc7\u7a0b"),(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u4e00\u7ec4\u9884\u5148\u5b9a\u4e49\u597d\u7684sql\u8bed\u53e5\u7684\u96c6\u5408\uff0c\u53ef\u4ee5\u7406\u89e3\u6210\u6279\u5904\u7406\u8bed\u53e5"),(0,E.kt)("li",{parentName:"ul"},"\u597d\u5904:",(0,E.kt)("ol",{parentName:"li"},(0,E.kt)("li",{parentName:"ol"},"\u63d0\u9ad8\u4ee3\u7801\u7684\u91cd\u7528\u6027"),(0,E.kt)("li",{parentName:"ol"},"\u7b80\u5316\u64cd\u4f5c"),(0,E.kt)("li",{parentName:"ol"},"\u51cf\u5c11\u4e86\u7f16\u8bd1\u6b21\u6570\uff0c\u4e14\u51cf\u5c11\u4e86\u548c\u6570\u636e\u5e93\u670d\u52a1\u5668\u7684\u8fde\u63a5\u6b21\u6570\uff0c\u63d0\u9ad8\u4e86\u6548\u7387\\")))),(0,E.kt)("pre",{parentName:"li"},(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"  #\u5b58\u50a8\u8fc7\u7a0b\n  #\u4e00\u3001\u521b\u5efa\u8bed\u6cd5\n  CREATE PROCEDURE \u5b58\u50a8\u8fc7\u7a0b\u540d(\u53c2\u6570\u5217\u8868)\n  BEGIN \n      \u5b58\u50a8\u8fc7\u7a0b\u4f53(\u4e00\u7ec4\u5408\u6cd5\u7684sql\u8bed\u53e5)\n  END\n  \n  /*\n  \u6ce8\u610f\uff1a\n  1.\u53c2\u6570\u5217\u8868\u5305\u542b\u4e09\u90e8\u5206\n  \u53c2\u6570\u6a21\u5f0f  \u53c2\u6570\u540d \u53c2\u6570\u7c7b\u578b\n  \u4f8b\uff1a\n  in stuname varchar(20)\n  \n  \u53c2\u6570\u6a21\u5f0f\uff1a\n  in  \u8be5\u53c2\u6570\u53ef\u4ee5\u4f5c\u4e3a\u8f93\u5165\uff0c\u4e5f\u5c31\u662f\u8be5\u53c2\u6570\u9700\u8981\u8c03\u7528\u65b9\u4f20\u5165\u503c\n  out  \u8be5\u53c2\u6570\u53ef\u4ee5\u4f5c\u4e3a\u8f93\u51fa\uff0c\u4e5f\u5c31\u662f\u8be5\u53c2\u6570\u53ef\u4ee5\u4f5c\u4e3a\u8fd4\u56de\u503c\n  inout \u8be5\u53c2\u6570\u65e2\u53ef\u4ee5\u4f5c\u4e3a\u8f93\u5165\u53c8\u53ef\u4ee5\u4f5c\u4e3a\u8f93\u51fa\uff0c\u4e5f\u5c31\u662f\u8be5\u53c2\u6570\u65e2\u9700\u8981\u4f20\u5165\u503c\uff0c\u53c8\u53ef\u4ee5\u8fd4\u56de\u503c\n  \n  2.\u5982\u679c\u5b58\u50a8\u8fc7\u7a0b\u4f53\u4ec5\u4ec5\u53ea\u6709\u4e00\u53e5\u8bdd\uff0c begin end \u53ef\u4ee5\u7701\u7565\n    \u5b58\u50a8\u8fc7\u7a0b\u4f53\u4e2d\u7684\u6bcf\u6761sql\u8bed\u53e5\u7684\u7ed3\u5c3e\u8981\u6c42\u5fc5\u987b\u52a0\u5206\u53f7\uff0c\n    \u5b58\u50a8\u8fc7\u7a0b\u7684\u7ed3\u5c3e\u53ef\u4ee5\u4f7f\u7528 delimiter \u91cd\u65b0\u8bbe\u7f6e\n    \u8bed\u6cd5\uff1a\n    delimiter \u7ed3\u675f\u6807\u8bb0\n    \u4f8b\uff1a delimiter $\n  */\n  \n  #\u4e8c\u3001\u8c03\u7528\u8bed\u6cd5\n  CALL \u5b58\u50a8\u8fc7\u7a0b\u540d(\u5b9e\u53c2\u5217\u8868);\n  \n  #1.\u7a7a\u53c2\u5217\u8868\n  #\u4f8b\uff1a\u63d2\u5165\u5230admin\u8868\u4e2d\u4e94\u6761\u8bb0\u5f55\n  USE girls;\n  \n  SELECT * FROM admin;\n  \n  #\u521b\u5efa\u50a8\u5b58\u8fc7\u7a0b\n  DELIMITER $\n  CREATE PROCEDURE myp()\n  BEGIN\n      INSERT INTO admin(`username`,`password`) \n      VALUES('lhk','1234'),\n      ('ljh','1111'),('asd','2222'),\n      ('kgh','3333'),('qwe','5555');\n  END $\n  \n  #\u8c03\u7528\n  CALL myp();\n  /*\u5728dos\u7a97\u53e3\u4e2d\u8fd0\u884c\u65f6\u9700\u8981\u5c06\u7ed3\u675f\u7b26\u6539\u4e3a$\uff0c\u5373 call myp()$*/\n  \n  #2.\u521b\u5efa\u5e26in\u6a21\u5f0f\u53c2\u6570\u7684\u5b58\u50a8\u8fc7\u7a0b\n  #\u4f8b1\uff1a\u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b\u5b9e\u73b0 \u6839\u636e\u5973\u795e\u540d\u67e5\u8be2\u5bf9\u5e94\u7684\u7537\u795e\u4fe1\u606f\n  DELIMITER $\n  CREATE PROCEDURE myp2(IN beautyname VARCHAR(50))\n  BEGIN\n      SELECT bo.*\n      FROM boys bo\n      RIGHT JOIN beauty b \n      ON b.boyfriend_id=bo.id\n      WHERE b.name=beautyname;\n  END $\n  \n  CALL myp2('\u67f3\u5ca9');\n  \n  #\u4f8b2\uff1a\u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b\u5b9e\u73b0 \u7528\u6237\u662f\u5426\u767b\u5f55\n  DELIMITER $\n  CREATE PROCEDURE myp3(IN username VARCHAR(20),IN PASSWORD VARCHAR(20))\n  BEGIN\n      DECLARE result INT DEFAULT 0;#\u58f0\u660e\u5e76\u521d\u59cb\u5316\n      SELECT COUNT(*) INTO result #\u8d4b\u503c\n      FROM admin\n      WHERE admin.`username`=username\n      AND admin.`password`=PASSWORD;\n      SELECT IF(result>0,'\u6210\u529f','\u5931\u8d25');#\u4f7f\u7528\n  END $\n  \n  CALL myp3('lhk','1234');\n  \n  #3.\u521b\u5efa\u5e26out\u6a21\u5f0f\u7684\u5b58\u50a8\u8fc7\u7a0b\n  #\u4f8b1\uff1a\u6839\u636e\u5973\u795e\u540d\u8fd4\u56de\u5bf9\u5e94\u7684\u7537\u795e\u540d\n  DELIMITER $\n  DROP PROCEDURE IF EXISTS myp4$\n  CREATE PROCEDURE myp4(IN beautyname VARCHAR(20),OUT boyname VARCHAR(20))\n  BEGIN\n      SELECT bo.boyname INTO boyname\n      FROM boys bo\n      INNER JOIN beauty b\n      ON b.boyfriend_id=bo.id\n      WHERE b.name=beautyname;\n  END $\n  \n  #\u8c03\u7528\n  CALL myp4('\u67f3\u5ca9',@boname);\n  SELECT @boname;\n  \n  #\u4f8b2\uff1a\u6839\u636e\u5973\u751f\u540d\u8fd4\u56de\u5bf9\u5e94\u7684\u7537\u795e\u540d\u548c\u7537\u751f\u9b45\u529b\u503c\n  DELIMITER $\n  DROP  PROCEDURE IF EXISTS myp5$\n  CREATE PROCEDURE myp5(IN beautyname VARCHAR(20),OUT boyname VARCHAR(20),OUT usercp INT(11))\n  BEGIN \n      SELECT boys.`boyName`,boys.`userCP` INTO boyname,usercp\n      FROM boys\n      INNER JOIN beauty\n      ON boys.`id`=beauty.`boyfriend_id`\n      WHERE beauty.`name`=beautyname;\n  END   $\n  \n  #\u8c03\u7528\n  CALL  myp5('\u67f3\u5ca9',@boyname,@usercp);\n  SELECT @boyname,@usercp;\n  \n  #4.\u521b\u5efa\u5e26inout\u6a21\u5f0f\u53c2\u6570\u7684\u5b58\u50a8\u8fc7\u7a0b\n  #\u4f8b1\uff1a\u4f20\u5165a\u548cb\u4e24\u4e2a\u503c\uff0c\u6700\u7ec8\u8fd4\u56dea\u548cb\u7ffb\u500d\u503c\n  DELIMITER $\n  DROP PROCEDURE IF EXISTS myp6$\n  CREATE PROCEDURE myp6(INOUT a INT(10),INOUT b INT(10))\n  BEGIN\n      SET a=a*2;\n      SET b=b*2;\n  END $\n  \n  #\u8c03\u7528\n  SET @m=10;\n  SET @n=20;    \n  CALL myp6(@m,@n);\n  SELECT @m,@n;\n  \n  #\u4e09\u3001\u5220\u9664\u8bed\u6cd5\n  /*\n  \u8bed\u6cd5\uff1a\n      drop procedure \u5b58\u50a8\u8fc7\u7a0b\u540d\n  */\n  \n  #\u56db\u3001\u67e5\u770b\u5b58\u50a8\u8fc7\u7a0b\u7684\u4fe1\u606f\n  SHOW CREATE PROCEDURE myp2;\n  \n  #\u4e94\u3001\u4f8b\u9898\n  #1\u3001\u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b\u5b9e\u73b0\u4f20\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u63d2\u5165\u5230admin\u8868\u4e2d\n  DELIMITER $\n  DROP PROCEDURE IF EXISTS myp7$\n  CREATE PROCEDURE myp7(IN uname VARCHAR(10),IN p VARCHAR(10))\n  BEGIN\n      INSERT INTO admin(username,PASSWORD) \n      VALUES(uname,p);\n  END $\n  \n  CALL myp7('themutents','4050');\n  SELECT *FROM admin;\n  \n  #2\u3001\u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b\u5b9e\u73b0\u4f20\u5165\u5973\u795e\u7f16\u53f7\uff0c\u8fd4\u56de\u5973\u795e\u540d\u79f0\u548c\u5973\u795e\u7535\u8bdd\n  DELIMITER $\n  DROP PROCEDURE IF EXISTS myp8$\n  CREATE PROCEDURE myp8(IN id INT(11),OUT beautyname VARCHAR(20), OUT phone VARCHAR(11))\n  BEGIN\n      SELECT b.name,b.phone INTO beautyname,phone\n      FROM beauty b\n      WHERE b.id=id;\n  END $\n  \n  CALL myp8(18,@bname,@phone);\n  SELECT @bname,@phone;\n  \n  #3\u3001\u521b\u5efa\u5b58\u50a8\u5b58\u50a8\u8fc7\u7a0b\u5b9e\u73b0\u4f20\u5165\u4e24\u4e2a\u5973\u795e\u751f\u65e5\uff0c\u8fd4\u56de\u5927\u5c0f\n  DELIMITER $\n  DROP PROCEDURE IF EXISTS myp9$\n  CREATE PROCEDURE myp9(IN birth1 DATETIME , IN birth2 DATETIME, OUT result INT)\n  BEGIN\n      SELECT DATEDIFF(birth1,birth2) INTO result;\n  END $\n  \n  CALL myp9('1998-1-1','2000-04-22',@result);\n  SELECT @result;\n  \n  #4\u3001\u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b\u5b9e\u73b0\u4f20\u5165\u4e00\u4e2a\u65e5\u671f\uff0c\u683c\u5f0f\u5316\u6210xx\u5e74xx\u6708xx\u65e5\u5e76\u8fd4\u56de\n  DELIMITER $\n  DROP PROCEDURE IF EXISTS myp10$\n  CREATE PROCEDURE myp10(IN mydate DATETIME , OUT strdate VARCHAR(50))\n  BEGIN\n      SELECT DATE_FORMAT(mydate,'%y\u5e74%m\u6708%d\u65e5') INTO strdate;\n  END   $\n  \n  CALL  myp10(NOW(),@strdate);\n  SELECT @strdate;\n  \n  #5\u3001\u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b\u5b9e\u73b0\u4f20\u5165\u5973\u795e\u540d\u79f0\uff0c\u8fd4\u56de:\u5973\u795eAND\u7537\u795e\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\n  /*\u5982\u4f20\u5165:\u5c0f\u662d\u8fd4\u56de:\u5c0f\u662dAND \u5f20\u65e0\u5fcc*/\n  DELIMITER $\n  DROP PROCEDURE IF EXISTS myp11$\n  CREATE PROCEDURE myp11(IN beautyname VARCHAR(20),OUT str VARCHAR(50))\n  BEGIN\n      SELECT CONCAT(beautyname,' and ',IFNULL(boyname,'null')) INTO str\n      FROM boys\n      RIGHT JOIN beauty \n      ON boys.id=beauty.boyfriend_id\n      WHERE beauty.name=beautyname;\n  END $\n  \n  CALL myp11('\u5a49\u513f',@str);\n  SELECT @str;\n  \n  #6\u3001\u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b\uff0c\u6839\u636e\u4f20\u5165\u7684\u6761\u76ee\u6570\u548c\u8d77\u59cb\u7d22\u5f15\uff0c\u67e5\u8be2beauty\u8868\u7684\u8bb0\u5f55\n  DELIMITER $\n  DROP PROCEDURE IF EXISTS myp12$\n  CREATE PROCEDURE myp12(IN start_index INT(10),IN size INT(10))\n  BEGIN\n      SELECT * FROM beauty LIMIT  start_index,size;\n  END   $\n  \n  CALL myp12(4,5);\n"))),(0,E.kt)("li",{parentName:"ol"},(0,E.kt)("p",{parentName:"li"},"\u51fd\u6570"),(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u4e00\u7ec4\u9884\u5148\u5b9a\u4e49\u597d\u7684sql\u8bed\u53e5\u7684\u96c6\u5408\uff0c\u53ef\u4ee5\u7406\u89e3\u6210\u6279\u5904\u7406\u8bed\u53e5",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u597d\u5904:",(0,E.kt)("ol",{parentName:"li"},(0,E.kt)("li",{parentName:"ol"},"\u63d0\u9ad8\u4ee3\u7801\u7684\u91cd\u7528\u6027"),(0,E.kt)("li",{parentName:"ol"},"\u7b80\u5316\u64cd\u4f5c"),(0,E.kt)("li",{parentName:"ol"},"\u51cf\u5c11\u4e86\u7f16\u8bd1\u6b21\u6570\uff0c\u4e14\u51cf\u5c11\u4e86\u548c\u6570\u636e\u5e93\u670d\u52a1\u5668\u7684\u8fde\u63a5\u6b21\u6570\uff0c\u63d0\u9ad8\u4e86\u6548\u7387"))))),(0,E.kt)("li",{parentName:"ul"},"\u4e0e\u5b58\u50a8\u8fc7\u7a0b\u7684\u533a\u522b",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u5b58\u50a8\u8fc7\u7a0b\uff1a\u53ef\u4ee5\u67090\u4e2a\u6216\u591a\u4e2a\u8fd4\u56de\uff0c\u9002\u5408\u505a\u6279\u91cf\u7684\u63d2\u5165\u3001\u66f4\u65b0"),(0,E.kt)("li",{parentName:"ul"},"\u51fd\u6570\uff1a\u6709\u4e14\u4ec5\u6709\u4e00\u4e2a\u8fd4\u56de\uff0c\u9002\u5408\u505a\u5904\u7406\u6570\u636e\u540e\u8fd4\u56de\u4e00\u4e2a\u503c")))),(0,E.kt)("pre",{parentName:"li"},(0,E.kt)("code",{parentName:"pre",className:"language-sql"}," #\u51fd\u6570\n #\u4e00\u3001\u521b\u5efa\u8bed\u6cd5\n CREATE FUNCTION \u51fd\u6570\u540d(\u53c2\u6570\u5217\u8868) RETURNS \u8fd4\u56de\u7c7b\u578b\n BEGIN\n     \u51fd\u6570\u4f53\n     RETURN \u503c;\n END\n \n /*\u6ce8\u610f\uff1a\n 1.\u53c2\u6570\u5217\u8868\u5305\u542b\u4e24\u90e8\u5206\n \u53c2\u6570\u540d   \u53c2\u6570\u7c7b\u578b\n \n 2.\u51fd\u6570\u4f53\u4e2d\u8981\u6709return\u8bed\u53e5\uff0c\u5982\u679creturn\u8bed\u53e5\u6ca1\u6709\u5728\u51fd\u6570\u4f53\u540e\u4e5f\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u662f\u4e0d\u5efa\u8bae\n \n 3.\u5f53\u51fd\u6570\u4f53\u4e2d\u53ea\u6709\u4e00\u53e5\u8bdd\uff0c\u5219\u53ef\u4ee5\u7701\u7565 begin end\n \n 4.\u9700\u8981\u4f7f\u7528 delimiter \u8bed\u53e5\u8bbe\u7f6e\u7ed3\u675f\u6807\u8bb0\n */\n \n #\u4e8c\u3001\u8c03\u7528\u8bed\u6cd5\n /*\u6267\u884c\u5b8c\u51fd\u6570\u4f53\u7684\u8bed\u53e5\uff0c\u5e76\u4e14\u63d0\u4f9b\u8fd4\u56de\u503c*/\n SELECT \u51fd\u6570\u540d(\u53c2\u6570\u5217\u8868);\n \n #\u4e09\u3001\u4f8b\u9898\n #1.\u65e0\u53c2\u6709\u8fd4\u56de\n #\u4f8b\uff1a\u8fd4\u56de\u516c\u53f8\u7684\u5458\u5de5\u4e2a\u6570\n DELIMITER $\n CREATE FUNCTION fun1() RETURNS INT\n BEGIN\n     DECLARE c INT DEFAULT 0;\n     SELECT COUNT(*) INTO c\n     FROM employees;\n     RETURN c;\n END    $\n \n SELECT fun1();\n \n #2.\u6709\u53c2\u6709\u8fd4\u56de\n #\u4f8b1\uff1a\u6839\u636e\u5458\u5de5\u540d\u8fd4\u56de\u4ed6\u7684\u5de5\u8d44\n DELIMITER $\n CREATE FUNCTION fun2(e_name VARCHAR(20)) RETURNS DOUBLE(10,2)\n BEGIN\n     DECLARE sa DOUBLE(10,2) DEFAULT 0;  #\u5b9a\u4e49\u5c40\u90e8\u53d8\u91cf\n     SELECT salary INTO  sa         #\u8d4b\u503c\n     FROM   employees\n     WHERE  last_name=e_name;\n     RETURN sa;\n END $\n \n SELECT fun2('Kochhar');\n \n #\u4f8b2\uff1a\u6839\u636e\u90e8\u95e8\u540d\u8fd4\u56de\u8be5\u90e8\u95e8\u7684\u5e73\u5747\u5de5\u8d44\n DELIMITER $\n CREATE FUNCTION fun3(d_name VARCHAR(50)) RETURNS DOUBLE(10,2)\n BEGIN  \n     DECLARE avg_sa DOUBLE(10,2);\n     SELECT AVG(salary) INTO  avg_sa\n     FROM employees e\n     INNER JOIN departments d \n     ON e.department_id=d.department_id\n     WHERE d.`department_name`=d_name;\n     RETURN avg_sa;\n END    $\n \n SELECT fun3('IT');\n \n #\u4e09\u3001\u67e5\u770b\u51fd\u6570\n SHOW CREATE FUNCTION fun3;\n \n #\u56db\u3001\u5220\u9664\u51fd\u6570\n DROP FUNCTION fun3; n \n")))),(0,E.kt)("h2",{id:"\u516b\u6d41\u7a0b\u63a7\u5236\u7ed3\u6784"},"\u516b\u3001\u6d41\u7a0b\u63a7\u5236\u7ed3\u6784"),(0,E.kt)("ul",null,(0,E.kt)("li",{parentName:"ul"},"\u5206\u7c7b",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"\u987a\u5e8f\u7ed3\u6784\uff1a\u7a0b\u5e8f\u4ece\u4e0a\u5f80\u4e0b\u6267\u884c"),(0,E.kt)("li",{parentName:"ul"},"\u5206\u652f\u7ed3\u6784\uff1a\u7a0b\u5e8f\u4ece\u4e24\u6761\u6216\u591a\u6761\u8def\u5f84\u4e2d\u9009\u62e9\u4e00\u6761\u53bb\u6267\u884c"),(0,E.kt)("li",{parentName:"ul"},"\u5faa\u73af\u7ed3\u6784\uff1a\u7a0b\u5e8f\u5728\u6ee1\u8db3\u4e00\u5b9a\u6761\u4ef6\u7684\u57fa\u7840\u4e0a\uff0c\u91cd\u590d\u6267\u884c\u4e00\u6bb5\u4ee3\u7801")))),(0,E.kt)("ol",null,(0,E.kt)("li",{parentName:"ol"},(0,E.kt)("p",{parentName:"li"},"\u5206\u652f\u7ed3\u6784"),(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"case \u7ed3\u6784",(0,E.kt)("ul",{parentName:"li"},(0,E.kt)("li",{parentName:"ul"},"case \u7ed3\u6784\u4f5c\u4e3a\u8868\u8fbe\u5f0f\n",(0,E.kt)("img",{alt:"case",src:a(509).Z,width:"833",height:"508"})),(0,E.kt)("li",{parentName:"ul"},"case \u7ed3\u6784\u4f5c\u4e3a\u72ec\u7acb\u7684\u8bed\u53e5\n",(0,E.kt)("img",{alt:"case",src:a(5806).Z,width:"806",height:"494"})))),(0,E.kt)("li",{parentName:"ul"},"if \u51fd\u6570\uff1a\u80fd\u591f\u5b9e\u73b0\u7b80\u5355\u7684\u53cc\u5206\u652f"),(0,E.kt)("li",{parentName:"ul"},"if \u7ed3\u6784\uff1a\u5b9e\u73b0\u591a\u91cd\u5206\u652f")),(0,E.kt)("pre",{parentName:"li"},(0,E.kt)("code",{parentName:"pre",className:"language-sql"}," #\u4e00\u3001\u5206\u652f\u7ed3\u6784\n #1.if \u51fd\u6570\n /*\n \u529f\u80fd\uff1a\u80fd\u591f\u5b9e\u73b0\u7b80\u5355\u7684\u53cc\u5206\u652f\n \u8bed\u6cd5\uff1a\n     select if(\u8868\u8fbe\u5f0f1\uff0c\u8868\u8fbe\u5f0f2\uff0c\u8868\u8fbe\u5f0f3)\n \u6267\u884c\u987a\u5e8f:\n     \u5982\u679c\u8868\u8fbe\u5f0f1\u6210\u7acb\uff0c\u5219IF\u51fd\u6570\u8fd4\u56de\u8868\u8fbe\u5f0f2\u7684\u503c\uff0c\u5426\u5219\u8fd4\u56de\u8868\u8fbe\u5f0f3\u7684\u503c\n \u5e94\u7528:\u4efb\u4f55\u5730\u65b9\n */\n \n #2.case \u7ed3\u6784\n /*\n \u60c5\u51b51:\u7c7b\u4f3c\u4e8ejava\u4e2d\u7684switch\u8bed\u53e5\uff0c\u4e00\u822c\u7528\u4e8e\u5b9e\u73b0\u7b49\u503c\u5224\u65ad\n \u8bed\u6cd5\uff1a\n     case \u53d8\u91cf|\u8868\u8fbe\u5f0f|\u5b57\u6bb5\n     when \u8981\u5224\u65ad\u7684\u503c then \u8fd4\u56de\u7684\u503c1\u6216\u8bed\u53e51;\n     WHEN \u8981\u5224\u65ad\u7684\u503c THEN \u8fd4\u56de\u7684\u503c2\u6216\u8bed\u53e52;\n     ...\n     else \u8981\u8fd4\u56de\u7684\u503cn\u6216\u8bed\u53e5n;\n     end case;\n     \n \u60c5\u51b52:\u7c7b\u4f3c\u4e8ejava\u4e2d\u7684\u591a\u91cdIF\u8bed\u53e5\uff0c\u4e00\u822c\u7528\u4e8e\u5b9e\u73b0\u533a\u95f4\u5224\u65ad\n \u8bed\u6cd5\n     CASE \n     WHEN \u8981\u5224\u65ad\u7684\u6761\u4ef6 THEN \u8fd4\u56de\u7684\u503c1\u6216\u8bed\u53e51;\n     WHEN \u8981\u5224\u65ad\u7684\u6761\u4ef6 THEN \u8fd4\u56de\u7684\u503c2\u6216\u8bed\u53e52;\n     ...\n     ELSE \u8981\u8fd4\u56de\u7684\u503cn\u6216\u8bed\u53e5n;\n     END case;\n     \n \u7279\u70b9:\n     \u2460\n     \u53ef\u4ee5\u4f5c\u4e3a\u8868\u8fbe\u5f0f\uff0c\u5d4c\u5957\u5728\u5176\u4ed6\u8bed\u53e5\u4e2d\u4f7f\u7528\uff0c\u53ef\u4ee5\u653e\u5728\u4efb\u4f55\u5730\u65b9\uff0cBEGIN END \u4e2d\u6216 BEGIN END \u7684\u5916\u9762\n     \u53ef\u4ee5\u4f5c\u4e3a\u72ec\u7acb\u7684\u8bed\u53e5\u53bb\u4f7f\u7528\uff0c\u53ea\u80fd\u653e\u5728 BEGIN END \u4e2d\n     \u2461\n     \u5982\u679c WHEN \u4e2d\u7684\u503c\u6ee1\u8db3\u6216\u6761\u4ef6\u6210\u7acb\uff0c\u5219\u6267\u884c\u5bf9\u5e94\u7684 THEN \u540e\u9762\u7684\u8bed\u53e5\uff0c\u5e76\u4e14\u7ed3\u675f cASE \n     \u5982\u679c\u90fd\u4e0d\u6ee1\u8db3\uff0c\u5219\u6267\u884c ELSE \u4e2d\u7684\u8bed\u53e5\u6216\u503c\n     \u2462\n     ELSE \u53ef\u4ee5\u7701\u7565\uff0c\u5982\u679c ELSE \u7701\u7565\u4e86\uff0c\u5e76\u4e14\u6240\u6709 wHEN \u6761\u4ef6\u90fd\u4e0d\u6ee1\u8db3\uff0c\u5219\u8fd4\u56de NULL\n */\n \n #\u4f8b\uff1a\u521b\u5efa\u5b58\u50a8\u8fc7\u7a0b\uff0c\u6839\u636e\u4f20\u5165\u7684\u6210\u7ee9\u663e\u793a\u7b49\u7ea7\n #\u6bd4\u5982\u4f20\u5165\u7684\u6210\u7ee9: 90-100\uff0c\u663e\u793aA\uff0c80-90\uff0c\u663e\u793aB\uff0c60-80\uff0c\u663e\u793ac\uff0c\u5426\u5219\uff0c\u663e\u793aD\n DELIMITER $\n DROP PROCEDURE IF EXISTS test_case$\n CREATE PROCEDURE test_case(IN score INT)\n BEGIN\n     CASE \n     WHEN score>=90 AND score<=100 THEN SELECT 'A';\n     WHEN score>=80 THEN SELECT 'B';\n     WHEN score>=60 THEN SELECT 'C';\n     ELSE SELECT 'D';\n     END CASE;\n END $\n \n CALL test_case(88);\n \n #3.if \u7ed3\u6784\n /*\n \u529f\u80fd:\u5b9e\u73b0\u591a\u91cd\u5206\u652f\n \n \u8bed\u6cd5:\n     if \u6761\u4ef61 then \u8bed\u53e51;\n     elseif \u6761\u4ef62 then \u8bed\u53e52;\n     ...\n     \u3010else \u8bed\u53e5n;\u3011\n     end if\n \u53ea\u80fd\u5e94\u7528\u5728begin end\u4e2d\n */\n \n #\u4f8b\uff1a\u521b\u5efa\u51fd\u6570\uff0c\u6839\u636e\u4f20\u5165\u7684\u6210\u7ee9\u663e\u793a\u7b49\u7ea7\n #\u6bd4\u5982\u4f20\u5165\u7684\u6210\u7ee9: 90-100\uff0c\u663e\u793aA\uff0c80-90\uff0c\u663e\u793aB\uff0c60-80\uff0c\u663e\u793ac\uff0c\u5426\u5219\uff0c\u663e\u793aD\n DELIMITER $\n DROP FUNCTION IF EXISTS test_if$\n CREATE FUNCTION test_if(score INT) RETURNS CHAR\n BEGIN \n     IF score>=90 AND score<=100 THEN RETURN 'A';\n     ELSEIF score>=80 THEN RETURN 'B';\n     ELSEIF score>=60 THEN RETURN 'C';\n     ELSE RETURN 'D';\n     END IF;\n END $\n \n SELECT test_if(95);\n"))),(0,E.kt)("li",{parentName:"ol"},(0,E.kt)("p",{parentName:"li"},"\u5faa\u73af\u7ed3\u6784"))),(0,E.kt)("ul",null,(0,E.kt)("li",{parentName:"ul"},(0,E.kt)("p",{parentName:"li"},"\u5206\u7c7b\uff1a ",(0,E.kt)("inlineCode",{parentName:"p"},"while")," \u3001",(0,E.kt)("inlineCode",{parentName:"p"},"loop")," \u3001",(0,E.kt)("inlineCode",{parentName:"p"},"repeat"),"\n",(0,E.kt)("img",{alt:"\u5faa\u73af\u7ed3\u6784",src:a(8243).Z,width:"823",height:"533"}),"]"),(0,E.kt)("pre",{parentName:"li"},(0,E.kt)("code",{parentName:"pre",className:"language-sql"},"  #\u4e8c\u3001\u5faa\u73af\u7ed3\u6784\n  /*\n  \u5206\u7c7b\uff1a\n  while \u3001loop \u3001repeat\n  \n  \u5e94\u7528\u5728begin end\u4e2d\n  \n  \u5faa\u73af\u63a7\u5236\uff1a\n      iterate\uff1a\u7c7b\u4f3c\u4e8ejava\u4e2dcontinue\uff0c\u7ed3\u675f\u672c\u6b21\u5faa\u73af\uff0c\u7ee7\u7eed\u4e0b\u4e00\u6b21\n      leave\uff1a\u7c7b\u4f3c\u4e8ejava\u4e2d\u7684break\uff0c\u7ed3\u675f\u5f53\u524d\u5faa\u73af\n  */\n  \n  #1.while\n  /*\n  \u8bed\u6cd5\uff1a\n      \u3010\u6807\u7b7e:\u3011while \u5faa\u73af\u6761\u4ef6 do\n          \u5faa\u73af\u4f53;\n      end while \u3010\u6807\u7b7e\u3011;\n  \n  java\u4e2d\u7684while\u5faa\u73af\u8bed\u6cd5\n      while(\u5faa\u73af\u6761\u4ef6){\n          \u5faa\u73af\u4f53;\n      }\n  */\n  #\u2460.\u6ca1\u6709\u6dfb\u52a0\u5faa\u73af\u63a7\u5236\n  #\u4f8b\uff1a\u6279\u91cf\u63d2\u5165\uff0c\u6839\u636e\u6b21\u6570\u63d2\u5165\u5230admin\u8868\u4e2d\u591a\u6761\u8bb0\u5f55\n  DELIMITER $\n  DROP PROCEDURE IF EXISTS test_while$\n  CREATE PROCEDURE test_while(IN insertcount INT)\n  BEGIN\n      DECLARE i INT DEFAULT 0;\n      WHILE i<insertcount\n      DO INSERT INTO admin(username,`password`)\n      VALUES(CONCAT('jack',i),'4656');\n      SET i=i+1;\n      END WHILE;\n  END $\n  \n  CALL test_while(10);\n  SELECT * FROM admin;\n  \n  #\u2461.\u6dfb\u52a0\u5faa\u73af\u63a7\u5236\u8bed\u53e5leave\n  #\u4f8b\uff1a\u6279\u91cf\u63d2\u5165\uff0c\u6839\u636e\u6b21\u6570\u63d2\u5165\u5230admin\u8868\u4e2d\u591a\u6761\u8bb0\u5f55\uff0c\u6b21\u6570\u5927\u4e8e20\u5219\u505c\u6b62\n  DELIMITER $\n  DROP PROCEDURE IF EXISTS test_while1$\n  CREATE PROCEDURE test_while1(IN insertcount INT)\n  BEGIN\n      DECLARE i INT DEFAULT 0;\n        a:WHILE i<insertcount\n      DO INSERT INTO admin(username,`password`)\n      VALUES(CONCAT('bang',i),'7956');\n      SET i=i+1;\n      IF i>=20 THEN LEAVE a;\n      END IF ;\n      END WHILE a;\n  END $\n  \n  CALL test_while1(50);\n  SELECT * FROM admin;\n  \n  #\u2462.\u6dfb\u52a0\u5faa\u73af\u63a7\u5236\u8bed\u53e5iterate\n  #\u4f8b\uff1a\u6279\u91cf\u63d2\u5165\uff0c\u6839\u636e\u6b21\u6570\u63d2\u5165\u5230admin\u8868\u4e2d\u591a\u6761\u8bb0\u5f55\uff0c\u53ea\u63d2\u5165\u5076\u6570\u6b21\n  DELIMITER $\n  DROP PROCEDURE IF EXISTS test_while2$\n  CREATE PROCEDURE test_while2(IN insertcount INT)\n  BEGIN\n      DECLARE i INT DEFAULT 0;\n        a:WHILE i<insertcount DO\n          SET i=i+1;\n          IF MOD(i,2)<>0 THEN ITERATE a;\n      END IF ;\n      INSERT INTO admin(username,`password`)\n      VALUES(CONCAT('realx',i),'1515');\n      END WHILE a;\n  END $\n  \n  CALL test_while2(25);\n  SELECT * FROM admin;\n  \n  #2.loop\n  /*\n  \u8bed\u6cd5\uff1a\n      \u3010\u6807\u7b7e:\u3011 loop \n          \u5faa\u73af\u4f53;\n      end loop \u3010\u6807\u7b7e\u3011;\n  \n  \u53ef\u4ee5\u505a\u7b80\u5355\u7684\u6b7b\u5faa\u73af\uff0c\u53ef\u642d\u914d\u76f8\u5e94\u7684\u5faa\u73af\u63a7\u5236\u8bed\u53e5\u8df3\u51fa\u5faa\u73af\n  */\n  \n  #3.repeat\uff08\u7c7b\u4f3c\u4e8ejava\u4e2d\u7684do while\uff09\n  /*\n  \u8bed\u6cd5\uff1a\n      \u3010\u6807\u7b7e:\u3011 repeat\n          \u5faa\u73af\u4f53;\n      until \u7ed3\u675f\u5f53\u524d\u5faa\u73af\u7684\u6761\u4ef6\n      end repeat \u3010\u6807\u7b7e\u3011;\n  */\n  \n  #4.\u7ecf\u5178\u6848\u4f8b\n  /*\n      \u5df2\u77e5\u8868stringcontent\n      \u5176\u4e2d\u5b57\u6bb5:\n      id \u81ea\u589e\u957f\n      content varchar (20)\n      \u5411\u8be5\u8868\u63d2\u5165\u6307\u5b9a\u4e2a\u6570\u7684,\u968f\u673a\u7684\u5b57\u7b26\u4e32\n  */\n  DROP TABLE IF EXISTS stringcontent;\n  CREATE TABLE stringcontent(\n      id INT PRIMARY    KEY AUTO_INCREMENT,\n      content VARCHAR(20)\n  );\n  \n  DELIMITER $\n  DROP PROCEDURE IF EXISTS test$\n  CREATE PROCEDURE test(IN insertcount INT)\n  BEGIN\n      DECLARE i INT DEFAULT 1;\n      DECLARE str VARCHAR(26) DEFAULT 'abcdefghijklmnopqrstuvwxyz';\n      DECLARE startindex INT;\n      DECLARE len INT ;\n      WHILE i<=insertcount DO\n      SET startindex=FLOOR(RAND()*26+1);\n      SET len=FLOOR(RAND()*20+1);\n      INSERT INTO stringcontent(content) VALUES\n      (SUBSTR(str,startindex,len));\n      SET i=i+1;\n      END WHILE;\n  END $\n  \n  CALL test(20);\n  SELECT * FROM stringcontent;\n")))))}d.isMDXComponent=!0},509:(n,e,a)=>{a.d(e,{Z:()=>t});const t=a.p+"assets/images/case-1-8fa7e462aac6113ca9a66c4ab670c789.png"},5806:(n,e,a)=>{a.d(e,{Z:()=>t});const t=a.p+"assets/images/case-2-1d7b8af1c47ee6bb69af464c34ec1b89.png"},1643:(n,e,a)=>{a.d(e,{Z:()=>t});const t=a.p+"assets/images/date-string-95dd3e5417b5dcb94c33c617467507b0.png"},734:(n,e,a)=>{a.d(e,{Z:()=>t});const t=a.p+"assets/images/join1-88ffc353787ff1881ab228ae9bc26cde.png"},8632:(n,e,a)=>{a.d(e,{Z:()=>t});const t=a.p+"assets/images/join2-bceb3e3aa294a4d89c1df1babeab5095.png"},8243:(n,e,a)=>{a.d(e,{Z:()=>t});const t=a.p+"assets/images/loop-f742545d6446edd668f2d00490d450f6.png"}}]);