"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[813],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>N});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),m=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},s=function(e){var t=m(e.components);return a.createElement(o.Provider,{value:t},e.children)},u="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),u=m(n),c=r,N=u["".concat(o,".").concat(c)]||u[c]||k[c]||l;return n?a.createElement(N,p(p({ref:t},s),{},{components:n})):a.createElement(N,p({ref:t},s))}));function N(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,p=new Array(l);p[0]=c;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i[u]="string"==typeof e?e:r,p[1]=i;for(var m=2;m<l;m++)p[m]=n[m];return a.createElement.apply(null,p)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},9805:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>p,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>m});var a=n(7462),r=(n(7294),n(3905));const l={sidebar_position:2},p="Spring MVC",i={unversionedId:"SSM/springMVC",id:"SSM/springMVC",title:"Spring MVC",description:"1. \u4ec0\u4e48\u662f MVC",source:"@site/docs/SSM/springMVC.md",sourceDirName:"SSM",slug:"/SSM/springMVC",permalink:"/docs/SSM/springMVC",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Spring",permalink:"/docs/SSM/spring"},next:{title:"Mybatis",permalink:"/docs/SSM/myBatis"}},o={},m=[{value:"1. \u4ec0\u4e48\u662f MVC",id:"1-\u4ec0\u4e48\u662f-mvc",level:2},{value:"2. \u4ec0\u4e48\u662f Spring MVC",id:"2-\u4ec0\u4e48\u662f-spring-mvc",level:2},{value:"3. \u914d\u7f6e\u524d\u7aef\u63a7\u5236\u5668",id:"3-\u914d\u7f6e\u524d\u7aef\u63a7\u5236\u5668",level:2},{value:"4. \u914d\u7f6e\u89c6\u56fe\u89e3\u6790\u5668",id:"4-\u914d\u7f6e\u89c6\u56fe\u89e3\u6790\u5668",level:2},{value:"5. <code>@RequestMapping</code> \u6ce8\u89e3",id:"5-requestmapping-\u6ce8\u89e3",level:2},{value:"6. \u5f80\u57df\u5bf9\u8c61\u4e2d\u5171\u4eab\u6570\u636e",id:"6-\u5f80\u57df\u5bf9\u8c61\u4e2d\u5171\u4eab\u6570\u636e",level:2},{value:"7. springMVC \u7684\u89c6\u56fe",id:"7-springmvc-\u7684\u89c6\u56fe",level:2},{value:"8. RESTFul \u98ce\u683c",id:"8-restful-\u98ce\u683c",level:2},{value:"9. springMVC \u5904\u7406 ajax \u8bf7\u6c42",id:"9-springmvc-\u5904\u7406-ajax-\u8bf7\u6c42",level:2},{value:"10. \u6587\u4ef6\u4e0a\u4f20\u548c\u4e0b\u8f7d",id:"10-\u6587\u4ef6\u4e0a\u4f20\u548c\u4e0b\u8f7d",level:2},{value:"11. \u62e6\u622a\u5668",id:"11-\u62e6\u622a\u5668",level:2},{value:"12.\u5f02\u5e38\u89e3\u6790\u5668",id:"12\u5f02\u5e38\u89e3\u6790\u5668",level:2},{value:"13\u3001\u6ce8\u89e3\u914d\u7f6e Spring MVC",id:"13\u6ce8\u89e3\u914d\u7f6e-spring-mvc",level:2},{value:"14\u3001spring MVC \u7684\u6574\u4e2a\u6d41\u7a0b",id:"14spring-mvc-\u7684\u6574\u4e2a\u6d41\u7a0b",level:2},{value:"1. \u5e38\u7528\u7ec4\u4ef6",id:"1-\u5e38\u7528\u7ec4\u4ef6",level:3},{value:"2. \u5177\u4f53\u6267\u884c\u6d41\u7a0b",id:"2-\u5177\u4f53\u6267\u884c\u6d41\u7a0b",level:3},{value:"15. \u6574\u5408SSM",id:"15-\u6574\u5408ssm",level:2}],s={toc:m};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"spring-mvc"},"Spring MVC"),(0,r.kt)("h2",{id:"1-\u4ec0\u4e48\u662f-mvc"},"1. \u4ec0\u4e48\u662f MVC"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"MVC \u662f\u4e00\u79cd\u8f6f\u4ef6\u67b6\u6784\u601d\u60f3\uff0c\u5c06\u8f6f\u4ef6\u6309\u7167\u6a21\u578b\u3001\u89c6\u56fe\u3001\u63a7\u5236\u5668\u6765\u5212\u5206"),(0,r.kt)("li",{parentName:"ul"},"M\uff1amodel\uff0c\u6a21\u578b\u5c42\uff0c\u6307\u5de5\u7a0b\u4e2d\u7684 Java bean\uff0c\u4f5c\u7528\u662f\u5904\u7406\u6570\u636e",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Java Bean \u5206\u4e24\u7c7b",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u5b9e\u4f53\u7c7b Bean\uff1a\u4e13\u95e8\u5b58\u50a8\u4e1a\u52a1\u6570\u636e\u7684"),(0,r.kt)("li",{parentName:"ol"},"\u4e1a\u52a1\u5904\u7406 Bean\uff1a\u6307 service \u6216 Dao \u5bf9\u8c61\uff0c\u4e13\u95e8\u7528\u4e8e\u5904\u7406\u4e1a\u52a1\u903b\u8f91\u548c\u6570\u636e\u8bbf\u95ee"))))),(0,r.kt)("li",{parentName:"ul"},"V\uff1aview\uff0c\u89c6\u56fe\u5c42\uff0c\u6307\u5de5\u7a0b\u4e2d\u7684 html \u6216 jsp \u7b49\u9875\u9762",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4f5c\u7528\uff1a\u4e0e\u7528\u6237\u8fdb\u884c\u4ea4\u4e92\uff0c\u5c55\u793a\u6570\u636e"))),(0,r.kt)("li",{parentName:"ul"},"C\uff1acontroller\uff0c\u63a7\u5236\u5c42\uff0c\u6307\u5de5\u7a0b\u4e2d\u7684 servlet",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4f5c\u7528\uff1a\u63a5\u6536\u8bf7\u6c42\u548c\u54cd\u5e94\u6d4f\u89c8\u5668")))),(0,r.kt)("h2",{id:"2-\u4ec0\u4e48\u662f-spring-mvc"},"2. \u4ec0\u4e48\u662f Spring MVC"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Spring MVC \u662f Spring \u4e3a",(0,r.kt)("strong",{parentName:"p"},"\u8868\u8ff0\u5c42"),"\u5f00\u53d1\u63d0\u4f9b\u7684\u4e00\u6574\u5957\u5b8c\u5907\u7684\u89e3\u51b3\u65b9\u6848")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u4e09\u5c42\u5f0f\u67b6\u6784"),"\uff1a\u8868\u8ff0\u5c42\uff08\u8868\u793a\u5c42\uff09\u3001\u4e1a\u52a1\u903b\u8f91\u5c42\u3001\u6570\u636e\u8bbf\u95ee\u5c42"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u8868\u8ff0\u5c42\uff1a\u524d\u53f0\u9875\u9762 + \u540e\u53f0 servlet"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7279\u70b9\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u65e0\u7f1d\u5bf9\u63a5 IOC \u5bb9\u5668"),(0,r.kt)("li",{parentName:"ul"},"\u57fa\u4e8e\u539f\u751f servlet \u5b9e\u73b0\u4e86\u5f3a\u5927\u7684\u524d\u7aef\u63a7\u5236\u5668 DispatcherServlet\uff0c\u5bf9\u8bf7\u6c42\u548c\u54cd\u5e94\u8fdb\u884c\u7edf\u4e00\u5904\u7406"),(0,r.kt)("li",{parentName:"ul"},"\u5168\u65b9\u4f4d\u8986\u76d6\u8868\u8ff0\u5c42\u5404\u7ec6\u5206\u9886\u57df\uff0c\u63d0\u4f9b\u5168\u9762\u89e3\u51b3\u65b9\u6848"),(0,r.kt)("li",{parentName:"ul"},"\u63d0\u5347\u5f00\u53d1\u6548\u7387"),(0,r.kt)("li",{parentName:"ul"},"\u5185\u90e8\u7ec4\u4ef6\u5316\u7a0b\u5ea6\u9ad8\uff0c\u914d\u7f6e\u76f8\u5e94\u7ec4\u4ef6\u5373\u53ef\u4f7f\u7528\u5bf9\u5e94\u7684\u529f\u80fd"),(0,r.kt)("li",{parentName:"ul"},"\u6027\u80fd\u5353\u8457\uff0c\u9002\u5408\u5927\u578b\u4e92\u8054\u7f51\u9879\u76ee"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f9d\u8d56"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"    <dependency>\n      <groupId>org.springframework</groupId>\n      <artifactId>spring-webmvc</artifactId>\n      <version>5.0.5</version>\n    </dependency>\n")))),(0,r.kt)("h2",{id:"3-\u914d\u7f6e\u524d\u7aef\u63a7\u5236\u5668"},"3. \u914d\u7f6e\u524d\u7aef\u63a7\u5236\u5668"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728 web.xml \u6587\u4ef6\u4e2d\u914d\u7f6e"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"    \x3c!--\u914d\u7f6eSpringMVC\u7684\u524d\u7aef\u63a7\u5236\u5668--\x3e\n    <servlet>\n        <servlet-name>DispatcherServlet</servlet-name>\n        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>\n        <init-param>\n            <param-name>contextConfigLocation</param-name>\n            <param-value>classpath:spring-mvc.xml</param-value>\n        </init-param>\n        \x3c!--\u670d\u52a1\u5668\u542f\u52a8\u65f6\u5c31\u52a0\u8f7dServlet\u5bf9\u8c61--\x3e\n        <load-on-startup>1</load-on-startup>\n    </servlet>\n    <servlet-mapping>\n        <servlet-name>DispatcherServlet</servlet-name>\n        \x3c!--\u4efb\u4f55\u8bf7\u6c42\u90fd\u4f1a\u7ecf\u8fc7\u8be5Servlet,\u4e0d\u4f1a\u5339\u914d *.jsp \u8bf7\u6c42--\x3e\n        <url-pattern>/</url-pattern>\n    </servlet-mapping>\n")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"url-pattern")," \u4e2d\u914d\u7f6e / \u548c /* \u7684\u533a\u522b"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"/\uff1a\u5339\u914d\u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u53d1\u9001\u7684\u6240\u6709\u8bf7\u6c42\uff08\u4e0d\u5305\u62ec .jsp \u7684\u8bf7\u6c42\uff09"),(0,r.kt)("li",{parentName:"ul"},"/*\uff1a\u5339\u914d\u6d4f\u89c8\u5668\u5411\u670d\u52a1\u5668\u53d1\u9001\u7684\u6240\u6709\u8bf7\u6c42\uff08\u5305\u62ec .jsp \u7684\u8bf7\u6c42\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u7531\u4e8e.jsp \u7684\u8bf7\u6c42\u662f\u9700\u8981 Tomcat \u4e2d\u914d\u7f6e\u7684 JspServlet \u53bb\u5904\u7406\u7684\uff0cDispatcherServlet \u662f\u65e0\u6cd5\u5bf9 jsp \u8bf7\u6c42\u8fdb\u884c\u5904\u7406\uff0c\u6240\u4ee5\u5728\u914d\u7f6e DispatcherServlet \u65f6\u4f7f\u7528 / \u5373\u53ef"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"init-param"),"\uff1a\u914d\u7f6e\u52a0\u8f7d\u914d\u7f6e\u6587\u4ef6\u7684\u8def\u5f84"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<init-param>\n            <param-name>contextConfigLocation</param-name>\n            <param-value>classpath:spring-mvc.xml</param-value>\n        </init-param>\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"load-on-startup"),"\uff1a\u8bbe\u7f6e DispatcherServlet \u7684\u521d\u59cb\u5316\u65f6\u673a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u521d\u59cb\u5316\u662f\u5728\u8bf7\u6c42\u7b2c\u4e00\u6b21\u8bbf\u95ee DispatcherServlet  \u65f6\u521d\u59cb\u5316\uff0c\u4f1a\u9020\u6210\u7b2c\u4e00\u6b21\u8bbf\u95ee\u7684\u8bf7\u6c42\u82b1\u8d39\u7684\u65f6\u95f4\u6bd4\u8f83\u957f"),(0,r.kt)("li",{parentName:"ul"},"\u8bbe\u7f6e\u4e3a 1 \u8868\u793a\u5c06 DispatcherServlet  \u521d\u59cb\u5316\u65f6\u673a\u63d0\u524d\u5230\u670d\u52a1\u5668\u542f\u52a8\u65f6")))))),(0,r.kt)("h2",{id:"4-\u914d\u7f6e\u89c6\u56fe\u89e3\u6790\u5668"},"4. \u914d\u7f6e\u89c6\u56fe\u89e3\u6790\u5668"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728 spring-mvc \u914d\u7f6e\u6587\u4ef6\u4e2d\u8fdb\u884c\u914d\u7f6e"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'        \x3c!--\u914d\u7f6e\u89c6\u56fe\u89e3\u6790\u5668\u5185\u90e8\u8d44\u6e90--\x3e\n        <bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver">\n                \x3c!-- /jsp/xxx.jsp  --\x3e\n                <property name="prefix" value="/jsp/"></property>\n                <property name="suffix" value=".jsp"></property>\n        </bean>\n')))),(0,r.kt)("h2",{id:"5-requestmapping-\u6ce8\u89e3"},"5. ",(0,r.kt)("inlineCode",{parentName:"h2"},"@RequestMapping")," \u6ce8\u89e3"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"@RequestMapping")," \u7684\u4f5c\u7528\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5c06\u8bf7\u6c42\u548c\u5904\u7406\u8bf7\u6c42\u7684\u63a7\u5236\u5668\u5173\u8054\uff0c\u5efa\u7acb\u6620\u5c04\u5173\u7cfb"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"@RequestMapping"),"\u6ce8\u89e3\u53ef\u4ee5\u6807\u8bc6\u7684\u4f4d\u7f6e"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u7c7b\u4e0a\uff1a\u8bbe\u7f6e\u6620\u5c04\u8bf7\u6c42\u7684\u8bf7\u6c42\u8def\u5f84\u7684\u521d\u59cb\u4fe1\u606f"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Controller\n@RequestMapping("/user")\npublic class UserController {}\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u65b9\u6cd5\u4e0a\uff1a\u8bbe\u7f6e\u6620\u5c04\u8bf7\u6c42\u7684\u8bf7\u6c42\u8def\u5f84\u7684\u5177\u4f53\u4fe1\u606f"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    //\u901a\u8fc7return\u8fdb\u884c\u8f6c\u53d1\u548c\u91cd\u5b9a\u5411\n    @RequestMapping(value="/quick",method = RequestMethod.GET,params = {"username"})\n    public String save(){\n        System.out.println("Controller save running....");\n        return "success";\n    }\n'))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"@RequestMapping")," \u7684 value \u5c5e\u6027"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8bbe\u7f6e\u591a\u4e2a value \u53ef\u4ee5\u6620\u5c04\u591a\u4e2a\u8bf7\u6c42\u8def\u5f84"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@RequestMapping({"/test1","/test2"})\n'))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"@RequestMapping")," \u7684 method \u5c5e\u6027"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"method  \u4e3a\u6570\u7ec4\u7c7b\u578b\uff0c\u7528\u4e8e\u5339\u914d\u8bf7\u6c42\u7684\u8bf7\u6c42\u65b9\u5f0f\uff08GET\u3001POST......\uff09"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@RequestMapping(value = "/test1",method = {RequestMethod.GET,RequestMethod.POST})\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8bf7\u6c42\u65b9\u5f0f\u4e0d\u5339\u914d\u65f6\u4f1a\u62a5 405 ")))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"@RequestMapping")," \u7684\u4e00\u4e9b\u6d3e\u751f\u6ce8\u89e3"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5728",(0,r.kt)("inlineCode",{parentName:"li"},"@RequestMapping")," \u7684\u57fa\u7840\u4e0a\u7ed3\u5408\u8bf7\u6c42\u65b9\u5f0f\u800c\u6210\u7684\u6ce8\u89e3"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"@GetMapping")," ",(0,r.kt)("inlineCode",{parentName:"li"},"@PutMapping")," ",(0,r.kt)("inlineCode",{parentName:"li"},"@PostMapping")," ",(0,r.kt)("inlineCode",{parentName:"li"},"@DeleteMapping")," "))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"@RequestMapping")," \u7684 params \u5c5e\u6027"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u529f\u80fd\uff1a\u6d4f\u89c8\u5668\u53d1\u9001\u7684\u8bf7\u6c42\u7684\u8bf7\u6c42\u53c2\u6570\u5fc5\u987b\u6ee1\u8db3 params \u5c5e\u6027\u7684\u8bbe\u7f6e\uff08\u6240\u6709\u8bbe\u7f6e\u90fd\u9700\u8981\u6ee1\u8db3\u624d\u80fd\u8bf7\u6c42\u6210\u529f\uff09"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    @RequestMapping(\n            value = "/test1",\n            method = {RequestMethod.GET,RequestMethod.POST},\n            params = {"username","!user","age=21","sex!=1"}\n    )\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"params \u4e0d\u5339\u914d\u62a5 400")))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"@RequestMapping")," \u7684 headers \u5c5e\u6027"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5339\u914d\u8bf7\u6c42\u5934\u4fe1\u606f")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7528\u6cd5\u4e0e params \u4e00\u81f4")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"headers  \u4e0d\u5339\u914d\u62a5 404\uff0c\u5373\u627e\u4e0d\u5230\u8d44\u6e90\uff08\u8bf7\u6c42\u5934\u4e0d\u5339\u914d\uff09")))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"@RequestMapping"),"\u6ce8\u89e3\u53ef\u4ee5\u4f7f\u7528 ant \u98ce\u683c\u7684\u8def\u5f84"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728\u6ce8\u89e3\u7684 value \u5c5e\u6027\u4e2d\u8bbe\u7f6e\u8def\u5f84\u65f6\u53ef\u4ee5\u5f80\u8def\u5f84\u4e2d\u52a0\u5165\u4e00\u4e9b\u7279\u6b8a\u5b57\u7b26"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"?\uff1a\u8868\u793a\u4efb\u610f\u5355\u4e2a\u5b57\u7b26\uff08\u4e0d\u5305\u62ec?\uff09"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    @RequestMapping(\n            value = "/a?b/test1",\n            method = {RequestMethod.GET,RequestMethod.POST},\n            params = {"username","!user","age=21","sex!=1"}\n    )\n')))))))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},' 2. *\uff1a\u8868\u793a\u4efb\u610f\u4e2a\u6570\u7684\u4efb\u610f\u5b57\u7b26\uff08\u4e0d\u5305\u62ec?\u548c/\uff09\n\n    ```java\n        @RequestMapping(\n                value = "/a*b/test1",\n                method = {RequestMethod.GET,RequestMethod.POST},\n                params = {"username","!user","age=21","sex!=1"}\n        )\n    ```\n\n    \n\n 3. **\uff1a\u8868\u793a\u4efb\u610f\u5c42\u6570\u7684\u4efb\u610f\u76ee\u5f55\n\n    ```java\n        @RequestMapping(\n                value = "/**/test1",\n                method = {RequestMethod.GET,RequestMethod.POST},\n                params = {"username","!user","age=21","sex!=1"}\n        )\n    ```\n')),(0,r.kt)("ol",{start:9},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"spring MVC \u8def\u5f84\u4e2d\u7684\u5360\u4f4d\u7b26"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"@PathVariable")," \u6ce8\u89e3\u8fdb\u884c\u5360\u4f4d\u7b26\u7684\u5339\u914d\u83b7\u53d6\u5de5\u4f5c")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    /**\n     * \u83b7\u5f97Restful\u98ce\u683c\u7684\u53c2\u6570\n     * Restful\u98ce\u683c\uff1ahttp://localhost:8080/Spring_mvc/user/quick16/lhk\n     * \u5728\u4e1a\u52a1\u65b9\u6cd5\u4e2d\u4f7f\u7528@PathVariable\u6ce8\u89e3\u8fdb\u884c\u5360\u4f4d\u7b26\u7684\u5339\u914d\u83b7\u53d6\u5de5\u4f5c\n     * @param username\n     * @throws IOException\n     */\n    @RequestMapping(value="/quick16/{username}")\n    @ResponseBody  //\u8be5\u6ce8\u89e3\u544a\u77e5SpringMVC\u6846\u67b6\uff0c\u4e0d\u8fdb\u884c\u89c6\u56fe\u8df3\u8f6c\uff0c\u76f4\u63a5\u8fdb\u884c\u6570\u636e\u54cd\u5e94\n    public void save16(@PathVariable(value = "username") String username) throws IOException {\n        System.out.println(username);\n    }\n'))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"spring MVC \u83b7\u53d6\u8bf7\u6c42\u53c2\u6570"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u901a\u8fc7 servlet API \u83b7\u53d6\u8bf7\u6c42\u53c2\u6570"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728\u63a7\u5236\u5668\u65b9\u6cd5\u4e2d\u8bbe\u7f6e ",(0,r.kt)("inlineCode",{parentName:"p"},"HttpServlet"),"\u76f8\u5173\u7684\u5f62\u53c2\uff0c\u5373\u53ef\u4f7f\u7528 request\u3001response \u548c session \u76f8\u5173\u5bf9\u8c61"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    /**\n     * SpringMVC\u4e2d\u83b7\u53d6Servlet\u7684\u76f8\u5173API\n     * @param request\n     * @param response\n     * @param session\n     * @throws IOException\n     */\n    @RequestMapping(value="quick18")\n    @ResponseBody  //\u8be5\u6ce8\u89e3\u544a\u77e5SpringMVC\u6846\u67b6\uff0c\u4e0d\u8fdb\u884c\u89c6\u56fe\u8df3\u8f6c\uff0c\u76f4\u63a5\u8fdb\u884c\u6570\u636e\u54cd\u5e94\n    public void save18(HttpServletRequest request, HttpServletResponse response, HttpSession session) throws IOException {\n        System.out.println(request);\n        System.out.println(response);\n        System.out.println(session);\n    }\n'))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u901a\u8fc7\u63a7\u5236\u5668\u7684\u5f62\u53c2\u83b7\u53d6\u8bf7\u6c42\u53c2\u6570"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Controller \u4e2d\u7684\u4e1a\u52a1\u65b9\u6cd5\u53c2\u6570\u540d\u79f0\u4e0e\u8bf7\u6c42\u53c2\u6570\u7684\u540d\u79f0\u4e00\u81f4\uff0c\u53c2\u6570\u503c\u4f1a\u81ea\u52a8\u6620\u5c04\u5339\u914d"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    /**\n     * \u83b7\u5f97\u57fa\u672c\u7c7b\u578b\u53c2\u6570\n     * @param username\n     * @param age\n     * @throws IOException\n     */\n    //Controller\u4e2d\u7684\u4e1a\u52a1\u65b9\u6cd5\u53c2\u6570\u540d\u79f0\u4e0e\u8bf7\u6c42\u53c2\u6570\u7684name\u4e00\u81f4\uff0c\u53c2\u6570\u503c\u4f1a\u81ea\u52a8\u6620\u5c04\u5339\u914d\n    //http://localhost:8080/Spring_mvc/user/quick10?username=lhk&age=21\n    @RequestMapping(value="/quick10")\n    @ResponseBody  //\u8be5\u6ce8\u89e3\u544a\u77e5SpringMVC\u6846\u67b6\uff0c\u4e0d\u8fdb\u884c\u89c6\u56fe\u8df3\u8f6c\uff0c\u76f4\u63a5\u8fdb\u884c\u6570\u636e\u54cd\u5e94\n    public void save10(String username,int age) throws IOException {\n        System.out.println(username);\n        System.out.println(age);\n    }\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5f53\u8bf7\u6c42\u7684\u53c2\u6570\u540d\u79f0\u4e0e Controller \u7684\u4e1a\u52a1\u65b9\u6cd5\u53c2\u6570\u540d\u79f0\u4e0d\u4e00\u81f4\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"@RequestParam"),"\u6ce8\u89e3\u5c06\u8bf7\u6c42\u53c2\u6570\u548c\u65b9\u6cd5\u4e2d\u7684\u5f62\u53c2\u663e\u793a\u7684\u8fdb\u884c\u7ed1\u5b9a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"value \u8bbe\u7f6e\u8bf7\u6c42\u53c2\u6570\u7684\u540d\u79f0"),(0,r.kt)("li",{parentName:"ul"},"required = true \u8868\u793a\u5fc5\u987b\u4f20\u4e00\u4e2a\u8bf7\u6c42\u53c2\u6570\uff0c\u5426\u5219\u62a5 400 \u7684\u9519\u8bef"),(0,r.kt)("li",{parentName:"ul"},"defaultValue \u8bbe\u7f6e\u5f62\u53c2\u7684\u9ed8\u8ba4\u503c")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    /**\n     * \u5f53\u8bf7\u6c42\u7684\u53c2\u6570\u540d\u79f0\u4e0eController\u7684\u4e1a\u52a1\u65b9\u6cd5\u53c2\u6570\u540d\u79f0\u4e0d\u4e00\u81f4\u65f6\uff0c\n     * \u5c31\u9700\u8981\u4f7f\u7528@RequestParam\u6ce8\u89e3\u663e\u793a\u7684\u7ed1\u5b9a\n     * @param username\n     * @throws IOException\n     */\n    @RequestMapping(value="/quick15")\n    @ResponseBody  //\u8be5\u6ce8\u89e3\u544a\u77e5SpringMVC\u6846\u67b6\uff0c\u4e0d\u8fdb\u884c\u89c6\u56fe\u8df3\u8f6c\uff0c\u76f4\u63a5\u8fdb\u884c\u6570\u636e\u54cd\u5e94\n    public void save15(@RequestParam(value = "name" , required = false,defaultValue = "lhk") String username) throws IOException {\n        System.out.println(username);\n    }\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"@RequestHeader"),"\uff1a\u5c06\u8bf7\u6c42\u5934\u4fe1\u606f\u548c\u63a7\u5236\u5668\u65b9\u6cd5\u7684\u5f62\u53c2\u8fdb\u884c\u7ed1\u5b9a"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    /**\n     * \u83b7\u53d6\u8bf7\u6c42\u5934\u7684\u4fe1\u606f\n     * @param user_agent\n     * @throws IOException\n     */\n    @RequestMapping(value="quick19")\n    @ResponseBody  //\u8be5\u6ce8\u89e3\u544a\u77e5SpringMVC\u6846\u67b6\uff0c\u4e0d\u8fdb\u884c\u89c6\u56fe\u8df3\u8f6c\uff0c\u76f4\u63a5\u8fdb\u884c\u6570\u636e\u54cd\u5e94\n    public void save19(@RequestHeader(value = "User-Agent") String user_agent) throws IOException {\n        System.out.println(user_agent);\n    }\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"@CookieValue"),"\uff1a\u5c06 cookie \u6570\u636e\u548c\u63a7\u5236\u5668\u65b9\u6cd5\u7684\u5f62\u53c2\u8fdb\u884c\u7ed1\u5b9a"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    /**\n     * \u901a\u8fc7\u6ce8\u89e3@CookieValue\u83b7\u53d6cookie\u7684\u503c\n     * @param jsessionid\n     * @throws IOException\n     */\n    @RequestMapping(value="quick20")\n    @ResponseBody  //\u8be5\u6ce8\u89e3\u544a\u77e5SpringMVC\u6846\u67b6\uff0c\u4e0d\u8fdb\u884c\u89c6\u56fe\u8df3\u8f6c\uff0c\u76f4\u63a5\u8fdb\u884c\u6570\u636e\u54cd\u5e94\n    public void save20(@CookieValue(value = "JSESSIONID") String jsessionid) throws IOException {\n        System.out.println(jsessionid);\n    }\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u901a\u8fc7 pojo \u83b7\u53d6\u8bf7\u6c42\u53c2\u6570"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u63a7\u5236\u5668\u65b9\u6cd5\u7684\u5b9e\u4f53\u7c7b\u7c7b\u578b\u5f62\u53c2\u7684\u5c5e\u6027\u540d\u548c\u8bf7\u6c42\u53c2\u6570\u540d\u4fdd\u6301\u4e00\u81f4\uff0c\u5373\u53ef\u5c06\u8bf7\u6c42\u53c2\u6570\u6620\u5c04\u5230\u5b9e\u4f53\u7c7b\u7c7b\u578b\u7684\u5f62\u53c2\u4e2d")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    /**\n     * \u83b7\u5f97pojo\u7c7b\u578b\u53c2\u6570\n     * @param user\n     * @throws IOException\n     */\n    //Controller\u4e2d\u7684\u4e1a\u52a1\u65b9\u6cd5\u4e2d\u7684pojo\u53c2\u6570\u5c5e\u6027\u540d\u79f0\u4e0e\u8bf7\u6c42\u53c2\u6570\u7684name\u4e00\u81f4\uff0c\u53c2\u6570\u503c\u4f1a\u81ea\u52a8\u6620\u5c04\u5339\u914d\n    //http://localhost:8080/Spring_mvc/user/quick11?name=lhk&age=21\n    @RequestMapping(value="/quick11")\n    @ResponseBody  //\u8be5\u6ce8\u89e3\u544a\u77e5SpringMVC\u6846\u67b6\uff0c\u4e0d\u8fdb\u884c\u89c6\u56fe\u8df3\u8f6c\uff0c\u76f4\u63a5\u8fdb\u884c\u6570\u636e\u54cd\u5e94\n    public void save11(User user) throws IOException {\n        System.out.println(user);\n    }\n'))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u89e3\u51b3\u83b7\u53d6\u8bf7\u6c42\u53c2\u6570\u4e71\u7801\u95ee\u9898"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728\u8bbe\u7f6e\u7f16\u7801\u6267\u884c\u4e4b\u524d\uff0c\u4e0d\u80fd\u83b7\u53d6\u4efb\u4f55\u7684\u8bf7\u6c42\u53c2\u6570\uff0c\u5982\u679c\u5148\u83b7\u53d6\u4e86\u8bf7\u6c42\u53c2\u6570\uff0c\u518d\u8bbe\u7f6e\u7f16\u7801\u5c06\u4e0d\u4f1a\u751f\u6548")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"spring MVC \u5904\u7406\u7f16\u7801\u7684\u8fc7\u6ee4\u5668\u4e00\u5b9a\u8981\u8bbe\u7f6e\u5728\u5176\u4ed6\u8fc7\u6ee4\u5668\u4e4b\u524d\uff0c\u5426\u5219\u65e0\u6548")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728 web.xml \u6587\u4ef6\u4e2d\u914d\u7f6e\u5168\u5c40\u8fc7\u6ee4\u5668"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"    \x3c!--\u914d\u7f6e\u5168\u5c40\u8fc7\u6ee4\u7684filter \u89e3\u51b3post\u8bf7\u6c42\u4e71\u7801\u95ee\u9898--\x3e\n    <filter>\n        <filter-name>CharacterEncodingFilter</filter-name>\n        <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>\n        \x3c!-- \u8bbe\u7f6e\u8bf7\u6c42\u7684\u7f16\u7801 --\x3e\n        <init-param>\n            <param-name>encoding</param-name>\n            <param-value>utf-8</param-value>\n        </init-param>\n        \x3c!-- \u8bbe\u7f6e\u54cd\u5e94\u7684\u7f16\u7801 --\x3e\n        <init-param>\n            <param-name>forceEncoding</param-name>\n            <param-value>true</param-value>\n        </init-param>\n    </filter>\n    <filter-mapping>\n        <filter-name>CharacterEncodingFilter</filter-name>\n        <url-pattern>/*</url-pattern>\n    </filter-mapping>\n")))))))),(0,r.kt)("h2",{id:"6-\u5f80\u57df\u5bf9\u8c61\u4e2d\u5171\u4eab\u6570\u636e"},"6. \u5f80\u57df\u5bf9\u8c61\u4e2d\u5171\u4eab\u6570\u636e"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528 servletAPI \u5f80 request \u57df\u5bf9\u8c61\u4e2d\u5171\u4eab\u6570\u636e"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    @RequestMapping(value="/quick5")\n    public String save5(HttpServletRequest request){\n        request.setAttribute("username","\u5927\u65f6\u4ee3");\n        return "success";\n    }\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528 modelAndView \u5f80 request \u57df\u5bf9\u8c61\u4e2d\u5171\u4eab\u6570\u636e"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"model\uff1a\u5411\u8bf7\u6c42\u57df\u4e2d\u5171\u4eab\u6570\u636e")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"view\uff1a\u8bbe\u7f6e\u903b\u8f91\u89c6\u56fe"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    //\u65b9\u6cd5\u4e2d\u4f20\u5165SpringMVC\u63d0\u4f9b\u7684ModelAndView\u5bf9\u8c61\u53c2\u6570\uff0c\u8fdb\u884c\u8f6c\u53d1\u548c\u91cd\u5b9a\u5411\n    @RequestMapping(value="/quick3")\n    public ModelAndView save3(ModelAndView modelAndView){\n        //\u8bbe\u7f6e\u6a21\u578b\u6570\u636e\n        modelAndView.addObject("username","LHK");\n        //\u8bbe\u7f6e\u89c6\u56fe\u540d\u79f0(ViewName)\n        modelAndView.setViewName("success");\n        return modelAndView;\n    }\n\n\n    //\u901a\u8fc7\u8fd4\u56deModelAndView\u5bf9\u8c61\u8fdb\u884c\u8f6c\u53d1\u548c\u91cd\u5b9a\u5411\n    @RequestMapping(value="/quick2")\n    public ModelAndView save2(){\n        ModelAndView modelAndView = new ModelAndView();\n        //\u8bbe\u7f6e\u6a21\u578b\u6570\u636e\n        modelAndView.addObject("username","TheMetents");\n        //\u8bbe\u7f6e\u89c6\u56fe\u540d\u79f0(ViewName)\n        modelAndView.setViewName("success");\n        return modelAndView;\n    }\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528 model \u5f80 request \u57df\u4e2d\u5171\u4eab\u6570\u636e"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    @RequestMapping(value="/quick4")\n    public String save4(Model model){\n        model.addAttribute("username","lhk1008611");\n        return "success";\n    }\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528 ModelMap \u5f80 request \u57df\u4e2d\u5171\u4eab\u6570\u636e"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    // modelMap \u7684\u4f7f\u7528\n    @RequestMapping(value="/modelMap")\n    public String testModelMap(ModelMap modelMap){\n        modelMap.addAttribute("username","lhk1008611");\n        return "success";\n    } \n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528 map \u5f80 request \u57df\u4e2d\u5171\u4eab\u6570\u636e"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    // map \u7684\u4f7f\u7528\n    @RequestMapping(value="/map")\n    public String testModelMap(Map<String,Object> map){\n        map.put("username","lhk1008611");\n        return "success";\n    }\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"model \u3001ModelMap \u3001map \u7684\u5173\u7cfb"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5e95\u5c42\u90fd\u662f\u90fd\u662f\u901a\u8fc7 ",(0,r.kt)("inlineCode",{parentName:"p"},"BindingAwareModelMap")," \u521b\u5efa\uff0c\u672c\u8d28\u4e0a\u90fd\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"BindingAwareModelMap"),"  \u7c7b\u578b"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class BindingAwareModelMap extends ExtendedModelMap {}\npublic class ExtendedModelMap extends ModelMap implements Model {}\npublic class ModelMap extends LinkedHashMap<String, Object> {}\n"))))))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5f80 session \u4e0e\u4e2d\u5171\u4eab\u6570\u636e"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528 servletAPI \u5f80 session \u57df\u4e2d\u5171\u4eab\u6570\u636e"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    //\u5f80session\u57df\u4e2d\u5171\u4eab\u6570\u636e\n    @RequestMapping("/testSession")\n    public String testSession(HttpSession session){\n        session.setAttribute("key","value");\n        return null;\n    }\n'))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5f80 application \u57df\u4e2d\u5171\u4eab\u6570\u636e"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    //\u5f80\u5e94\u7528\u57df\u4e2d\u5171\u4eab\u6570\u636e\n    @RequestMapping("/testApplication")\n    public String testApplication(HttpSession session){\n        ServletContext application = session.getServletContext();\n        application.setAttribute("key","value");\n        return null;\n    }\n')))),(0,r.kt)("h2",{id:"7-springmvc-\u7684\u89c6\u56fe"},"7. springMVC \u7684\u89c6\u56fe"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"springMVC \u4e2d\u7684\u89c6\u56fe\u662f View \u63a5\u53e3"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u89c6\u56fe\u7684\u4f5c\u7528\u662f\u6e32\u67d3\u6570\u636e\uff0c\u5c06 model \u7684\u6570\u636e\u5c55\u793a\u7ed9\u7528\u6237"),(0,r.kt)("li",{parentName:"ul"},"springMVC \u4e2d\u9ed8\u8ba4\u7684\u8f6c\u53d1\u89c6\u56fe\uff08internalResourceView\uff09\u548c\u91cd\u5b9a\u5411\u89c6\u56fe\uff08redirectView\uff09",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5f53\u5de5\u7a0b\u4e2d\u5f15\u5165 jstl \u7684\u4f9d\u8d56\uff0c\u8f6c\u53d1\u89c6\u56fe\u4f1a\u81ea\u52a8\u8f6c\u6362\u4e3a jstlView"),(0,r.kt)("li",{parentName:"ul"},"\u82e5\u5728springMVC\u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u914d\u7f6e\u4e86 Thymeleaf \u7684\u89c6\u56fe\u89e3\u6790\u5668\uff0c\u5219\u6b64\u89c6\u56fe\u89e3\u6790\u540e\u7684\u89c6\u56fe\u4e3a ThymeleafView"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"ThymeleafView"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u914d\u7f6e Thymeleaf \u7684\u89c6\u56fe\u89e3\u6790\u5668"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'\x3c!-- \u914d\u7f6eThymeleaf\u89c6\u56fe\u89e3\u6790\u5668 --\x3e\n<bean id="viewResolver" class="org.thymeleaf.spring5.view.ThymeleafViewResolver">\n    <property name="order" value="1"/>\n    <property name="characterEncoding" value="UTF-8"/>\n    <property name="templateEngine">\n        <bean class="org.thymeleaf.spring5.SpringTemplateEngine">\n            <property name="templateResolver">\n                <bean class="org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver">\n    \n                    \x3c!-- \u89c6\u56fe\u524d\u7f00 --\x3e\n                    <property name="prefix" value="/WEB-INF/templates/"/>\n    \n                    \x3c!-- \u89c6\u56fe\u540e\u7f00 --\x3e\n                    <property name="suffix" value=".html"/>\n                    <property name="templateMode" value="HTML5"/>\n                    <property name="characterEncoding" value="UTF-8" />\n                </bean>\n            </property>\n        </bean>\n    </property>\n</bean>\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u914d\u7f6e\u4e86 ThymeleafViewResolver \u540e"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5728 controller \u4e2d\u76f4\u63a5 ",(0,r.kt)("inlineCode",{parentName:"li"},'return "\u89c6\u56fe\u540d\u79f0"')," \u4f1a\u89e3\u6790\u6210 ThymeleafView \u8fdb\u884c\u89c6\u56fe\u6e32\u67d3"),(0,r.kt)("li",{parentName:"ul"},"\u5728 controller \u4e2d\u76f4\u63a5 ",(0,r.kt)("inlineCode",{parentName:"li"},'return "forward:/xxx/xxx"'),"  \u4f1a\u89e3\u6790\u6210 internalResourceView \u5b9e\u73b0\u8def\u7531\u8f6c\u53d1"),(0,r.kt)("li",{parentName:"ul"},"\u5728 controller \u4e2d\u76f4\u63a5 ",(0,r.kt)("inlineCode",{parentName:"li"},'return "redirect:/xxx/xxx"'),"  \u4f1a\u89e3\u6790\u6210 redirectView\u5b9e\u73b0\u91cd\u5b9a\u5411",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u8f6c\u53d1\u548c\u91cd\u5b9a\u5411\u7684\u533a\u522b\uff1a",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u8f6c\u53d1\u76f4\u63a5\u8df3\u8f6c\u5230\u9875\u9762\u4e0d\u4f1a\u6539\u53d8\u9875\u9762 url"),(0,r.kt)("li",{parentName:"ul"},"\u91cd\u5b9a\u5411\u76f4\u63a5\u8df3\u8f6c\u5230\u9875\u9762\u4f1a\u5c06\u9875\u9762 url \u53d8\u4e3a\u8df3\u8f6c\u540e\u9875\u9762\u7684 url"))))))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u89c6\u56fe\u63a7\u5236\u5668"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u914d\u7f6e\u89c6\u56fe\u63a7\u5236\u5668"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<mvc:view-controller path="/" view-name="index"></mvc:view-controller>\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5f00\u542f\u6ce8\u89e3\u9a71\u52a8"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u82e5\u4e0d\u5f00\u542f mvc \u7684\u6ce8\u89e3\u9a71\u52a8\uff0c\u5219\u53ea\u4f1a\u5904\u7406\u89c6\u56fe\u63a7\u5236\u5668\u6240\u5bf9\u5e94\u7684\u8bf7\u6c42,\u5176\u4ed6\u8bf7\u6c42 404\uff1b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5f00\u542f mvc \u7684\u6ce8\u89e3\u9a71\u52a8\u540e\u53ef\u4ee5\u5904\u7406\u89c6\u56fe\u63a7\u5236\u5668\u548c controller \u4e2d\u7684\u6240\u6709\u8bf7\u6c42"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<mvc:annotation-driven /">\n')))))))),(0,r.kt)("h2",{id:"8-restful-\u98ce\u683c"},"8. RESTFul \u98ce\u683c"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"REST : Representational State Transfer,\u8868\u73b0\u5c42\u8d44\u6e90\u72b6\u6001\u8f6c\u79fb")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("table",{parentName:"li"},(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"HTTP method"),(0,r.kt)("th",{parentName:"tr",align:"center"},"restful"),(0,r.kt)("th",{parentName:"tr",align:"center"},"\u52a8\u4f5c"),(0,r.kt)("th",{parentName:"tr",align:"center"},"\u83b7\u53d6url\u4e2d\u7684\u53c2\u6570\u7684\u6ce8\u89e3"),(0,r.kt)("th",{parentName:"tr",align:"center"},"\u5360\u4f4d\u7b26url"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"get"),(0,r.kt)("td",{parentName:"tr",align:"center"},"/user/1"),(0,r.kt)("td",{parentName:"tr",align:"center"},"\u67e5\u8be2"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"@PathVariable")),(0,r.kt)("td",{parentName:"tr",align:"center"},"/url/{id}")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"post"),(0,r.kt)("td",{parentName:"tr",align:"center"},"/user"),(0,r.kt)("td",{parentName:"tr",align:"center"},"\u65b0\u589e"),(0,r.kt)("td",{parentName:"tr",align:"center"}),(0,r.kt)("td",{parentName:"tr",align:"center"})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"put"),(0,r.kt)("td",{parentName:"tr",align:"center"},"/user/1"),(0,r.kt)("td",{parentName:"tr",align:"center"},"\u4fee\u6539"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"@PathVariable")),(0,r.kt)("td",{parentName:"tr",align:"center"},"/url/{id}")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"delete"),(0,r.kt)("td",{parentName:"tr",align:"center"},"/user/1"),(0,r.kt)("td",{parentName:"tr",align:"center"},"\u5220\u9664"),(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"@PathVariable")),(0,r.kt)("td",{parentName:"tr",align:"center"},"/url/{id}")))),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u901a\u8fc7\u8d85\u94fe\u63a5\u53d1\u9001\u7684\u662f get \u8bf7\u6c42")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6d4f\u89c8\u5668\u53ea\u80fd\u53d1\u9001 get \u6216 post \u8bf7\u6c42")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u9ed8\u8ba4\u60c5\u51b5\u4e0b form \u8868\u5355\u53ea\u80fd\u53d1\u9001 get \u548c post \u8bf7\u6c42"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u540e\u7aef\u901a\u8fc7\u914d\u7f6e\u5904\u7406 http method \u7684\u8fc7\u6ee4\u5668\u53ef\u4ee5\u5b9e\u73b0\u53d1\u9001 put\u3001delete \u8bf7\u6c42\u7684\u6548\u679c"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"    <filter>\n        <filter-name >HiddenHttpMethodFilter</filter-name>\n        <filter-class >org.springframework.web.filter.HiddenHttpMethodFilter</filter-class>\n    </filter>\n    <filter-mapping>\n        <filter-name>HiddenHttpMethodFilter</filter-name>\n        <url-pattern>/*</url-pattern>\n    </filter-mapping>\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u524d\u7aef form \u8868\u5355\u9700\u8981\u5c06 method \u5c5e\u6027\u8bbe\u7f6e\u4e3a post\uff0c\u5e76\u5728\u8868\u5355\u4f20\u9001\u4e00\u4e2a _method \u53c2\u6570\u5230 controller \u65b9\u6cd5"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<form action="/Spring_mvc/user/quick13" method="post">\n    <input type="hidden" name="_method" value="put">\n    .......\n    <input type="submit" value="\u63d0\u4ea4">\n</form>\n'))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u901a\u8fc7\u67e5\u770b HiddenHttpMethodFilter \u8fd9\u4e2a\u8fc7\u6ee4\u5668\u6e90\u7801\u4e2d\u7684 doFilterInternal \u65b9\u6cd5\u53ef\u4ee5\u4e86\u89e3\u5e95\u5c42\u662f\u5982\u4f55\u5bf9 http method \u8fdb\u884c\u5904\u7406"))))),(0,r.kt)("h2",{id:"9-springmvc-\u5904\u7406-ajax-\u8bf7\u6c42"},"9. springMVC \u5904\u7406 ajax \u8bf7\u6c42"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    /**\n     * \u4f7f\u7528ajax\u63d0\u4ea4\u65f6\uff0c\u53ef\u4ee5\u6307\u5b9acontentType\u4e3ajson\u5f62\u5f0f\n     * \u90a3\u4e48\u5728 controller \u65b9\u6cd5\u53c2\u6570\u4f4d\u7f6e\u4f7f\u7528 @RequestBody \u53ef\u4ee5\u76f4\u63a5\u63a5\u6536\u96c6\u5408\u6570\u636e\u800c\u65e0\u9700\u5bf9\u96c6\u5408\u8fdb\u884cpojo\u5305\u88c5\n     * @param userlist\n     * @throws IOException\n     */\n    @RequestMapping(value="/quick14")\n    @ResponseBody  //\u8be5\u6ce8\u89e3\u544a\u77e5SpringMVC\u6846\u67b6\uff0c\u4e0d\u8fdb\u884c\u89c6\u56fe\u8df3\u8f6c\uff0c\u76f4\u63a5\u8fdb\u884c\u6570\u636e\u54cd\u5e94\n    public void save14(@RequestBody List<User> userlist) throws IOException {\n        System.out.println(userlist);\n    }\n')),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"@RequestBody"),"\u6ce8\u89e3\uff1a\u83b7\u53d6\u8bf7\u6c42\u4f53\u4fe1\u606f"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5bfc\u5165 jackson \u5305\u914d\u5408 ",(0,r.kt)("inlineCode",{parentName:"li"},"@RequestBody")," \u6ce8\u89e3\u53ef\u5c06\u8bf7\u6c42\u4f53\u6570\u636e\u89e3\u6790\u4e3a Java \u7c7b\u578b\u6570\u636e"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"@ResponseBody"),"\u6ce8\u89e3\uff1a\u5c06 controller \u65b9\u6cd5\u8fd4\u56de\u6570\u636e\u4ee5\u54cd\u5e94\u62a5\u6587\u7684\u54cd\u5e94\u4f53\u5f62\u5f0f\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5bfc\u5165 jackson \u5305\u914d\u5408 ",(0,r.kt)("inlineCode",{parentName:"li"},"@ResponseBody"),"\u6ce8\u89e3\u53ef\u5c06 controller \u65b9\u6cd5\u8fd4\u56de\u7684 Java \u7c7b\u578b\u6570\u636e\u89e3\u6790\u4e3a json \u683c\u5f0f\u6570\u636e\u4ee5\u54cd\u5e94\u62a5\u6587\u7684\u54cd\u5e94\u4f53\u5f62\u5f0f\u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u9700\u8981\u5f00\u542f springmvc \u7684\u6ce8\u89e3\u9a71\u52a8"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'<mvc:annotation-driven /">\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"@RestController"),"  = ",(0,r.kt)("inlineCode",{parentName:"p"},"@Controller")," +",(0,r.kt)("inlineCode",{parentName:"p"},"@ResponseBody")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u8be5\u6ce8\u89e3\u4e00\u822c\u6807\u8bc6\u5728 controller \u7c7b\u7684\u524d\u9762")))),(0,r.kt)("h2",{id:"10-\u6587\u4ef6\u4e0a\u4f20\u548c\u4e0b\u8f7d"},"10. \u6587\u4ef6\u4e0a\u4f20\u548c\u4e0b\u8f7d"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6587\u4ef6\u4e0a\u4f20\uff1a\u5c06\u6587\u4ef6\u4ece\u6d4f\u89c8\u5668\u590d\u5236\u5230\u670d\u52a1\u5668")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6587\u4ef6\u4e0b\u8f7d\uff1a\u5c06\u6587\u4ef6\u4ece\u670d\u52a1\u5668\u590d\u5236\u5230\u6d4f\u89c8\u5668")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Java \u539f\u751f\u6587\u4ef6\u4e0a\u4f20\u4e0b\u8f7d\u5b9e\u73b0\uff1a\u901a\u8fc7 IO \u6d41\u5b9e\u73b0\u6587\u4ef6\u4e0a\u4f20\u4e0b\u8f7d\uff0c\u8f93\u5165\u6d41\u8bfb\u53d6\u6587\u4ef6\uff0c\u8f93\u51fa\u6d41\u89c1\u6587\u4ef6\u8f93\u51fa\u5230\u6307\u5b9a\u4f4d\u7f6e")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"spring MVC \u4e2d\u7684\u6587\u4ef6\u4e0a\u4f20\u4e0b\u8f7d"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6587\u4ef6\u4e0b\u8f7d"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"ResponseEntity"),(0,r.kt)("strong",{parentName:"p"},"\u54cd\u5e94\u62a5\u6587\u5bf9\u8c61"),"\u4f5c\u4e3a controller \u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u7c7b\u578b\uff0c\u53ef\u4ee5\u5b9e\u73b0\u6587\u4ef6\u4e0b\u8f7d\u529f\u80fd"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    /**\n     * \u6587\u4ef6\u4e0b\u8f7d\n     * @param httpSession\n     * @return ResponseEntity\n     * @throws IOException\n     */\n    @RequestMapping("/download")\n    public ResponseEntity<byte[]> download(\n            HttpSession httpSession\n    ) throws IOException {\n        //1. \u83b7\u53d6\u9700\u8981\u4e0b\u8f7d\u7684\u6587\u4ef6\u8def\u5f84\n        ServletContext servletContext = httpSession.getServletContext();\n        String imagePath = servletContext.getRealPath("image");\n        String filePath = imagePath + File.separator + "appreciate_afdian.png";\n        //2. \u521b\u5efa\u8f93\u5165\u6d41\u8bfb\u53d6\u6587\u4ef6\u5b57\u8282\n        FileInputStream fileInputStream = new FileInputStream(filePath);\n        byte[] bytes = new byte[fileInputStream.available()];\n        //\u5c06\u6587\u4ef6\u6d41\u8bfb\u5165\u5b57\u8282\u6570\u7ec4\n        fileInputStream.read(bytes);\n        //3. \u521b\u5efa HttpHeaders \u5bf9\u8c61\uff0c\u8bbe\u7f6e\u5934\u4fe1\u606f\n        MultiValueMap<String,String> httpHeaders = new HttpHeaders();\n        httpHeaders.add("Content-Disposition","attachment;filename=appreciate_afdian.png");\n        //4. \u8fd4\u56de ResponseEntity \u5bf9\u8c61\uff0c\u4f5c\u4e3a\u54cd\u5e94\u62a5\u6587\u54cd\u5e94\u5230\u6d4f\u89c8\u5668\n        ResponseEntity<byte[]> responseEntity = new ResponseEntity<byte[]>(bytes,httpHeaders,HttpStatus.OK);\n        fileInputStream.close();\n        return responseEntity;\n    }\n')))))))),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6587\u4ef6\u4e0a\u4f20"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"MultipartFile"),"\u5bf9\u8c61\u63a5\u6536\u6587\u4ef6\u4e0a\u4f20\u53c2\u6570\uff0c\u8c03\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"transferTo"),"\u65b9\u6cd5\u5b9e\u73b0\u6587\u4ef6\u4e0a\u4f20"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<h2>\n    <span>\u6587\u4ef6\u4e0a\u4f20</span>\n</h2>\n<form action="${pageContext.request.contextPath}/user/upload" method="post" enctype="multipart/form-data">\n    \u6587\u4ef61\uff1a<input type="file" name="uploadFile"><br>\n    \u6587\u4ef62\uff1a<input type="file" name="uploadFile"><br>\n    <input type="submit" value="\u4e0a\u4f20"><br>\n</form>\n')),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'    /**\n     * \u591a\u6587\u4ef6\u4e0a\u4f20,\u8868\u5355\u4e2d\u6587\u4ef6\u540d\u4e0d\u540c\n     * \u5355\u6587\u4ef6\u4e0a\u4f20\uff0c\u4f20\u5165\u4e00\u4e2aMultipartFile\u53c2\u6570\u5373\u53ef\n     * @param uploadFile\n     * @throws IOException\n     */\n    @RequestMapping(value="upload")\n    public String uploadFile(\n            MultipartFile[] uploadFile,\n            HttpSession httpSession\n    ) throws IOException {\n        ServletContext servletContext = httpSession.getServletContext();\n        String imagePath = servletContext.getRealPath("image");\n        File file = new File(imagePath);\n        System.out.println(uploadFile.length);\n        if(!file.exists()){\n            file.mkdir();\n        }\n        //\u5c06\u6587\u4ef6\u4fdd\u5b58\u5230\u78c1\u76d8\n        for (MultipartFile multipartFile : uploadFile) {\n            if (!multipartFile.isEmpty()){\n                multipartFile.transferTo(new File(imagePath+File.separator+multipartFile.getOriginalFilename()));\n            }\n        }\n        return "success";\n    }\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u9700\u8981\u914d\u7f6e\u6587\u4ef6\u4e0a\u4f20\u89e3\u6790\u5668"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'        \x3c!--\u914d\u7f6e\u6587\u4ef6\u4e0a\u4f20\u89e3\u6790\u5668--\x3e\n        <bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver">\n                <property name="defaultEncoding" value="UTF-8"></property>\n                <property name="maxUploadSize" value="500000"></property>\n\n        </bean>\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u9700\u8981\u5bfc\u5165\u6587\u4ef6\u4e0a\u4f20\u5305"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"    \x3c!--\u6587\u4ef6\u4e0a\u4f20\u5305--\x3e\n    <dependency>\n      <groupId>commons-fileupload</groupId>\n      <artifactId>commons-fileupload</artifactId>\n      <version>1.3.1</version>\n    </dependency>\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u95ee\u9898\uff1a \u4e0a\u4f20\u540c\u540d\u6587\u4ef6\u4f1a\u5c06\u6587\u4ef6\u7684\u539f\u5185\u5bb9\u8986\u76d6"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u89e3\u51b3\uff1a\u5c06\u6587\u4ef6\u540d\u8bbe\u7f6e\u4e3a\u4e0d\u91cd\u590d\u7684\u6587\u4ef6\u540d\u5373\u53ef",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u6587\u4ef6\u540d\u6dfb\u52a0 uuid \u6216\u4f7f\u7528 uuid \u4f5c\u4e3a\u6587\u4ef6\u540d"),(0,r.kt)("li",{parentName:"ol"},"\u6587\u4ef6\u540d\u6dfb\u52a0",(0,r.kt)("inlineCode",{parentName:"li"},"\u65f6\u95f4\u6233"),"\u6216\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"li"},"\u65f6\u95f4\u6233"),"\u4f5c\u4e3a\u6587\u4ef6\u540d")))))))),(0,r.kt)("h2",{id:"11-\u62e6\u622a\u5668"},"11. \u62e6\u622a\u5668"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"filter \u4e0e \u62e6\u622a\u5668\u7684\u533a\u522b"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"filter\uff1a\u4f1a\u5728\u8bf7\u6c42\u8fbe\u5230 dispatchSeverlet \u4e4b\u524d\u6267\u884c\uff0c\u5148\u5bf9\u8bf7\u6c42\u8fdb\u884c\u8fc7\u6ee4")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u62e6\u622a\u5668\uff1a\u662f\u5728 dispatchSeverlet \u5339\u914d\u5230\u5bf9\u5e94\u7684\u5904\u7406\u5668\uff08controller \u6216 handler\uff09\u540e\uff0c\u5728\u8be5\u5904\u7406\u5668\u524d\u540e\u5bf9\u8bf7\u6c42\u8fdb\u884c\u62e6\u622a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4e09\u4e2a\u65b9\u6cd5"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},"    @Override\n    //preHandle()\u65b9\u6cd5\u662f \u5728\u5904\u7406\u5668\u65b9\u6cd5\u6267\u884c\u524d \u6267\u884c\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        return false;\n    }\n\n    @Override\n    //postHandle()\u65b9\u6cd5\u662f \u5728\u5904\u7406\u5668\u65b9\u6cd5\u6267\u884c\u540e \u89c6\u56fe\u8fd4\u56de\u4e4b\u524d \u6267\u884c\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {\n\n    }\n\n    //afterCompletion()\u65b9\u6cd5\u662f\u5728 \u6574\u4e2a\u8bbf\u95ee\u8d44\u6e90\u6d41\u7a0b\u6267\u884c\u5b8c\u6bd5\u540e\u6267\u884c\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {\n\n    }\n"))))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u62e6\u622a\u5668\u7684\u4f7f\u7528"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u521b\u5efa\u62e6\u622a\u5668\u7c7b\uff0c\u5b9e\u73b0\u63a5\u53e3 ",(0,r.kt)("inlineCode",{parentName:"p"},"HandlerInterceptor")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class MyInterceptor1 implements HandlerInterceptor {\n\n    @Override\n    //preHandle()\u65b9\u6cd5\u662f \u5728\u76ee\u6807\u65b9\u6cd5\u6267\u884c\u524d \u6267\u884c\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n        System.out.println("preHandle().......");\n        String param = request.getParameter("param");\n        if ("yes".equals(param)){\n            return true;//\u8fd4\u56detrue\u4ee3\u8868\u653e\u884c\uff0c\u8fd4\u56defalse\u5219\u4e0d\u4f1a\u6267\u884c\u76ee\u6807\u65b9\u6cd5\n        }else {\n            request.getRequestDispatcher("/error.jsp").forward(request,response);\n            return false;\n        }\n    }\n\n    @Override\n    //postHandle()\u65b9\u6cd5\u662f \u5728\u76ee\u6807\u65b9\u6cd5\u6267\u884c\u540e \u89c6\u56fe\u8fd4\u56de\u4e4b\u524d \u6267\u884c\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception {\n        System.out.println("postHandle()............");\n    }\n\n    //afterCompletion()\u65b9\u6cd5\u662f\u5728 \u6574\u4e2a\u8bbf\u95ee\u8d44\u6e90\u6d41\u7a0b\u6267\u884c\u5b8c\u6bd5\u540e\u6267\u884c\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception {\n        System.out.println("afterCompletion().....");\n    }\n}\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u914d\u7f6e\u62e6\u622a\u5668\uff0c\u4f7f\u62e6\u622a\u5668\u751f\u6548"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"/**")," \u8868\u793a\u5bf9\u6240\u6709\u8bf7\u6c42\u90fd\u4f7f\u7528\u8be5\u62e6\u622a\u5668\u8fdb\u884c\u62e6\u622a"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u914d\u7f6e\u65b9\u5f0f1"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'    \x3c!--\u914d\u7f6e\u62e6\u622a\u5668--\x3e\n    <mvc:interceptors>\n        <mvc:interceptor>\n            \x3c!--\u914d\u7f6e\u9700\u8981\u8fdb\u884c\u62e6\u622a\u7684\u8d44\u6e90--\x3e\n            <mvc:mapping path="/**"/>\n            <bean class="com.lhk.interceptor.MyInterceptor1"></bean>\n        </mvc:interceptor>\n        <mvc:interceptor>\n            \x3c!--\u914d\u7f6e\u9700\u8981\u8fdb\u884c\u62e6\u622a\u7684\u8d44\u6e90--\x3e\n            <mvc:mapping path="/**"/>\n            <bean class="com.lhk.interceptor.MyInterceptor2"></bean>\n        </mvc:interceptor>\n    </mvc:interceptors>\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"@Component")," \u6ce8\u89e3\u548c\u6ce8\u89e3\u626b\u63cf\u914d\u7f6e\u62e6\u622a\u5668"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'    \x3c!--\u7ec4\u4ef6\u626b\u63cf--\x3e\n    <context:component-scan base-package="com.lhk.interceptor"></context:component-scan>\n\n    \x3c!--\u914d\u7f6e\u62e6\u622a\u5668--\x3e\n    <mvc:interceptors>\n        <mvc:interceptor>\n            \x3c!--\u914d\u7f6e\u9700\u8981\u8fdb\u884c\u62e6\u622a\u7684\u8bf7\u6c42--\x3e\n            <mvc:mapping path="/**"/>\n            <bean class="com.lhk.interceptor.MyInterceptor1"></bean>\n        </mvc:interceptor>\n        <mvc:interceptor>\n            \x3c!--\u914d\u7f6e\u9700\u8981\u8fdb\u884c\u62e6\u622a\u7684\u8bf7\u6c42--\x3e\n            <mvc:mapping path="/**"/>\n            <ref bean="myInterceptor2"></ref>\n        </mvc:interceptor>\n    </mvc:interceptors>\n')),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},"@Component\npublic class MyInterceptor2 implements HandlerInterceptor {\n    //....\n}\n"))))))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u591a\u4e2a\u62e6\u622a\u5668\u7684\u6267\u884c\u987a\u5e8f"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-text"},"preHandle().......111111\npreHandle().......222222\ncontroller \u6267\u884c....\npostHandle()........222222\npostHandle().......111111\nafterCompletion().....222222\nafterCompletion().....111111\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"preHandle"),"\u65b9\u6cd5\u6309\u62e6\u622a\u5668\u914d\u7f6e\u7684\u987a\u5e8f\u4f9d\u6b21\u6267\u884c\uff0c",(0,r.kt)("inlineCode",{parentName:"p"},"postHandle"),"\u548c",(0,r.kt)("inlineCode",{parentName:"p"},"afterCompletion"),"\u6309\u62e6\u622a\u5668\u914d\u7f6e\u7684\u9006\u5e8f\u4f9d\u6b21\u6267\u884c"))))),(0,r.kt)("h2",{id:"12\u5f02\u5e38\u89e3\u6790\u5668"},"12.\u5f02\u5e38\u89e3\u6790\u5668"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"HandlerExceptionResolver"),"\u63a5\u53e3")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"DefaultHandlerExceptionResolver"),"\uff1a\u9ed8\u8ba4\u7684\u5f02\u5e38\u89e3\u6790\u5668\uff0c\u5185\u90e8\u5b9e\u73b0\u4e86\u5bf9\u5f02\u5e38\u7684\u9ed8\u8ba4\u5904\u7406\u65b9\u5f0f")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"SimpleMappingExceptionResolver"),"\uff1a\u53ef\u4ee5\u914d\u7f6e\u5f02\u5e38\u7684\u5904\u7406\u65b9\u5f0f\uff0c\u53ef\u4ee5\u914d\u7f6e\u5f02\u5e38\u51fa\u73b0\u65f6\u8df3\u8f6c\u81f3\u54ea\u4e2a\u9875\u9762"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'    \x3c!--\u914d\u7f6eSpringMVC\u7684\u5f02\u5e38\u5904\u7406\u5668--\x3e\n   <bean class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">\n        <property name="defaultErrorView" value="error"></property>\n\n        <property name="exceptionMappings">\n            <map>\n                <entry key="java.lang.ClassCastException" value="error1"></entry>\n                <entry key="com.lhk.exception.MyException" value="error2"></entry>\n            </map>\n        </property>\n    </bean>\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u81ea\u5b9a\u4e49\u5f02\u5e38\u89e3\u6790\u5668\uff0c\u53ef\u5b9e\u73b0\u5f02\u5e38\u5904\u7406\u7684\u5b9a\u5236\u5316"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u521b\u5efa\u5f02\u5e38\u89e3\u6790\u7c7b\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"HandlerExceptionResolver"),"\u63a5\u53e3\uff0c\u5373\u53ef"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'public class MyExceptionResolver implements HandlerExceptionResolver {\n    /**\n     *\n     * @param httpServletRequest\n     * @param httpServletResponse\n     * @param e \u5f02\u5e38\u5bf9\u8c61\n     * @return ModelAndView \u8df3\u8f6c\u5230\u9519\u8bef\u89c6\u56fe\u4fe1\u606f\u9875\u9762\n     */\n    @Override\n    public ModelAndView resolveException(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e) {\n        ModelAndView modelAndView = new ModelAndView();\n        if (e instanceof ClassCastException){\n            modelAndView.addObject("info","\u7c7b\u8f6c\u6362\u5f02\u5e38");\n        }else if (e instanceof MyException){\n            modelAndView.addObject("info","\u81ea\u5b9a\u4e49\u5f02\u5e38");\n        }\n        modelAndView.setViewName("error");\n        return modelAndView;\n    }\n}\n')),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'     \x3c!--\u914d\u7f6e\u81ea\u5b9a\u4e49\u7684\u5f02\u5e38\u5904\u7406\u5668--\x3e\n    <bean class="com.lhk.resolver.MyExceptionResolver"></bean>\n'))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u81ea\u5b9a\u4e49\u5f02\u5e38"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u521b\u5efa\u5f02\u5e38\u7c7b\u7ee7\u627f",(0,r.kt)("inlineCode",{parentName:"p"},"Exception"),"\uff0c\u5373\u53ef\u5f97\u5230\u81ea\u5b9a\u4e49\u5f02\u5e38"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},"public class MyException extends Exception{\n\n}\n"))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6ce8\u89e3\u5b9e\u73b0\u81ea\u5b9a\u4e49\u5f02\u5e38\u89e3\u6790\u5668"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"@ControllerAdvice"),"\u6ce8\u89e3\u53ef\u5c06\u7c7b\u6807\u8bc6\u4e3a\u5f02\u5e38\u89e3\u6790\u5668\u7ec4\u4ef6")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"@ExceptionHandler"),"\u6ce8\u89e3\u8868\u793a\u9047\u5230\u54ea\u4e9b\u5f02\u5e38\u65f6\u9700\u8981\u8fdb\u884c\u5f02\u5e38\u89e3\u6790"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@ControllerAdvice\npublic class DemoController_1 {\n\n    @Autowired\n    private DemoService demoService;\n\n    @ExceptionHandler(ClassCastException.class)\n    public String Show(Throwable ex, Model model) {\n        System.out.println("\u9047\u5230\u5f02\u5e38\u65f6\u8fdb\u884c\u4e00\u4e9b\u5904\u7406.....");\n        demoService.show1();\n        model.addAttribute("ex", ex);//\u5c06\u5f02\u5e38\u4fe1\u606f\u5b58\u5165\u8bf7\u6c42\u57df\n        return "error";//\u51fa\u73b0 ClassCastException \u5f02\u5e38\u65f6\u8df3\u8f6c\u5230 error \u9875\u9762\n    }\n}\n')))))),(0,r.kt)("h2",{id:"13\u6ce8\u89e3\u914d\u7f6e-spring-mvc"},"13\u3001\u6ce8\u89e3\u914d\u7f6e Spring MVC"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528\u914d\u7f6e\u7c7b\u548c\u6ce8\u89e3\u6765\u66ff\u4ee3 web.xml \u548c SpringMVC \u7684\u914d\u7f6e\u6587\u4ef6")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u914d\u7f6e\u7c7b\u66ff\u4ee3 web.xml"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u4ee3\u66ff web.xml \u6587\u4ef6\u7684\u914d\u7f6e\u7c7b\n */\npublic class WebInit extends AbstractAnnotationConfigDispatcherServletInitializer {\n    @Override\n    //\u8bbe\u7f6e\u914d\u7f6e\u7c7b\u4ee3\u66ff Spring \u7684\u914d\u7f6e\u6587\u4ef6\n    protected Class<?>[] getRootConfigClasses() {\n        return new Class[]{SpringConfig.class};\n    }\n\n    @Override\n    //\u8bbe\u7f6e\u914d\u7f6e\u7c7b\u4ee3\u66ff SpringMVC \u7684\u914d\u7f6e\u6587\u4ef6\n    protected Class<?>[] getServletConfigClasses() {\n        return new Class[]{WebConfig.class};\n    }\n\n    @Override\n    //\u8bbe\u7f6e SpringMVC \u7684\u524d\u7aef\u63a7\u5236\u5668 DispatcherServlet \u7684url-pattern\n    protected String[] getServletMappings() {\n        return new String[]{"/"};\n    }\n\n    @Override\n    //\u8bbe\u7f6e\u8fc7\u6ee4\u5668\n    protected Filter[] getServletFilters() {\n        //\u7f16\u7801\u8fc7\u6ee4\u5668\n        CharacterEncodingFilter characterEncodingFilter = new CharacterEncodingFilter();\n        characterEncodingFilter.setEncoding("utf-8");\n        characterEncodingFilter.setForceEncoding(true);\n        //\u5904\u7406\u8bf7\u6c42\u65b9\u5f0f\u8fc7\u6ee4\u5668\n        HiddenHttpMethodFilter hiddenHttpMethodFilter = new HiddenHttpMethodFilter();\n        return new Filter[]{characterEncodingFilter,hiddenHttpMethodFilter};\n    }\n}\n\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u914d\u7f6e\u7c7b\u4ee3\u66ff Spring \u914d\u7f6e\u6587\u4ef6"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"@Configuration")," \u6ce8\u89e3\u5c06\u7c7b\u6807\u8bc6\u4e3a\u914d\u7f6e\u7c7b"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u914d\u7f6e\u7c7b\u4ee3\u66ff Spring \u914d\u7f6e\u6587\u4ef6"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"@Configuration")," \u6ce8\u89e3\u5c06\u7c7b\u6807\u8bc6\u4e3a\u914d\u7f6e\u7c7b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5b9e\u73b0 ",(0,r.kt)("inlineCode",{parentName:"p"},"WebMvcConfigurer"),"\u7c7b")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u914d\u7f6e ",(0,r.kt)("strong",{parentName:"p"},"\u7ec4\u4ef6\u626b\u63cf"),"\u3001",(0,r.kt)("strong",{parentName:"p"},"\u89c6\u56fe\u89e3\u6790\u5668"),"\u3001",(0,r.kt)("strong",{parentName:"p"},"\u9ed8\u8ba4\u7684 Servlet \u5904\u7406\u9759\u6001\u8d44\u6e90"),"   \u3001",(0,r.kt)("strong",{parentName:"p"},"mvc \u6ce8\u89e3\u9a71\u52a8"),"\u3001",(0,r.kt)("strong",{parentName:"p"},"\u89c6\u56fe\u63a7\u5236\u5668"),"\u3001",(0,r.kt)("strong",{parentName:"p"},"\u6587\u4ef6\u4e0a\u4f20\u89e3\u6790\u5668"),"\u3001",(0,r.kt)("strong",{parentName:"p"},"\u62e6\u622a\u5668"),"\u3001",(0,r.kt)("strong",{parentName:"p"},"\u5f02\u5e38\u89e3\u6790\u5668")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'/**\n * \u914d\u7f6e\u7c7b\u4ee3\u66ff springMVC \u914d\u7f6e\u6587\u4ef6\n */\n@Configuration\n@ComponentScan("com.lhk.controller") //\u7ec4\u4ef6\u626b\u63cf\n@EnableWebMvc //\u5f00\u542f mvc \u7684\u6ce8\u89e3\u9a71\u52a8\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    //\u914d\u7f6e\u9ed8\u8ba4 Servlet \u5904\u7406\u9759\u6001\u8d44\u6e90\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n        configurer.enable();\n    }\n\n    @Override\n    //\u914d\u7f6e\u89c6\u56fe\u63a7\u5236\u5668\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController("/").setViewName("index");\n    }\n\n    @Bean //\u53ef\u4ee5\u5c06\u65b9\u6cd5\u7684\u8fd4\u56de\u503c\u4f5c\u4e3a bean \u4ea4\u7ed9\u5bb9\u5668\u8fdb\u884c\u7ba1\u7406\uff0cbean \u7684 id \u4e3a\u6ce8\u89e3\u6807\u8bc6\u7684\u65b9\u6cd5\u540d\n    //\u914d\u7f6e\u6587\u4ef6\u4e0a\u4f20\u89e3\u6790\u5668\n    public CommonsMultipartResolver multipartResolver() {\n        return new CommonsMultipartResolver();\n    }\n\n    @Override\n    //\u914d\u7f6e\u62e6\u622a\u5668\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new MyInterceptor1()).addPathPatterns("/**").excludePathPatterns("/");\n    }\n\n    @Override\n    //\u914d\u7f6e\u5f02\u5e38\u89e3\u6790\u5668\n    public void configureHandlerExceptionResolvers(List<HandlerExceptionResolver> resolvers) {\n        SimpleMappingExceptionResolver simpleMappingExceptionResolver = new SimpleMappingExceptionResolver();\n        Properties properties = new Properties();\n        properties.setProperty("java.lang.ClassCastException", "error");\n        simpleMappingExceptionResolver.setExceptionMappings(properties);\n        simpleMappingExceptionResolver.setExceptionAttribute("ex");\n    }\n\n    //\u4ee5\u4e0b\u4e3a\u914d\u7f6e\u89c6\u56fe\u89e3\u6790\u5668\n    //1.\u914d\u7f6e\u751f\u6210\u6a21\u677f\u89e3\u6790\u5668\n    @Bean\n    public ITemplateResolver templateResolver() {\n        WebApplicationContext currentWebApplicationContext = ContextLoader.getCurrentWebApplicationContext();\n        ServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver(currentWebApplicationContext.getServletContext());\n        templateResolver.setPrefix("/templates/");\n        templateResolver.setSuffix(".html");\n        templateResolver.setCharacterEncoding("utf-8");\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n        return templateResolver;\n    }\n\n    //2.\u914d\u7f6e\u751f\u6210\u6a21\u677f\u5f15\u64ce\uff0c\u5e76\u6ce8\u5165\u6a21\u677f\u89e3\u6790\u5668\n    @Bean\n    public SpringTemplateEngine templateEngine(ITemplateResolver templateResolver) {\n        SpringTemplateEngine springTemplateEngine = new SpringTemplateEngine();\n        springTemplateEngine.setTemplateResolver(templateResolver);\n        return springTemplateEngine;\n    }\n\n    //3.\u914d\u7f6e\u751f\u6210\u89c6\u56fe\u89e3\u6790\u5668\uff0c\u5e76\u6ce8\u5165\u6a21\u677f\u5f15\u64ce\n    @Bean\n    public ViewResolver viewResolver(SpringTemplateEngine templateEngine) {\n        ThymeleafViewResolver thymeleafViewResolver = new ThymeleafViewResolver();\n        thymeleafViewResolver.setCharacterEncoding("UTF-8");\n        thymeleafViewResolver.setTemplateEngine(templateEngine);\n        return thymeleafViewResolver;\n    }\n}\n\n')))))),(0,r.kt)("h2",{id:"14spring-mvc-\u7684\u6574\u4e2a\u6d41\u7a0b"},"14\u3001spring MVC \u7684\u6574\u4e2a\u6d41\u7a0b"),(0,r.kt)("h3",{id:"1-\u5e38\u7528\u7ec4\u4ef6"},"1. \u5e38\u7528\u7ec4\u4ef6"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"DispatcherServlet "),"\uff1a\u524d\u7aef\u63a7\u5236\u5668\uff0c\u7531\u6846\u67b6\u63d0\u4f9b",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u7edf\u4e00\u5904\u7406\u8bf7\u6c42\u548c\u54cd\u5e94"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"HandlerMapping"),"\uff1a\u5904\u7406\u5668\u6620\u5c04\u5668\uff0c\u7531\u6846\u67b6\u63d0\u4f9b",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6839\u636e\u8bf7\u6c42\u7684 url\u3001method \u7b49\u4fe1\u606f\u6620\u5c04\u5230\u5bf9\u5e94\u7684\u5904\u7406\u5668\uff08controller \u65b9\u6cd5\uff09"))),(0,r.kt)("li",{parentName:"ul"},"`",(0,r.kt)("inlineCode",{parentName:"li"},"Handler"),"\uff1a\u5904\u7406\u5668\uff08Controller\uff09\uff0c\u9700\u8981\u5de5\u7a0b\u5e08\u5f00\u53d1",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5728 ",(0,r.kt)("inlineCode",{parentName:"li"},"DispatcherServlet"),"\u7684\u63a7\u5236\u4e0b\uff0cHandler \u5bf9\u8bf7\u6c42\u8fdb\u884c\u5177\u4f53\u7684\u5904\u7406"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"HandlerAdapter"),"\uff1a\u5904\u7406\u5668\u9002\u914d\u5668\uff0c\u7531\u6846\u67b6\u63d0\u4f9b",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u901a\u8fc7",(0,r.kt)("inlineCode",{parentName:"li"},"HandlerAdapter"),"\u6267\u884c\u5904\u7406\u5668\uff08controller \u65b9\u6cd5\uff09"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ViewResolver"),"\uff1a\u89c6\u56fe\u89e3\u6790\u5668\uff0c\u7531\u6846\u67b6\u63d0\u4f9b",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u8fdb\u884c\u89c6\u56fe\u89e3\u6790\uff0c\u5f97\u5230\u76f8\u5e94\u7684\u89c6\u56fe\uff0c\u5982\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"ThymeleafView "),",",(0,r.kt)("inlineCode",{parentName:"li"},"internalResourceView")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"View"),"\uff1a\u89c6\u56fe",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5c06\u6a21\u578b\u6570\u636e\u901a\u8fc7\u9875\u9762\u5c55\u793a\u7ed9\u7528\u6237")))),(0,r.kt)("h3",{id:"2-\u5177\u4f53\u6267\u884c\u6d41\u7a0b"},"2. \u5177\u4f53\u6267\u884c\u6d41\u7a0b"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6d4f\u89c8\u5668\u53d1\u9001\u8bf7\u6c42\t"),(0,r.kt)("li",{parentName:"ol"},"\u68c0\u67e5\u8bf7\u6c42\u5730\u5740\u662f\u5426\u4e0e web.xml \u6587\u4ef6\u4e2d\u8bbe\u7f6e\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"url-pattern")," \u76f8\u5339\u914d\uff0c\u5339\u914d\u6210\u529f\u5219\u5c06\u8be5\u8bf7\u6c42\u4ea4\u7531 DispatcherServlet  \u8fdb\u884c\u5904\u7406"),(0,r.kt)("li",{parentName:"ol"},"\u524d\u7aef\u63a7\u5236\u5668 DispatcherServlet  \u8bfb\u53d6 SpringMvc \u7684\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6\uff0c\u901a\u8fc7\u7ec4\u4ef6\u626b\u63cf\u627e\u5230 controller (\u63a7\u5236\u5668)\uff0c\u68c0\u67e5\u8bf7\u6c42\u5730\u5740\u662f\u5426\u4e0e\u63a7\u5236\u5668\u4e2d\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"@RequestMapping")," \u6ce8\u89e3\u4e2d\u7684 value \u503c\u76f8\u5339\u914d\uff0c\u5339\u914d\u6210\u529f\u5219\u8be5\u6ce8\u89e3\u6240\u6807\u8bc6\u7684 controller (\u63a7\u5236\u5668)\u65b9\u6cd5\u4f1a\u5bf9\u8be5\u8bf7\u6c42\u8fdb\u884c\u5904\u7406"),(0,r.kt)("li",{parentName:"ol"},"controller \u65b9\u6cd5\u9700\u8981\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684\u7c7b\u578b\u7684\u89c6\u56fe\u540d\u79f0\uff0c\u8be5\u89c6\u56fe\u540d\u79f0\u4f1a\u88ab\u89c6\u56fe\u89e3\u6790\u5668\u89e3\u6790\uff0c\u52a0\u4e0a\u524d\u7f00\u548c\u540e\u7f00\u7ec4\u6210\u89c6\u56fe\u7684\u8def\u5f84\uff0c\u5e76\u5bf9\u8be5\u89c6\u56fe\u5bf9\u5e94\u7684\u9875\u9762\u8fdb\u884c\u6e32\u67d3\uff0c\u6700\u7ec8\u5c06\u8bf7\u6c42\u8f6c\u53d1\u5230\u89c6\u56fe\u6240\u5bf9\u5e94\u7684\u9875\u9762")),(0,r.kt)("h2",{id:"15-\u6574\u5408ssm"},"15. \u6574\u5408SSM"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"springMVC \u7684 IOC \u5bb9\u5668\u662f\u5728\u521d\u59cb\u5316 ",(0,r.kt)("inlineCode",{parentName:"p"},"dispatcherServlet")," \u65f6\u8fdb\u884c\u7684\u521b\u5efa\u7684\uff0c\u7531\u4e8e controller \u5c42\u4f1a\u4f9d\u8d56 service \u5c42\u7684\u7ec4\u4ef6\uff0c\u6545 spring \u7684 IOC \u5bb9\u5668\u5e94\u8be5\u5728 springMVC IOC \u5bb9\u5668\u521b\u5efa\u4e4b\u524d\u8fdb\u884c\u521b\u5efa"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6545\uff1a\u5728\u6574\u5408 spring \u548c springMVC \u7684\u65f6\u5019\uff0c\u9879\u76ee\u542f\u52a8\u65f6\u5e94\u5148\u8bfb\u53d6 spring \u7684\u914d\u7f6e\u6587\u4ef6\u521b\u5efa spring \u7684 IOC \u5bb9\u5668\uff0c\u518d\u8bfb\u53d6SpringMVC\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u521b\u5efa\u5b83\u7684 IOC \u5bb9\u5668"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5728 Tomcat \u4e2d\uff0clistener\u3001filter\u3001servlet \u7684\u6267\u884c\u987a\u5e8f\u662f ",(0,r.kt)("inlineCode",{parentName:"p"},"listener\u2014\u2014>filter\u2014\u2014>servlet")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6545\uff1a\u53ef\u4ee5\u5728\u76d1\u542c\u5668\uff08listener\uff09\u6267\u884c\u65f6\u52a0\u8f7d spring \u914d\u7f6e\u6587\u4ef6\uff0c\u521b\u5efa spring \u7684 IOC \u5bb9\u5668\uff0c\u5373\u53ef\u5b9e\u73b0 spring \u4e0e springMVC \u7684\u6574\u5408"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u76d1\u542c\u5668\uff08",(0,r.kt)("inlineCode",{parentName:"p"},"listener"),"\uff09"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"ServletContextListener"),"\uff1a\u7528\u4e8e\u76d1\u542c Web \u5e94\u7528\u7a0b\u5e8f\u7684\u542f\u52a8\u548c\u5173\u95ed\u4e8b\u4ef6\uff0c\u5373 Servlet \u4e0a\u4e0b\u6587\u7684\u521b\u5efa\u548c\u9500\u6bc1\u4e8b\u4ef6"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"ServletRequestListener"),"\uff1a\u7528\u4e8e\u76d1\u542c HTTP \u8bf7\u6c42\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u4e8b\u4ef6\uff0c\u5373 Servlet \u8bf7\u6c42\u7684\u521b\u5efa\u548c\u9500\u6bc1\u4e8b\u4ef6"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"HttpSessionListener"),"\uff1a\u7528\u4e8e\u76d1\u542c HTTP \u4f1a\u8bdd\u7684\u521b\u5efa\u548c\u9500\u6bc1\u4e8b\u4ef6\uff0c\u5373\u4f1a\u8bdd\u7684\u521b\u5efa\u548c\u9500\u6bc1\u4e8b\u4ef6\u3002"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"ServletContextAttributeListener"),"\uff1a\u7528\u4e8e\u76d1\u542c Servlet \u4e0a\u4e0b\u6587\u5c5e\u6027\u7684\u6dfb\u52a0\u3001\u79fb\u9664\u548c\u66ff\u6362\u4e8b\u4ef6\u3002"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"ServletRequestAttributeListener"),"\uff1a\u7528\u4e8e\u76d1\u542c Servlet \u8bf7\u6c42\u5c5e\u6027\u7684\u6dfb\u52a0\u3001\u79fb\u9664\u548c\u66ff\u6362\u4e8b\u4ef6\u3002"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"HttpSessionAttributeListener"),"\uff1a\u7528\u4e8e\u76d1\u542c\u4f1a\u8bdd\u5c5e\u6027\u7684\u6dfb\u52a0\u3001\u79fb\u9664\u548c\u66ff\u6362\u4e8b\u4ef6\u3002")),(0,r.kt)("p",{parentName:"li"},"\u8fd9\u4e9b\u76d1\u542c\u5668\u53ef\u4ee5\u901a\u8fc7\u5728 Web \u5e94\u7528\u7a0b\u5e8f\u7684\u914d\u7f6e\u6587\u4ef6\uff08web.xml\uff09\u4e2d\u8fdb\u884c\u6ce8\u518c\uff0c\u6216\u901a\u8fc7\u6ce8\u89e3\u7684\u65b9\u5f0f\u8fdb\u884c\u914d\u7f6e")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5728 spring\u4e2d\u63d0\u4f9b\u4e86 ",(0,r.kt)("inlineCode",{parentName:"p"},"ContextLoaderListener"),"\u5b9e\u73b0\u4e86",(0,r.kt)("inlineCode",{parentName:"p"},"ServletContextListener"),"\uff0c\u7528\u4e8e\u5728 Web \u5e94\u7528\u7a0b\u5e8f\u542f\u52a8\u65f6\u52a0\u8f7d\u548c\u521d\u59cb\u5316 Spring \u5e94\u7528\u7a0b\u5e8f\u4e0a\u4e0b\u6587"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8be5\u7c7b\u4f1a\u5728 Web \u670d\u52a1\u5668\u542f\u52a8\u65f6\uff0c\u8bfb\u53d6 spring \u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u521b\u5efa spring \u7684 IOC \u5bb9\u5668")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728 web.xml \u4e2d\u914d\u7f6e"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"  \x3c!--Spring\u7684\u76d1\u542c\u5668 \u9ed8\u8ba4\u8bfb\u53d6 WEB-INF/application.xml--\x3e\n  <listener>\n    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>\n  </listener>\n  \x3c!--\u5168\u5c40\u7684\u521d\u59cb\u5316\u53c2\u6570,\u53ef\u81ea\u5b9a\u4e49 spring \u914d\u7f6e\u6587\u4ef6\u7684\u4f4d\u7f6e\u548c\u540d\u79f0--\x3e\n  <context-param>\n    <param-name>contextConfigLocation</param-name>\n    <param-value>classpath:applicationContext.xml</param-value>\n  </context-param>\n"))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5728 pom.xml \u6587\u4ef6\u4e2d\u53ef\u4ee5\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"properties"),"  \u6807\u7b7e\u4e2d\u7edf\u4e00\u7ba1\u7406\u4f9d\u8d56\u7248\u672c\u53f7"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"  <properties>\n    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n    <maven.compiler.source>1.7</maven.compiler.source>\n    <maven.compiler.target>1.7</maven.compiler.target>\n    <spring.version>5.0.5.RELEASE</spring.version>\n  </properties>\n  \n  <dependencies>\n    <dependency>\n      <groupId>org.springframework</groupId>\n      <artifactId>spring-context</artifactId>\n      <version>${spring.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.springframework</groupId>\n      <artifactId>spring-test</artifactId>\n      <version>${spring.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.springframework</groupId>\n      <artifactId>spring-web</artifactId>\n      <version>${spring.version}</version>\n    </dependency>\n    <dependency>\n      <groupId>org.springframework</groupId>\n      <artifactId>spring-webmvc</artifactId>\n      <version>${spring.version}</version>\n    </dependency>\n  </dependencies>\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6709 mybatis \u4e3a\u4f55\u8fd8\u9700\u5bfc\u5165 ",(0,r.kt)("inlineCode",{parentName:"p"},"spring-jdbc")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u56e0\u4e3a ",(0,r.kt)("inlineCode",{parentName:"li"},"spring-jdbc")," \u4e2d\u6709\u4e8b\u52a1\u7ba1\u7406\u5668\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u5bfc\u5165\u4e8b\u52a1\u7ba1\u7406\u5668\uff0c\u66f4\u597d\u7684\u8fdb\u884c\u5b9e\u7269\u76f8\u5173\u64cd\u4f5c"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5728 web.xml \u4e2d\u914d\u7f6e ",(0,r.kt)("strong",{parentName:"p"},"spring \u7684\u7f16\u7801\u8fc7\u6ee4\u5668"),"\u3001\u914d\u7f6e",(0,r.kt)("strong",{parentName:"p"},"\u5904\u7406\u8bf7\u6c42\u65b9\u5f0f\u7684\u8fc7\u6ee4\u5668"),"\u3001\u914d\u7f6e ",(0,r.kt)("strong",{parentName:"p"},"spring \u7684\u524d\u7aef\u63a7\u5236\u5668 ",(0,r.kt)("inlineCode",{parentName:"strong"},"dispatcherServlet"))," \u3001\u914d\u7f6e ",(0,r.kt)("strong",{parentName:"p"},"spring \u7684\u76d1\u542c\u5668"),"\u7528\u4e8e\u52a0\u8f7d spring \u7684\u914d\u7f6e\u6587\u4ef6\u3001\u914d\u7f6e ",(0,r.kt)("strong",{parentName:"p"},"spring \u914d\u7f6e\u6587\u4ef6\u7684\u81ea\u5b9a\u4e49\u4f4d\u7f6e\u548c\u540d\u79f0")),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u5728 springMVC.xml \u4e2d\u914d\u7f6e",(0,r.kt)("strong",{parentName:"li"},"\u7ec4\u4ef6\u626b\u63cf\uff08controller\uff09"),"\u3001",(0,r.kt)("strong",{parentName:"li"},"\u89c6\u56fe\u89e3\u6790\u5668"),"\u3001",(0,r.kt)("strong",{parentName:"li"},"\u9ed8\u8ba4 servlet \u5904\u7406\u9759\u6001\u8d44\u6e90"),"\u3001",(0,r.kt)("strong",{parentName:"li"},"mvc \u6ce8\u89e3\u9a71\u52a8"),"\u3001",(0,r.kt)("strong",{parentName:"li"},"\u89c6\u56fe\u63a7\u5236\u5668"),"\u3001",(0,r.kt)("strong",{parentName:"li"},"\u6587\u4ef6\u4e0a\u4f20\u89e3\u6790\u5668"),"\uff0c",(0,r.kt)("strong",{parentName:"li"},"\u62e6\u622a\u5668"),"\u548c",(0,r.kt)("strong",{parentName:"li"},"\u5f02\u5e38\u5904\u7406\u5668"),"\u6309\u9700\u914d\u7f6e\u5373\u53ef"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5728 spring.xml \u4e2d\u914d\u7f6e ",(0,r.kt)("strong",{parentName:"p"},"\u7ec4\u4ef6\u626b\u63cf\uff08\u9664 controller\uff09"),"\uff0c\u914d\u7f6e",(0,r.kt)("strong",{parentName:"p"},"\u6570\u636e\u6e90"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6574\u5408 mybatis \uff0c\u53ef\u4ee5\u5c06\u4e00\u4e9b\u5378\u8f7d mybatis.xml \u6587\u4ef6\u4e2d\u7684\u914d\u7f6e\u5199\u5728 spring.xml \u4e2d"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u9700\u8981\u914d\u7f6e",(0,r.kt)("inlineCode",{parentName:"p"},"SqlSessionFactory"),"\u4ea4\u7ed9 IOC \u5bb9\u5668\u7ba1\u7406"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5728 spring,xml \u4e2d\u914d\u7f6e mybatis \u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"SqlSessionFactory")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'    \x3c!--\n    \u914d\u7f6emybatis\u7684SqlSessionFactory\n    \u5176\u4e2dSqlSessionFactoryBean\u662fmybatis-spring\u5305\u63d0\u4f9b\u7684SqlSessionFactory\u63a5\u53e3\u7684\u4e00\u4e2a\u5b9e\u73b0\n    --\x3e\n    <bean id="sqlSessionFactory" class="org.mybatis.spring.SqlSessionFactoryBean">\n        <property name="dataSource" ref="dataSource"></property>\x3c!--\u52a0\u8f7d\u6570\u636e\u6e90--\x3e\n        <property name="configLocation" value="classpath:mybatis-config-spring.xml"></property>\x3c!--\u52a0\u8f7dmybatis\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6--\x3e\n        <property name="mapperLocations" value="classpath:com.lhk.mapper/*.xml"></property>\x3c!--\u52a0\u8f7d\u6620\u5c04\u6587\u4ef6--\x3e\n    </bean>\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5728 spring,xml \u4e2d\u914d\u7f6e mybatis \u7684",(0,r.kt)("inlineCode",{parentName:"p"},"SqlSessionFactoryBean"),"\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728 spring \u7684 IOC \u5bb9\u5668\u4e2d\u83b7\u53d6 ",(0,r.kt)("inlineCode",{parentName:"p"},"SqlSessionFactory")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'    <bean class="org.mybatis.spring.SqlSessionFactoryBean">\n        <property name="dataSource" ref="dataSource"></property>\x3c!--\u52a0\u8f7d\u6570\u636e\u6e90--\x3e\n        <property name="configLocation" value="classpath:mybatis-config-spring.xml"></property>\x3c!--\u52a0\u8f7dmybatis\u6838\u5fc3\u914d\u7f6e\u6587\u4ef6--\x3e\n        <property name="mapperLocations" value="classpath:com.lhk.mapper/*.xml"></property>\x3c!--\u52a0\u8f7d\u6620\u5c04\u6587\u4ef6,\u53ea\u6709 mapper \u63a5\u53e3\u7684\u5305\u548c\u6620\u5c04\u6587\u4ef6\u7684\u5305\u4e0d\u4e00\u81f4\u65f6\u9700\u8981\u8bbe\u7f6e--\x3e\n    </bean>\n'))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728 spring,xml \u4e2d\u914d\u7f6e mapper \u63a5\u53e3\u626b\u63cf\uff0c\u53ef\u4ee5\u5c06\u6307\u5b9a\u5305\u4e0b\u6240\u6709\u7684 mapper \u63a5\u53e3\u901a\u8fc7 ",(0,r.kt)("inlineCode",{parentName:"p"},"SqlSession")," \u521b\u5efa\u4ee3\u7406\u5b9e\u73b0\u7c7b\u5bf9\u8c61\uff0c\u5e76\u4ea4\u7ed9 IOC \u5bb9\u5668\u7ba1\u7406\uff0c\u8fd9\u6837\u53ef\u4ee5\u76f4\u63a5\u5728 service \u5c42\u4e2d\u6ce8\u5165 mapper \u7ec4\u4ef6"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'    \x3c!--\u626b\u63cfmapper\u76f8\u5173\u63a5\u53e3\u6240\u5728\u7684\u5305 \u4e3amapper\u521b\u5efa\u5b9e\u73b0\u7c7b--\x3e\n    <bean id="mapperScannerConfigurer" class="org.mybatis.spring.mapper.MapperScannerConfigurer">\n        <property name="basePackage" value="com.lhk.mapper"></property>\n    </bean>\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u914d\u7f6e",(0,r.kt)("strong",{parentName:"p"},"\u4e8b\u52a1\u7ba1\u7406\u5668")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'    \x3c!--\u58f0\u660e\u5f0f\u4e8b\u5f0f\u63a7\u5236--\x3e\n    \x3c!--\u5e73\u53f0\u4e8b\u52a1\u7ba1\u7406\u5668--\x3e\n    <bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">\n        <property name="dataSource" ref="dataSource"></property>\x3c!--\u6ce8\u5165\u6570\u636e\u5143--\x3e\n    </bean>\n\n    \x3c!-- \u5f00\u542f\u4e8b\u52a1\u7684\u6ce8\u89e3\u9a71\u52a8 --\x3e\n    <tx:annotation-driven transaction-manager="transactionManager"></tx:annotation-driven>\n')))))))}u.isMDXComponent=!0}}]);