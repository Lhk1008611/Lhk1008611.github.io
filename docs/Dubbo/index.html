<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Dubbo/dubbo">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Apache Dubbo 入门 | HankLay 的个人主页</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://lhk1008611.github.io/docs/Dubbo/"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Apache Dubbo 入门 | HankLay 的个人主页"><meta data-rh="true" name="description" content="一、大型互联网项目架构"><meta data-rh="true" property="og:description" content="一、大型互联网项目架构"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lhk1008611.github.io/docs/Dubbo/"><link data-rh="true" rel="alternate" href="https://lhk1008611.github.io/docs/Dubbo/" hreflang="zh"><link data-rh="true" rel="alternate" href="https://lhk1008611.github.io/docs/Dubbo/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.db39acd3.css">
<link rel="preload" href="/assets/js/runtime~main.ea97327c.js" as="script">
<link rel="preload" href="/assets/js/main.aa482c7f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.ico" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/favicon.ico" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">首页</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">文档</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Lhk1008611" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">个人简历</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/java">Java</a><button aria-label="打开/收起侧边栏菜单「Java」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/mq">MQ</a><button aria-label="打开/收起侧边栏菜单「MQ」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/mysql">MySQL</a><button aria-label="打开/收起侧边栏菜单「MySQL」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/linux">Linux</a><button aria-label="打开/收起侧边栏菜单「Linux」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/ssm">SSM</a><button aria-label="打开/收起侧边栏菜单「SSM」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/redis">Redis</a><button aria-label="打开/收起侧边栏菜单「Redis」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/dubbo">Dubbo</a><button aria-label="打开/收起侧边栏菜单「Dubbo」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Dubbo/">Apache Dubbo 入门</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/dubbo"><span itemprop="name">Dubbo</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Apache Dubbo 入门</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>Apache Dubbo 入门</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="一大型互联网项目架构">一、大型互联网项目架构<a class="hash-link" href="#一大型互联网项目架构" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="传统项目和互联网项目">传统项目和互联网项目<a class="hash-link" href="#传统项目和互联网项目" title="标题的直接链接">​</a></h3><ul><li>传统项目：OA、HR、CRM 等系统，to b<ul><li>用户量不多，并发不多</li><li>用户多为企业员工，忍耐度高</li></ul></li><li>互联网项目：淘宝、微信、百度等，to c<ul><li>用户量大，高并发</li><li>用户多为广大人群，忍耐度低，因此需要提高用户体验</li><li>海量数据</li><li>易受攻击</li><li>功能繁琐</li><li>变更快</li></ul></li><li>用户体验：美观、功能、速度、稳定性</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="大型互联网项目架构目标">大型互联网项目架构目标<a class="hash-link" href="#大型互联网项目架构目标" title="标题的直接链接">​</a></h3><ul><li>衡量网站的性能指标<ul><li><strong>响应时间</strong>：指执行一个请求从开始到最后收到响应数据所花费的总体时间</li><li><strong>并发数</strong>：指系统同时能处理的请求数量<ul><li><strong>并发连接数</strong>: 指的是客户端向服务器发起请求，并建立了 TCP 连接。每秒钟服务器连接的总 TCP 数量</li><li><strong>请求数</strong>: 也称为 QPS(Query Per Second) 指每秒多少请求</li><li><strong>并发用户数</strong>: 单位时间内有多少用户吞吐量</li></ul></li><li><strong>吞吐量</strong>：指单位时间内系统能处理的请求数量<ul><li><strong>QPS</strong>: Query Per Second 每秒查询数。</li><li><strong>TPS</strong>: Transactions Per Second 每秒事务数<ul><li>一个事务是指一个客户机向服务器发送请求然后服务器做出反应的过程。客户机在发送请求时开始计时，收到服务器响应后结束计时，以此来计算使用的时间和完成的事务个数。</li></ul></li></ul></li><li><strong>高性能</strong>: 提供快速的访问体验</li><li><strong>高可用</strong>: 网站服务一直可以正常访问</li><li><strong>可伸缩</strong>: 通过硬件增加/减少，提高/降低处理能力</li><li><strong>高可扩展</strong>: 系统间耦合低，方便的通过新增/移除方式，增加/减少新的功能/模块</li><li><strong>安全性</strong>: 提供网站安全访问和数据加密，安全存储等策略</li><li><strong>敏捷性</strong>: 随需应变，快速响应</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="集群和分布式">集群和分布式<a class="hash-link" href="#集群和分布式" title="标题的直接链接">​</a></h3><ul><li>集群：很多“人”一起，干一样的事<ul><li>一个业务模块，部署在多台服务器上。</li></ul></li><li>分布式：很多“人”一起，干不一样的事。这些不一样的事，合起来是一件大事<ul><li>一个大的业务系统，拆分为小的业务模块，分别部署在不同的机器上</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="架构演进">架构演进<a class="hash-link" href="#架构演进" title="标题的直接链接">​</a></h3><p><img loading="lazy" alt="image-20240612093707901" src="/assets/images/image-20240612093707901-06225275c33ac69d5a367a9f5a580323.png" width="1230" height="192" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="单体架构">单体架构<a class="hash-link" href="#单体架构" title="标题的直接链接">​</a></h4><ul><li>优点:<ul><li>简单，开发部署都很方便，小型项目首选</li></ul></li><li>缺点:<ul><li>项目启动慢</li><li>可靠性差</li><li>可伸缩性差</li><li>扩展性和可维护性差</li><li>性能低</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="垂直架构">垂直架构<a class="hash-link" href="#垂直架构" title="标题的直接链接">​</a></h3><ul><li><p>垂直架构是指将单体架构中的多个模块拆分为多个独立的项目。形成多个独立的单体架构</p></li><li><p>垂直架构存在的问题:</p><ul><li>重复功能太多</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="分布式架构">分布式架构<a class="hash-link" href="#分布式架构" title="标题的直接链接">​</a></h3><ul><li>分布式架构是指在垂直架构的基础上，将公共业务模块抽取出来，作为独立的服务供其他调用者消费，以实现服务的共享和重用</li><li><strong>RPC</strong>: Remote Prqcedure Call 远程过程调用。有非常多的协议和技术来都实现了 RPC 的过程。比如: HTTP REST 风格，Java RMI 规范、WebService SOAP 协议、Hession 等等</li><li>分布式架构存在的问题:<ul><li>服务提供方一旦产生变更，所有消费方都需要变更</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="soa-架构">SOA 架构<a class="hash-link" href="#soa-架构" title="标题的直接链接">​</a></h3><p><img loading="lazy" alt="image-20240612095412474" src="/assets/images/image-20240612095412474-ccfccac174483973e0262ae128ca24c1.png" width="539" height="351" class="img_ev3q"></p><ul><li><strong>SOA</strong>: (Service-Oriented-Architecture，面向服务的架构)是一个组件模型，它将应用程序的不同功能单元(称为服务)进行拆分，并通过这些服务之间定义良好的接口和契约联系起来。</li><li><strong>ESB</strong>: (Enterparise Servce Bus) 企业服务总线，服务中介。主要是提供了一个服务于服务之间的交互。ESB 包含的功能如: 负载均衡，流量控制，加密处理，服务的监控，异常处理，监控告急等等</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="微服务架构">微服务架构<a class="hash-link" href="#微服务架构" title="标题的直接链接">​</a></h3><ul><li>微服务架构是在 SOA 上做的升华，微服务架构强调的一个重点是“业务需要彻底的组件化和服务化”，原有的单个业务系统会拆分为多个可以独立开发、设计、运行的小应用。这些小应用之间通过服务完成交互集成</li><li>微服务架构 = 80%的SOA服务架构思想 + 100%的组件化架构思想 + 80%的领域建模思想</li></ul><p><img loading="lazy" alt="image-20240612101342176" src="/assets/images/image-20240612101342176-9170ec7c533cb09f6df8e57312fc3421.png" width="786" height="365" class="img_ev3q"></p><ul><li>特点:<ul><li>服务实现组件化:开发者可以自由选择开发技术。也不需要协调其他团队</li><li>服务之间交互一般使用 RESTAPI</li><li>去中心化: 每个微服务有自己私有的数据库持久化业务数据</li><li>自动化部署: 把应用拆分成为一个一个独立的单个服务，方便自动化部署、测试、运维</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="二dubbo-简介">二、Dubbo 简介<a class="hash-link" href="#二dubbo-简介" title="标题的直接链接">​</a></h2><ul><li><p>Dubbo 是 SOA 时代的产物，SpringCloud 是微服务时代的产物</p></li><li><p>Dubbo 是阿里巴巴开源的高性能分布式 RPC 服务治理框架</p></li><li><p>Dubbo 提供了六大核心能力：</p><ol><li>面向接口代理的高性能 RPC 调用</li><li>智能容错和负载均衡</li><li>服务自动注册和发现</li><li>高度可扩展能力</li><li>运行期流量调度：轻松实现灰度发布</li><li>可视化的服务治理与运维</li><li>功能强大。未来支持 Go、K8S 云原生等技术。代表着高性能微服务架构的发展方向</li></ol></li><li><p>Dubbo 服务治理框架总结：</p><ul><li>SOA 架构解决架构的异构交互问题；</li><li>可以实现不同语言直接功能接口的重用；</li><li>普通的服务框架解决开发 Web 服务接口开发；</li><li>服务注册+ 服务管理+ 服务发现+健康监控；</li><li>Dubbo 是一个分布式 RPC SOA 服务治理框架；</li><li>致力于提供高性能和透明化的 RPC 远程服务调用方案；</li><li>是阿里巴巴 SOA 服务化治理方案的核心框架；</li><li>每天为 2,000+个服务；</li><li>提供 3,000,000,000+次访问量支持；</li><li>并被广泛应用于阿里巴巴集团的各成员站点。</li></ul></li><li><p>具体查看官网：<a href="https://cn.dubbo.apache.org/zh-cn/" target="_blank" rel="noopener noreferrer">Apache Dubbo</a></p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="三dubbo-快速入门">三、Dubbo 快速入门<a class="hash-link" href="#三dubbo-快速入门" title="标题的直接链接">​</a></h2><ul><li><p><a href="https://cn.dubbo.apache.org/zh-cn/overview/mannual/java-sdk/quick-start/" target="_blank" rel="noopener noreferrer">快速入门 | Apache Dubbo</a></p></li><li><p>运行起 Dubbo 应用的一个大前提是部署一个注册中心</p><ul><li>Zookeeper、nacos 等</li></ul></li><li><p>Dubbo 相关注解</p><ul><li><code>@Service</code>：标注类中的方法为远程调用的服务<ul><li>新版改为 <code>@DubboService</code></li></ul></li><li><code>@Reference</code>：注入远程服务对象<ul><li>新版改为 <code>@DubboReference</code></li></ul></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="四dubbo-高级特性">四、Dubbo 高级特性<a class="hash-link" href="#四dubbo-高级特性" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dubbo-admin">dubbo-admin<a class="hash-link" href="#dubbo-admin" title="标题的直接链接">​</a></h3><ul><li><p><a href="https://cn.dubbo.apache.org/zh-cn/overview/reference/admin/" target="_blank" rel="noopener noreferrer">Admin 控制台操作手册 | Apache Dubbo</a></p></li><li><p>dubbo-admin 管理平台，是图形化的服务管理页面从注册中心中获取到所有的提供者/消费者进行配置管理路由规则、动态配置、服务降级、访问控制、权重调整、负载均衡等管理功能</p></li><li><p>dubbo-admin 是一个前后端分离的项目。前端使用 vue ，后端使用springboot</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dubbo-高级配置">dubbo 高级配置<a class="hash-link" href="#dubbo-高级配置" title="标题的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="序列化">序列化<a class="hash-link" href="#序列化" title="标题的直接链接">​</a></h4><ul><li>当两个服务传输对象时，则需要序列化与反序列化<ul><li>dubbo内部已经将序列化和反序列化的过程内部封装了</li><li>我们只需要在定义 pojo 类时实现 <code>Serializable</code> 接口即可</li><li>一般会定义一个公共的 pojo 模块，让生产者和消费者都依赖该模块</li></ul></li></ul><p><img loading="lazy" alt="image-20240612204014735" src="/assets/images/image-20240612204014735-300dddb8976fd227e255ace24b585d3c.png" width="744" height="441" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="地址缓存">地址缓存<a class="hash-link" href="#地址缓存" title="标题的直接链接">​</a></h4><ul><li>注册中心挂了，服务依然可以正常访问，因为 dubbo 服务消费者在第一次调用时，会将服务提供方地址缓存到本地，以后在调用则不会访问注册中心</li><li>但当服务提供者地址发生变化时，注册中心会通知服务消费者。</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="超时与重试">超时与重试<a class="hash-link" href="#超时与重试" title="标题的直接链接">​</a></h4><ul><li><p>超时</p><ul><li>服务消费者在调用服务提供者的时候发生了阻塞、等待的情形，这个时候，服务消费者会一直等待下去。<ul><li>在某个峰值时刻，大量的请求都在同时请求服务消费者，会造成线程的大量堆积，势必会造成雪崩。</li></ul></li><li>dubbo利用超时机制来解决这个问题，设置一个超时时间，在这个时间段内，无法完成服务访问，则白动断开连接<ul><li>使用 <code>timeout</code> 属性配置超时时间，默认值1000，单位毫秒</li></ul></li></ul></li><li><p>重试</p><ul><li>设置了超时时间，在这个时间段内，无法完成服务访问，则自动断开连接</li><li>如果出现网络抖动，则这一次请求就会失败</li><li>Dubbo 提供重试机制来避免类似问题的发生<ul><li>通过 retries 属性来设置重试次数。默认为 2次</li></ul></li></ul></li><li><p>例：<code>@Service(timeout=3000,retries=2)</code></p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="多版本服务分版本">多版本（服务分版本）<a class="hash-link" href="#多版本服务分版本" title="标题的直接链接">​</a></h4><ul><li>灰度发布<ul><li>当出现新功能时，会让一部分用户先使用新功能，用户反馈没问题时，再将所有用户迁移到新功能</li></ul></li><li>dubbo 中使用 version 属性来设置和调用同一个接口的不同版本<ul><li>例：<ul><li>服务提供者使用：<code>@DubboService(version=2.0)</code></li><li>服务消费者使用：<code>@DubboReference(version=2.0)</code></li></ul></li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="负载均衡">负载均衡<a class="hash-link" href="#负载均衡" title="标题的直接链接">​</a></h4><ul><li><p>参考文档：<a href="https://cn.dubbo.apache.org/zh-cn/overview/core-features/load-balance/" target="_blank" rel="noopener noreferrer">负载均衡 | Apache Dubbo</a></p></li><li><p>使用案例：</p><ul><li><code>@DubboReference(loadbalance = &quot;roundrobin&quot;)</code></li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="集群容错">集群容错<a class="hash-link" href="#集群容错" title="标题的直接链接">​</a></h4><ul><li><p>参考文档：<a href="https://cn.dubbo.apache.org/zh-cn/overview/mannual/java-sdk/advanced-features-and-usage/service/fault-tolerent-strategy/" target="_blank" rel="noopener noreferrer">集群容错 | Apache Dubbo</a></p></li><li><p>集群容错模式</p><ul><li><p>Failover Cluster: 失败重试。</p><ul><li>默认值。当出现失败，重试其它服务器，默认重试2次，使用retries 配置。一般用于读操作</li></ul></li><li><p>Failfast Cluster: 快速失败</p><ul><li>只发起一次调用，失败立即报错通常用于写操作</li></ul></li><li><p>Failsafe Cluster: 失败安全</p><ul><li>出现异常时，直接忽略。返回个空结果</li></ul></li><li><p>FailbackCluster:失败自动恢复</p><ul><li>后台记录失败请求，定时重发</li></ul></li><li><p>Forking Cluster: 并行调用多个服务器，只要一个成功即返回</p></li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="服务降级">服务降级<a class="hash-link" href="#服务降级" title="标题的直接链接">​</a></h4><ul><li>参考文档：<a href="https://cn.dubbo.apache.org/zh-cn/overview/mannual/java-sdk/advanced-features-and-usage/service/service-downgrade/" target="_blank" rel="noopener noreferrer">服务降级 | Apache Dubbo</a></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/category/dubbo"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Dubbo</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#一大型互联网项目架构" class="table-of-contents__link toc-highlight">一、大型互联网项目架构</a><ul><li><a href="#传统项目和互联网项目" class="table-of-contents__link toc-highlight">传统项目和互联网项目</a></li><li><a href="#大型互联网项目架构目标" class="table-of-contents__link toc-highlight">大型互联网项目架构目标</a></li><li><a href="#集群和分布式" class="table-of-contents__link toc-highlight">集群和分布式</a></li><li><a href="#架构演进" class="table-of-contents__link toc-highlight">架构演进</a></li><li><a href="#垂直架构" class="table-of-contents__link toc-highlight">垂直架构</a></li><li><a href="#分布式架构" class="table-of-contents__link toc-highlight">分布式架构</a></li><li><a href="#soa-架构" class="table-of-contents__link toc-highlight">SOA 架构</a></li><li><a href="#微服务架构" class="table-of-contents__link toc-highlight">微服务架构</a></li></ul></li><li><a href="#二dubbo-简介" class="table-of-contents__link toc-highlight">二、Dubbo 简介</a></li><li><a href="#三dubbo-快速入门" class="table-of-contents__link toc-highlight">三、Dubbo 快速入门</a></li><li><a href="#四dubbo-高级特性" class="table-of-contents__link toc-highlight">四、Dubbo 高级特性</a><ul><li><a href="#dubbo-admin" class="table-of-contents__link toc-highlight">dubbo-admin</a></li><li><a href="#dubbo-高级配置" class="table-of-contents__link toc-highlight">dubbo 高级配置</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 HankLay, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ea97327c.js"></script>
<script src="/assets/js/main.aa482c7f.js"></script>
</body>
</html>